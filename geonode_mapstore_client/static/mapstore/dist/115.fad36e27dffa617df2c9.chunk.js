(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[115],{33528:(e,n,t)=>{"use strict";t.d(n,{gJ:()=>r,Oj:()=>o,jp:()=>i,CM:()=>u,DU:()=>l,aO:()=>a,v6:()=>c,K8:()=>s,IN:()=>p,zh:()=>f,AH:()=>y,Ub:()=>d,_9:()=>E,JB:()=>m,oh:()=>b,AY:()=>g,yi:()=>v,SW:()=>R,Hk:()=>h,iQ:()=>_,dY:()=>O,$:()=>T,_u:()=>S,gG:()=>A,DI:()=>w,dZ:()=>I,qw:()=>L,f$:()=>D,bZ:()=>G,$O:()=>U,sF:()=>P,Gk:()=>N,vO:()=>x,ut:()=>F,MK:()=>C,VV:()=>M,B8:()=>j,VM:()=>Y,a3:()=>k,Xp:()=>V,DA:()=>H,sK:()=>B,yA:()=>z,r:()=>W,iB:()=>Q,EH:()=>Z,Yd:()=>$,Hg:()=>K,Lz:()=>X,ye:()=>q,Jb:()=>J,d:()=>ee,fT:()=>ne,Ib:()=>te,Pl:()=>re,UB:()=>oe,Uh:()=>ie,QT:()=>ue,oL:()=>le,Ap:()=>ae,KD:()=>ce,Z_:()=>se,Vw:()=>pe,sY:()=>fe,kA:()=>ye,gr:()=>de,pX:()=>Ee,F5:()=>me,MO:()=>be,dq:()=>ge,DY:()=>ve,oO:()=>Re,uF:()=>he,a8:()=>_e,Pv:()=>Oe,an:()=>Te,lg:()=>Se,nY:()=>Ae,nG:()=>we,lx:()=>Ie,$S:()=>Le,gc:()=>De,Uz:()=>Ge,fO:()=>Ue,$E:()=>Pe,cE:()=>Ne,JK:()=>xe,YV:()=>Fe,t9:()=>Ce,YG:()=>Me,HT:()=>je,MY:()=>Ye,ve:()=>ke,hB:()=>Ve,Ox:()=>He,zd:()=>Be,aT:()=>ze,VH:()=>We,Yb:()=>Qe,Jr:()=>Ze,pP:()=>$e});var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",l="FEATUREGRID:SET_SELECTION_OPTIONS",a="FEATUREGRID:TOGGLE_MODE",c="FEATUREGRID:TOGGLE_FEATURES_SELECTION",s="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",f="FEATUREGRID:SAVE_CHANGES",y="FEATUREGRID:SAVING",d="FEATUREGRID:START_EDITING_FEATURE",E="FEATUREGRID:START_DRAWING_FEATURE",m="FEATUREGRID:DELETE_GEOMETRY",b="FEATUREGRID:DELETE_GEOMETRY_FEATURE",g="FEATUREGRID:SAVE_SUCCESS",v="FEATUREGRID:CLEAR_CHANGES",R="FEATUREGRID:SAVE_ERROR",h="FEATUREGRID:DELETE_SELECTED_FEATURES",_="SET_FEATURES",O="FEATUREGRID:SORT_BY",T="FEATUREGRID:SET_LAYER",S="QUERY:UPDATE_FILTER",A="FEATUREGRID:CHANGE_PAGE",w="FEATUREGRID:GEOMETRY_CHANGED",I="DOCK_SIZE_FEATURES",L="FEATUREGRID:TOGGLE_TOOL",D="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",G="ASK_CLOSE_FEATURE_GRID_CONFIRM",U="FEATUREGRID:OPEN_GRID",P="FEATUREGRID:CLOSE_GRID",N="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",x="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",F="FEATUREGRID:SET_PERMISSION",C="FEATUREGRID:DISABLE_TOOLBAR",M="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",j="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",Y="FEATUREGRID:ADVANCED_SEARCH",k="FEATUREGRID:ZOOM_ALL",V="FEATUREGRID:INIT_PLUGIN",H="FEATUREGRID:SIZE_CHANGE",B="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",z="FEATUREGRID:HIDE_SYNC_POPOVER",W="FEATUREGRID:UPDATE_EDITORS_OPTIONS",Q="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",Z={EDIT:"EDIT",VIEW:"VIEW"},$="FEATUREGRID:START_SYNC_WMS",K="FEATUREGRID:STOP_SYNC_WMS",X="STORE_ADVANCED_SEARCH_FILTER",q="LOAD_MORE_FEATURES",J="FEATUREGRID:QUERY_RESULT",ee="FEATUREGRID:SET_TIME_SYNC",ne="FEATUREGRID:SET_PAGINATION";function te(){return{type:B}}function re(){return{type:z}}function oe(e,n){return{type:J,features:e,pages:n}}function ie(e){return{type:X,filterObj:e}}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:V,options:e}}function le(){return{type:N}}function ae(){return{type:x}}function ce(e,n){return{type:o,features:e,append:n}}function se(e){return{type:r,options:e}}function pe(e){return{type:w,features:e}}function fe(){return{type:d}}function ye(){return{type:E}}function de(e){return{type:i,features:e}}function Ee(){return{type:m}}function me(e){return{type:b,features:e}}function be(){return{type:u}}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.multiselect,t=void 0!==n&&n;return{type:l,multiselect:t}}function ve(e,n){return{type:O,sortBy:e,sortOrder:n}}function Re(e,n){return{type:A,page:e,size:n}}function he(e){return{type:T,id:e}}function _e(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:S,update:e,append:n}}function Oe(e,n){return{type:L,tool:e,value:n}}function Te(e,n,t){return{type:D,name:e,key:n,value:t}}function Se(){return{type:a,mode:Z.EDIT}}function Ae(){return{type:a,mode:Z.VIEW}}function we(e,n){return{type:s,features:e,updated:n}}function Ie(e){return{type:p,features:e}}function Le(){return{type:f}}function De(){return{type:g}}function Ge(){return{type:h}}function Ue(){return{type:y}}function Pe(){return{type:v}}function Ne(){return{type:R}}function xe(){return{type:G}}function Fe(){return{type:P}}function Ce(){return{type:U}}function Me(e){return{type:C,disabled:e}}function je(e){return{type:F,permission:e}}function Ye(){return{type:Y}}function ke(){return{type:k}}function Ve(){return{type:$}}function He(e,n){return{type:H,size:e,dockProps:n}}var Be=function(e){return{type:q,pages:e}},ze=function(e){return{type:M,activated:e}},We=function(e){return{type:j,deactivated:e}},Qe=function(e){return{type:ee,value:e}},Ze=function(e){return{type:ne,size:e}},$e=function(e){return{type:Q,updateFilterAction:e}}},80416:(e,n,t)=>{"use strict";t.d(n,{yS:()=>r,Zz:()=>o,ms:()=>i,ih:()=>u,OX:()=>l,sb:()=>a,K$:()=>c,k7:()=>s,cX:()=>p,x9:()=>f,vs:()=>y,oE:()=>d,Po:()=>E,qv:()=>m,cI:()=>b,g6:()=>g,I4:()=>v,l$:()=>R,Xv:()=>h,k3:()=>_,CQ:()=>O,R8:()=>T,HN:()=>S,sH:()=>A,c7:()=>w,_7:()=>I,eF:()=>L,O6:()=>D,ED:()=>G,RP:()=>U,sF:()=>P,VP:()=>N,He:()=>x,vO:()=>F,WO:()=>C,bh:()=>M,pV:()=>j,MK:()=>Y,ZF:()=>k,tV:()=>V,Dv:()=>H,Yz:()=>B,kI:()=>z,XG:()=>W,A4:()=>Q,Rp:()=>Z,ct:()=>$,oh:()=>K,$h:()=>X,ud:()=>q,Qr:()=>J,LR:()=>ee,nN:()=>ne,UG:()=>te,F5:()=>re,c9:()=>oe,Jh:()=>ie,Xy:()=>ue});var r="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",u="TOGGLE_NODE",l="SORT_NODE",a="REMOVE_NODE",c="UPDATE_NODE",s="MOVE_NODE",p="LAYER_LOADING",f="LAYER_LOAD",y="LAYER_ERROR",d="ADD_LAYER",E="ADD_GROUP",m="REMOVE_LAYER",b="SHOW_SETTINGS",g="HIDE_SETTINGS",v="UPDATE_SETTINGS",R="REFRESH_LAYERS",h="LAYERS:UPDATE_LAYERS_DIMENSION",_="LAYERS_REFRESHED",O="LAYERS_REFRESH_ERROR",T="LAYERS:BROWSE_DATA",S="LAYERS:DOWNLOAD",A="LAYERS:CLEAR_LAYERS",w="LAYERS:SELECT_NODE",I="LAYERS:FILTER_LAYERS",L="LAYERS:SHOW_LAYER_METADATA",D="LAYERS:HIDE_LAYER_METADATA",G="LAYERS:UPDATE_SETTINGS_PARAMS";function U(e,n,t){return{type:b,node:e,nodeType:n,options:t}}function P(){return{type:g}}function N(e){return{type:v,options:e}}function x(e,n){return{type:r,newProperties:n,layer:e}}function F(e,n){return{type:o,layer:e,params:n}}function C(e,n){return{type:i,newProperties:n,group:e}}function M(e,n,t){return{type:u,node:e,nodeType:n,status:!t}}function j(e){return{type:"CONTEXT_NODE",node:e}}function Y(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:l,node:e,order:n,sortLayers:t}}function k(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:a,node:e,nodeType:n,removeEmpty:t}}function V(e,n,t){return{type:c,node:e,nodeType:n,options:t}}function H(e,n,t){return{type:s,node:e,groupId:n,index:t}}function B(e){return{type:p,layerId:e}}function z(e,n){return{type:f,layerId:e,error:n}}function W(e,n,t){return{type:y,layerId:e,tilesCount:n,tilesErrorCount:t}}function Q(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:d,layer:e,foreground:n}}function Z(e,n,t){return{type:E,group:e,parent:n,options:t}}function $(e,n){return{type:r,layer:e,newProperties:{_v_:n||(new Date).getTime()}}}function K(e){return{type:_,layers:e}}function X(e,n){return{type:O,layers:e,error:n}}function q(e,n,t,r){return{type:h,dimension:e,value:n,options:t,layers:r}}function J(e){return{type:T,layer:e}}function ee(e){return{type:S,layer:e}}function ne(){return{type:A}}function te(e,n,t){return{type:w,id:e,nodeType:n,ctrlKey:t}}function re(e){return{type:I,text:e}}function oe(e,n){return{type:L,metadataRecord:e,maskLoading:n}}function ie(){return{type:D}}function ue(e,n){return{type:G,newParams:e,update:n}}},95797:(e,n,t)=>{"use strict";t.d(n,{DR:()=>r,S0:()=>o,u7:()=>i,lj:()=>u,yz:()=>l,lN:()=>a,zW:()=>c,Yx:()=>s,VN:()=>p,Hu:()=>f,VT:()=>y,RD:()=>d,Qq:()=>E,R1:()=>m,_T:()=>b,vO:()=>g,XO:()=>v,jG:()=>R,Xc:()=>h,gT:()=>_,rG:()=>O,t3:()=>T,Fs:()=>S,w_:()=>A,Lm:()=>w,rh:()=>I,rP:()=>L,IO:()=>D,zc:()=>G}),t(75875);var r="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",u="FEATURE_LOADED",l="FEATURE_LOADING",a="FEATURE_TYPE_ERROR",c="FEATURE_ERROR",s="QUERY_CREATE",p="QUERY:UPDATE_QUERY",f="QUERY_RESULT",y="QUERY_ERROR",d="RESET_QUERY",E="QUERY",m="INIT_QUERY_PANEL",b="QUERY:TOGGLE_SYNC_WMS",g="QUERY:TOGGLE_LAYER_FILTER";function v(){return{type:b}}function R(){return{type:g}}function h(){return{type:m}}function _(e,n){return{type:o,url:e,typeName:n}}function O(e,n){return{type:i,typeName:e,featureType:n}}function T(e,n){return{type:a,typeName:e,error:n}}function S(e){return{type:l,isLoading:e}}function A(e,n,t,r,o){return{type:f,searchUrl:n,filterObj:t,result:e,queryOptions:r,reason:o}}function w(e){return{type:y,error:e}}function I(e,n){return{type:p,updates:e,reason:n}}function L(e,n){return{type:s,searchUrl:e,filterObj:n}}function D(e,n,t,r){return{type:E,searchUrl:e,filterObj:n,queryOptions:t,reason:r}}function G(){return{type:d}}},90079:(e,n,t)=>{"use strict";t.d(n,{Z:()=>T});var r=t(72500),o=t.n(r),i=t(80643),u=t.n(i),l=t(27418),a=t.n(l),c=t(45697),s=t.n(c),p=t(24852),f=t.n(p),y=t(33044),d=t(5346);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function b(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,n){return(g=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function v(e,n){return!n||"object"!==E(n)&&"function"!=typeof n?R(e):n}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var O=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&g(e,n)}(c,e);var n,t,r,i,l=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=h(r);if(i){var t=h(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return v(this,e)});function c(){var e;m(this,c);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return _(R(e=l.call.apply(l,[this].concat(t))),"state",{error:!1}),_(R(e),"onImgError",(function(){e.setState((function(){return{error:!0}}))})),_(R(e),"getUrl",(function(e,n){if(e.layer&&"wms"===e.layer.type&&e.layer.url){var t=e.layer,r=n||u()(t.url)&&Math.floor(Math.random()*t.url.length),i=u()(t.url)?t.url[r]:t.url.replace(/[?].*$/g,""),l=o().parse(i),c=(0,y.clearNilValuesForParams)(t.params),s=a()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:e.legendHeight,width:e.legendWidth,layer:t.name,style:t.style||null,version:t.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:e.legendOptions},t.legendParams||{},e.language&&t.localizedLayerStyles?{LANGUAGE:e.language}:{},(0,y.addAuthenticationToSLD)(c||{},e.layer),c&&c.SLD_BODY?{SLD_BODY:c.SLD_BODY}:{},e.scales&&e.currentZoomLvl&&e.scaleDependent?{SCALE:Math.round(e.scales[e.currentZoomLvl])}:{});return(0,y.addAuthenticationParameter)(i,s),o().format({host:l.host,protocol:l.protocol,pathname:l.pathname,query:s})}return""})),_(R(e),"validateImg",(function(n){n.height<=1&&n.width<=2&&e.onImgError()})),e}return n=c,(t=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.error&&this.getUrl(e,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var e=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?f().createElement("img",{onError:this.onImgError,onLoad:function(n){return e.validateImg(n.target)},src:this.getUrl(this.props),style:this.props.style}):f().createElement(d.Z,{msgId:"layerProperties.legenderror"})}}])&&b(n.prototype,t),c}(f().Component);_(O,"propTypes",{layer:s().object,legendHeight:s().number,legendWidth:s().number,legendOptions:s().string,style:s().object,currentZoomLvl:s().number,scales:s().array,scaleDependent:s().bool,language:s().string}),_(O,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const T=O},20115:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>se});var r=t(22843),o=t(51288);function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a=t(24852),c=t.n(a),s=t(71703),p=(t(29944),t(90079));function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function E(e,n){return!n||"object"!==f(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b,g,v,R=t(45697),h=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(u,e);var n,t,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=m(r);if(o){var t=m(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return E(this,e)});function u(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e)).state={},n}return n=u,(t=[{key:"render",value:function(){var e=this;return this.props.visibleLegendPanel?c().createElement("div",{className:"simple-view-panel "+(this.props.searchBarVisible?"legend-panel-with-search":"legend-panel")},c().createElement("div",{className:"row h4 legend-heading"},"Legend",c().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return e.props.setVisibleLegendPanel(!1)}})),this.props.visibleLayers.map((function(e){return"wms"===e.type?c().createElement("div",{key:e.id,className:"row legend-row"},c().createElement("div",{className:"col-sm-7 legend-background"},c().createElement("span",{className:"legend-image"},c().createElement(p.Z,{layer:e,legendHeight:12,legendWidth:12,legendOptions:"dpi:150; countMatched:true; hideEmptyRules:true",scales:[1e5],scaleDependent:!0}))),c().createElement("div",{className:"col-sm-5 legend-text-label"},c().createElement("span",{className:"h5"},e.title))):null}))):c().createElement("div",null,c().createElement("button",{className:"simple-view-menu-button "+(this.props.searchBarVisible?"legend-button-with-search":"legend-button"),onClick:function(){return e.props.setVisibleLegendPanel(!0)}},"Show Legend"))}}])&&y(n.prototype,t),u}(c().Component);b=h,g="propTypes",v={setVisibleLegendPanel:R.func,visibleLegendPanel:R.bool,visibleLayers:R.array,searchBarVisible:R.bool},g in b?Object.defineProperty(b,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):b[g]=v;const _=(0,s.connect)((function(e){var n,t,r,o,i;return{visibleLayers:null==e||null===(n=e.layers)||void 0===n?void 0:n.flat.filter((function(e){return!0===e.visibility&&"background"!==(null==e?void 0:e.group)})),visibleLegendPanel:null==e||null===(t=e.simpleView)||void 0===t?void 0:t.visibleLegendPanel,searchBarVisible:!(null==e||null===(r=e.localConfig)||void 0===r||null===(o=r.plugins)||void 0===o||null===(i=o.map_view)||void 0===i||!i.find((function(e){return"Search"===e.name})))}}),(function(e){return{setVisibleLegendPanel:function(n){return e((0,o.setVisibleLegendPanel)(n))}}}))(h);var O=t(80416),T=t(95797),S=t(33528);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,n){return(I=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function L(e,n){return!n||"object"!==A(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=t(45697),U=t(85552),P=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&I(e,n)}(u,e);var n,t,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=D(r);if(o){var t=D(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return L(this,e)});function u(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e)).state={},n}return n=u,(t=[{key:"render",value:function(){var e,n,t,r=this;return this.props.layer?c().createElement("div",{className:"row menu-row"},c().createElement("span",{className:"pull-left .menu-row-button"},c().createElement("span",{className:"btn glyphicon menu-row-glyph "+(null!==(e=this.props.layer)&&void 0!==e&&e.visibility?"glyphicon-ok":"glyphicon-remove"),style:{color:null!==(n=this.props.layer)&&void 0!==n&&n.visibility?"limegreen":"red"},onClick:function(){var e,n;r.props.toggleLayer(null===(e=r.props.layer)||void 0===e?void 0:e.id,null===(n=r.props.layer)||void 0===n?void 0:n.visibility)}}),this.props.canEdit?c().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-pencil",style:{color:"grey"},onClick:function(){r.props.setOpenMenuGroupId(null),r.props.setPermission({canEdit:!0}),r.props.svSelectLayer(r.props.layer),r.props.browseData(r.props.layer)}}):null,c().createElement("span",{className:"menu-row-text"},this.props.layer.title)),0===this.props.layer.opacity||this.props.layer.opacity?c().createElement("div",{className:"mapstore-slider dataset-transparency with-tooltip",onClick:function(e){e.stopPropagation()}},c().createElement(U,{step:1,start:100*(null===(t=this.props.layer)||void 0===t?void 0:t.opacity),range:{min:0,max:100},onChange:function(e){var n;r.props.setOpacity(null===(n=r.props.layer)||void 0===n?void 0:n.id,e)}})):null):c().createElement("div",{className:"row menu-row"},c().createElement("div",{className:"inline pull-left .menu-row-button"},c().createElement("div",{className:"h5 menu-row-text"},"No datasets here yet...")))}}])&&w(n.prototype,t),u}(c().Component);!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(P,"propTypes",{layer:G.object,svSelectLayer:G.func,toggleLayer:G.func,setOpacity:G.func,setOpenMenuGroupId:G.func,canEdit:G.bool,editLayer:G.func,featureTypeSelected:G.func,browseData:G.func,setPermission:G.func});var N=(0,s.connect)((function(e){var n,t;return{canEdit:!["theswamm.com"].map((function(n){var t;return!(null!=e&&null!==(t=e.gnsettings)&&void 0!==t&&t.geonodeUrl.includes(n))})).includes(!1)&&(null==e||null===(n=e.gnresource)||void 0===n||null===(t=n.permissions)||void 0===t?void 0:t.canEdit)}}),(function(e){return{toggleLayer:function(n,t){return e((0,O.He)(n,{visibility:!t}))},svSelectLayer:function(n){return e((0,o.svSelectLayer)(n))},setOpacity:function(n,t){return e((0,O.He)(n,{opacity:.01*parseFloat(t)}))},setOpenMenuGroupId:function(n){return e((0,o.setOpenMenuGroupId)(n))},featureTypeSelected:function(n,t){return e((0,T.gT)(n,t))},browseData:function(n){return e((0,O.Qr)(n))},setPermission:function(n){return e((0,S.HT)(n))}}}))(P);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function C(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,n){return(M=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function j(e,n){return!n||"object"!==x(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=t(45697),V=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&M(e,n)}(u,e);var n,t,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Y(r);if(o){var t=Y(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return j(this,e)});function u(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return n=u,(t=[{key:"render",value:function(){var e,n=this;return"basemaps"===this.props.openMenuGroupId?c().createElement("div",{className:"menu-rows-container"},this.props.baseMapLayers.map((function(e){return c().createElement(N,{layer:e})}))):0===(null===(e=this.props.layerList)||void 0===e?void 0:e.length)?c().createElement("div",{className:"menu-rows-container"},c().createElement(N,{layer:null})):c().createElement("div",{className:"menu-rows-container"},this.props.layerSubheadings.map((function(e){var t;return c().createElement(c().Fragment,null,c().createElement("h5",null,e),null===(t=n.props.layerList)||void 0===t?void 0:t.filter((function(n){return n.group.split(".")[1]===e})).map((function(e){return c().createElement(N,{layer:e})})))})))}}])&&C(n.prototype,t),u}(c().Component);!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(V,"propTypes",{menuGroups:k.array,flatLayers:k.array,layerList:k.array,layerSubheadings:k.array,menuDatasets:k.array,openMenuGroupId:k.string,baseMapLayers:k.array});var H=(0,s.connect)((function(e){var n,t,r,o,i,u,l,a,c;return{openMenuGroupId:null==e||null===(n=e.simpleView)||void 0===n?void 0:n.openMenuGroupId,menuGroups:null==e||null===(t=e.layers)||void 0===t?void 0:t.groups,flatLayers:null==e||null===(r=e.layers)||void 0===r?void 0:r.flat,layerList:null==e||null===(o=e.layers)||void 0===o||null===(i=o.flat)||void 0===i?void 0:i.filter((function(n){var t,r;return(null==n||null===(t=n.group)||void 0===t?void 0:t.split(".")[0])===(null==e||null===(r=e.simpleView)||void 0===r?void 0:r.openMenuGroupId)})),layerSubheadings:(c=new Set(null==e||null===(u=e.layers)||void 0===u||null===(l=u.flat)||void 0===l?void 0:l.filter((function(n){var t,r;return(null==n||null===(t=n.group)||void 0===t?void 0:t.split(".")[0])===(null==e||null===(r=e.simpleView)||void 0===r?void 0:r.openMenuGroupId)})).map((function(e){return e.group.split(".")[1]}))),function(e){if(Array.isArray(e))return F(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,n){if(e){if("string"==typeof e)return F(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F(e,n):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),baseMapLayers:null==e||null===(a=e.layers)||void 0===a?void 0:a.flat.filter((function(e){return"background"===(null==e?void 0:e.group)}))}}),(function(e){return{}}))(V),B=t(23885);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,n){return(Q=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Z(e,n){return!n||"object"!==z(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=t(45697),X=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Q(e,n)}(u,e);var n,t,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=$(r);if(o){var t=$(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Z(this,e)});function u(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return n=u,(t=[{key:"render",value:function(){var e,n,t,r,o,i=this;return c().createElement("div",{className:"simple-view-panel",id:"simple-view-editor"},c().createElement("div",{className:"row menu-row-header"},null===(e=this.props.selectedLayer)||void 0===e?void 0:e.title,c().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return i.props.svSelectLayer(null)}})),(null===(n=this.props.selectedFeatures)||void 0===n?void 0:n.length)>0?c().createElement("div",{className:"row menu-row"},"Selected: ",null===(t=this.props.selectedFeatures)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.id):c().createElement("div",{className:"row menu-row"},"Select a feature from the map..."),c().createElement("div",{className:"row menu-row"},(null===(o=this.props.selectedFeatures)||void 0===o?void 0:o.length)>0?c().createElement(c().Fragment,null,c().createElement(B.Button,{bsStyle:"info",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.saveChanges()}},"Save Feature"),c().createElement(B.Button,{bsStyle:"danger",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.clearChanges()}},"Cancel")):c().createElement(B.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.createNewFeatures([{}]),i.props.startDrawingFeature()}},"Create Feature")))}}])&&W(n.prototype,t),u}(c().Component);!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(X,"propTypes",{selectedLayer:K.object,selectedFeatures:K.array,svSelectLayer:K.func,createNewFeatures:K.func,saveChanges:K.func,clearChanges:K.func,startDrawingFeature:K.func});var q=(0,s.connect)((function(e){var n,t;return{selectedLayer:null==e||null===(n=e.simpleView)||void 0===n?void 0:n.selectedLayer,selectedFeatures:null==e||null===(t=e.featuregrid)||void 0===t?void 0:t.select}}),(function(e){return{svSelectLayer:function(n){return e((0,o.svSelectLayer)(n))},createNewFeatures:function(n){return e((0,S.lx)(n))},saveChanges:function(){return e((0,S.$S)())},clearChanges:function(){return e((0,S.$E)())},startDrawingFeature:function(){return e((0,S.kA)())}}}))(X);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,n){return(ne=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function te(e,n){return!n||"object"!==J(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ie=t(45697),ue=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ne(e,n)}(u,e);var n,t,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=re(r);if(o){var t=re(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return te(this,e)});function u(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return n=u,(t=[{key:"render",value:function(){var e=this;return c().createElement("div",{id:"simple-view-container"},c().createElement("ul",{className:"menu-groups"},c().createElement("button",{key:"basemaps",className:"simple-view-menu-button",style:{left:20},onClick:function(){var n;e.props.setOpenMenuGroupId(null===(n=e.props.baseMapMenuGroup)||void 0===n?void 0:n.id)}},"BaseMaps"),this.props.menuGroups&&this.props.menuGroups.length&&this.props.menuGroups.map((function(n,t){return c().createElement("button",{key:n.title,className:"simple-view-menu-button",style:{left:100*(t+1)+20},onClick:function(){e.props.setOpenMenuGroupId(n.id)}},n.title)}))),function(){var n;switch(null===(n=e.props)||void 0===n?void 0:n.openMenuGroupId){case null:case void 0:return null;default:return c().createElement("div",{className:"simple-view-panel"},c().createElement(H,null))}}(),c().createElement(_,null),this.props.selectedLayer?c().createElement(q,null):null)}}])&&ee(n.prototype,t),u}(c().Component);oe(ue,"propTypes",{setOpenMenuGroupId:ie.func,menuGroups:ie.array,baseMapMenuGroup:ie.object,openMenuGroupId:ie.string,selectedLayer:ie.object}),oe(ue,"defaultProps",{});const le=(0,s.connect)((function(e){var n,t,r;return{menuGroups:null==e||null===(n=e.layers)||void 0===n?void 0:n.groups,baseMapMenuGroup:{id:"basemaps",title:"Base Maps",name:"basemaps"},openMenuGroupId:null==e||null===(t=e.simpleView)||void 0===t?void 0:t.openMenuGroupId,selectedLayer:null==e||null===(r=e.simpleView)||void 0===r?void 0:r.selectedLayer}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,o.setOpenMenuGroupId)(n))}}}))(ue);var ae=t(49977),ce=t.n(ae);const se=(0,r.rx)("SimpleView",{component:le,reducers:{simpleView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case o.SET_OPEN_MENU_GROUP_ID:return e.openMenuGroupId===n.openMenuGroupId?u(u({},e),{},{openMenuGroupId:null}):u(u({},e),{},{openMenuGroupId:n.openMenuGroupId});case o.SET_VISIBLE_LEGEND_PANEL:return u(u({},e),{},{visibleLegendPanel:n.visible});case o.SV_SELECT_LAYER:return u(u({},e),{},{selectedLayer:n.layer});default:return e}}},epics:{beginEditLayerEpic:function(e){return e.ofType(S.Jb).concatMap((function(e){return console.log("point GRID_QUERY_RESULT",e),ce().Observable.of((0,S.lg)())}))}}})},51288:e=>{var n="SET_OPEN_MENU_GROUP_ID",t="SET_VISIBLE_LEGEND_PANEL",r="SV_SELECT_LAYER";e.exports={SET_OPEN_MENU_GROUP_ID:n,setOpenMenuGroupId:function(e){return{type:n,openMenuGroupId:e}},SET_VISIBLE_LEGEND_PANEL:t,setVisibleLegendPanel:function(e){return{type:t,visible:e}},SV_SELECT_LAYER:r,svSelectLayer:function(e){return{type:r,layer:e}}}},14203:(e,n,t)=>{(e.exports=t(9252)()).push([e.id,".msgapi .simple-view-menu-button {\n    position: absolute;\n    z-index: 1021;\n    top: 11px;\n    width: 85px;\n    height: 50px;\n    background-color: rgba(0, 60, 136, 0.6);\n    border-color: rgba(255, 255, 255, 0.7);\n    border-width: 2px;\n    padding: 3px 5px;\n    font-size: 12px;\n    line-height: 1.3;\n    border-radius: 4px;\n    color: white;\n    text-align: center\n}\n\n.msgapi .simple-view-panel {\n    position: absolute;\n    z-index: 1021;\n    top: 65px;\n    left: 20px;\n    min-width: 500px;\n    background-color: rgba(0, 60, 136, 0.8);\n    border: #ffffff99 solid 1px;\n    border-radius: 4px;\n    padding: 5px 10px;\n    font-size: 12px;\n    line-height: 1.5;\n    color: white;\n    text-align: center;\n}\n\n.msgapi #simple-view-editor > * {\n    text-align: left;\n}\n\n.msgapi .legend-button {\n    right: 60px;\n}\n\n.msgapi .legend-panel {\n    top: 10px;\n    right: 60px;\n    left: unset;\n    text-align: right;\n    padding-bottom: 20px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    max-height: 92%;\n    max-width: 400px;\n}\n\n.msgapi .legend-button-with-seach {\n    top: 65px;\n    right: 15px;\n}\n\n.msgapi .legend-panel-with-seach {\n    top: 65px;\n    right: 15px;\n    left: unset;\n    text-align: right;\n    padding-bottom: 20px;\n    overflow-y: auto;\n    overflow-x: hidden;\n    max-height: 92%;\n    max-width: 400px;\n}\n\n.msgapi .legend-row {\n    padding: 10px;\n    margin: -1px 10px -1px 10px;\n    border: 1px solid #ffffffad;\n    border-radius: 3px;\n}\n\n.msgapi .legend-background {\n    background-color: white;\n    padding: 3px;\n    border-radius: 3px;\n}\n\n.msgapi .legend-image {                                                \n    display: block;\n    text-align: center;\n    margin-left: auto;\n    margin-right: auto;\n    max-width: 80%;\n}\n\n.msgapi .legend-text-label {\n    text-align: left;\n}\n\n.msgapi .legend-heading {\n    text-align: center;\n}\n\n.msgapi .legend-close {\n    position: absolute;\n    right: 0;\n    color: red;\n}\n\n.msgapi .menu-rows-container {\n    border-top: 1px solid #ffffffad;\n}\n\n.msgapi .menu-row {\n    border-bottom: 1px solid #ffffffad;\n    padding-left: 5px;\n    margin: 0;\n}\n\n.msgapi .menu-row-header {\n    font-size: larger;\n    border-bottom: 2px solid #ffffffad;\n    padding-left: 5px;\n    margin: 0;\n}\n\n.msgapi .menu-row-button {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n\n.msgapi .menu-row-glyph {\n    background: #ffffff;\n    border-radius: 3px;\n    margin: 2px 5px 4px 0;\n    color: limegreen;\n    font-size: 14px;\n    padding: 0 4px;\n}\n\n.msgapi .menu-row-text {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n}\n\n.msgapi .dataset-transparency {\n    margin-left: 330px;\n    margin-top: 15px;\n}\n\n.msgapi .mapstore-slider.with-tooltip.dataset-transparency .noUi-target.noUi-horizontal .noUi-base .noUi-origin .noUi-handle {\n    width: 20px;\n    left: -10px;\n    border: 2px solid #dddddd;\n    border-radius: 10px;\n    cursor: default;\n}\n\n.msgapi .mapstore-slider.with-tooltip.dataset-transparency .noUi-target {\n    box-shadow: none;\n    border: 1px solid rgba(255, 255, 255, 0.68);\n    background-color: #335781;\n}",""])},29944:(e,n,t)=>{var r=t(14203);"string"==typeof r&&(r=[[e.id,r,""]]),t(14246)(r,{}),r.locals&&(e.exports=r.locals)}}]);