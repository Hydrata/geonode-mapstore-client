(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1732],{21262:(e,t,n)=>{var r=n(46553);e.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var u=e[o],l=t(u);if(null!=l&&(void 0===a?l==l&&!r(l):n(l,a)))var a=l,s=u}return s}},85812:e=>{e.exports=function(e,t){return e<t}},77820:(e,t,n)=>{var r=n(59130),o=n(71445);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},84847:(e,t,n)=>{var r=n(54528),o=n(83733),i=n(77820),u=n(65491),l=n(75542),a=n(80961),s=n(70475);e.exports=function(e,t,n){var c=-1;t=r(t.length?t:[s],l(o));var E=i(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++c,value:e}}));return u(E,(function(e,t){return a(e,t,n)}))}},65491:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},57312:(e,t,n)=>{var r=n(46553);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e==e,u=r(e),l=void 0!==t,a=null===t,s=t==t,c=r(t);if(!a&&!c&&!u&&e>t||u&&l&&s&&!a&&!c||o&&l&&s||!n&&s||!i)return 1;if(!o&&!u&&!c&&e<t||c&&n&&i&&!o&&!u||a&&n&&i||!l&&i||!s)return-1}return 0}},80961:(e,t,n)=>{var r=n(57312);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,u=t.criteria,l=i.length,a=n.length;++o<l;){var s=r(i[o],u[o]);if(s)return o>=a?s:s*("desc"==n[o]?-1:1)}return e.index-t.index}},33398:(e,t,n)=>{var r=n(94753),o=n(84847),i=n(98554),u=n(85270),l=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&u(e,t[0],t[1])?t=[]:n>2&&u(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=l},33528:(e,t,n)=>{"use strict";n.d(t,{gJ:()=>r,Oj:()=>o,jp:()=>i,CM:()=>u,DU:()=>l,aO:()=>a,v6:()=>s,K8:()=>c,IN:()=>E,zh:()=>p,AH:()=>f,Ub:()=>d,_9:()=>y,JB:()=>v,oh:()=>T,AY:()=>R,yi:()=>_,SW:()=>S,Hk:()=>m,iQ:()=>b,dY:()=>I,$:()=>O,_u:()=>A,gG:()=>h,DI:()=>j,dZ:()=>D,qw:()=>g,f$:()=>U,bZ:()=>F,$O:()=>C,sF:()=>G,Gk:()=>Y,vO:()=>w,ut:()=>L,MK:()=>N,VV:()=>x,B8:()=>P,VM:()=>B,a3:()=>M,Xp:()=>k,DA:()=>K,sK:()=>z,yA:()=>V,r:()=>H,iB:()=>X,EH:()=>q,Yd:()=>Q,Hg:()=>W,Lz:()=>Z,ye:()=>J,Jb:()=>$,d:()=>ee,fT:()=>te,Ib:()=>ne,Pl:()=>re,UB:()=>oe,Uh:()=>ie,QT:()=>ue,oL:()=>le,Ap:()=>ae,KD:()=>se,Z_:()=>ce,Vw:()=>Ee,sY:()=>pe,kA:()=>fe,gr:()=>de,pX:()=>ye,F5:()=>ve,MO:()=>Te,dq:()=>Re,DY:()=>_e,oO:()=>Se,uF:()=>me,a8:()=>be,Pv:()=>Ie,an:()=>Oe,lg:()=>Ae,nY:()=>he,nG:()=>je,lx:()=>De,$S:()=>ge,gc:()=>Ue,Uz:()=>Fe,fO:()=>Ce,$E:()=>Ge,cE:()=>Ye,JK:()=>we,YV:()=>Le,t9:()=>Ne,YG:()=>xe,HT:()=>Pe,MY:()=>Be,ve:()=>Me,hB:()=>ke,Ox:()=>Ke,zd:()=>ze,aT:()=>Ve,VH:()=>He,Yb:()=>Xe,Jr:()=>qe,pP:()=>Qe});var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",l="FEATUREGRID:SET_SELECTION_OPTIONS",a="FEATUREGRID:TOGGLE_MODE",s="FEATUREGRID:TOGGLE_FEATURES_SELECTION",c="FEATUREGRID:FEATURES_MODIFIED",E="FEATUREGRID:NEW_FEATURE",p="FEATUREGRID:SAVE_CHANGES",f="FEATUREGRID:SAVING",d="FEATUREGRID:START_EDITING_FEATURE",y="FEATUREGRID:START_DRAWING_FEATURE",v="FEATUREGRID:DELETE_GEOMETRY",T="FEATUREGRID:DELETE_GEOMETRY_FEATURE",R="FEATUREGRID:SAVE_SUCCESS",_="FEATUREGRID:CLEAR_CHANGES",S="FEATUREGRID:SAVE_ERROR",m="FEATUREGRID:DELETE_SELECTED_FEATURES",b="SET_FEATURES",I="FEATUREGRID:SORT_BY",O="FEATUREGRID:SET_LAYER",A="QUERY:UPDATE_FILTER",h="FEATUREGRID:CHANGE_PAGE",j="FEATUREGRID:GEOMETRY_CHANGED",D="DOCK_SIZE_FEATURES",g="FEATUREGRID:TOGGLE_TOOL",U="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",F="ASK_CLOSE_FEATURE_GRID_CONFIRM",C="FEATUREGRID:OPEN_GRID",G="FEATUREGRID:CLOSE_GRID",Y="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",w="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",L="FEATUREGRID:SET_PERMISSION",N="FEATUREGRID:DISABLE_TOOLBAR",x="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",P="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",B="FEATUREGRID:ADVANCED_SEARCH",M="FEATUREGRID:ZOOM_ALL",k="FEATUREGRID:INIT_PLUGIN",K="FEATUREGRID:SIZE_CHANGE",z="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",V="FEATUREGRID:HIDE_SYNC_POPOVER",H="FEATUREGRID:UPDATE_EDITORS_OPTIONS",X="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",q={EDIT:"EDIT",VIEW:"VIEW"},Q="FEATUREGRID:START_SYNC_WMS",W="FEATUREGRID:STOP_SYNC_WMS",Z="STORE_ADVANCED_SEARCH_FILTER",J="LOAD_MORE_FEATURES",$="FEATUREGRID:QUERY_RESULT",ee="FEATUREGRID:SET_TIME_SYNC",te="FEATUREGRID:SET_PAGINATION";function ne(){return{type:z}}function re(){return{type:V}}function oe(e,t){return{type:$,features:e,pages:t}}function ie(e){return{type:Z,filterObj:e}}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:k,options:e}}function le(){return{type:Y}}function ae(){return{type:w}}function se(e,t){return{type:o,features:e,append:t}}function ce(e){return{type:r,options:e}}function Ee(e){return{type:j,features:e}}function pe(){return{type:d}}function fe(){return{type:y}}function de(e){return{type:i,features:e}}function ye(){return{type:v}}function ve(e){return{type:T,features:e}}function Te(){return{type:u}}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:l,multiselect:n}}function _e(e,t){return{type:I,sortBy:e,sortOrder:t}}function Se(e,t){return{type:h,page:e,size:t}}function me(e){return{type:O,id:e}}function be(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:A,update:e,append:t}}function Ie(e,t){return{type:g,tool:e,value:t}}function Oe(e,t,n){return{type:U,name:e,key:t,value:n}}function Ae(){return{type:a,mode:q.EDIT}}function he(){return{type:a,mode:q.VIEW}}function je(e,t){return{type:c,features:e,updated:t}}function De(e){return{type:E,features:e}}function ge(){return{type:p}}function Ue(){return{type:R}}function Fe(){return{type:m}}function Ce(){return{type:f}}function Ge(){return{type:_}}function Ye(){return{type:S}}function we(){return{type:F}}function Le(){return{type:G}}function Ne(){return{type:C}}function xe(e){return{type:N,disabled:e}}function Pe(e){return{type:L,permission:e}}function Be(){return{type:B}}function Me(){return{type:M}}function ke(){return{type:Q}}function Ke(e,t){return{type:K,size:e,dockProps:t}}var ze=function(e){return{type:J,pages:e}},Ve=function(e){return{type:x,activated:e}},He=function(e){return{type:P,deactivated:e}},Xe=function(e){return{type:ee,value:e}},qe=function(e){return{type:te,size:e}},Qe=function(e){return{type:X,updateFilterAction:e}}},21914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>o,km:()=>i,Ih:()=>u,Xw:()=>l,Pn:()=>a,DZ:()=>s,e8:()=>c,E0:()=>E,F9:()=>p,X_:()=>f,pb:()=>d,qb:()=>y,Re:()=>v,ih:()=>T,xy:()=>R,jL:()=>_,oz:()=>S,ph:()=>m,lF:()=>b,gG:()=>I,cb:()=>O,GI:()=>A,B1:()=>h,fv:()=>j,gc:()=>D,zX:()=>g,ZF:()=>U,Zb:()=>F,Fm:()=>C,sV:()=>G,Mn:()=>Y,LU:()=>w,XP:()=>L,WU:()=>N,JB:()=>x,g:()=>P,ws:()=>B,HP:()=>M,aN:()=>k,Pg:()=>z,u0:()=>V,TM:()=>H,PM:()=>X,lK:()=>q,sv:()=>Q,MO:()=>W,oO:()=>Z,Mc:()=>J,Zw:()=>$,RA:()=>ee,am:()=>te,ZM:()=>ne,wm:()=>re,Y$:()=>oe});var r=n(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",u="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",a="NEW_MAPINFO_REQUEST",s="PURGE_MAPINFO_RESULTS",c="CHANGE_MAPINFO_FORMAT",E="SHOW_MAPINFO_MARKER",p="HIDE_MAPINFO_MARKER",f="SHOW_REVERSE_GEOCODE",d="HIDE_REVERSE_GEOCODE",y="GET_VECTOR_INFO",v="NO_QUERYABLE_LAYERS",T="CLEAR_WARNING",R="FEATURE_INFO_CLICK",_="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",S="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",m="TOGGLE_MAPINFO_STATE",b="UPDATE_CENTER_TO_MARKER",I="IDENTIFY:CHANGE_PAGE",O="IDENTIFY:CLOSE_IDENTIFY",A="IDENTIFY:CHANGE_FORMAT",h="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",j="IDENTIFY:EDIT_LAYER_FEATURES",D="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",g="IDENTIFY:SET_MAP_TRIGGER",U="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",F="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function C(e,t,n,r,i){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:i}}function G(e,t,n,r){return{type:i,error:t,reqId:e,requestParams:n,layerMetadata:r}}function Y(e,t,n,r){return{type:u,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function w(){return{type:v}}function L(){return{type:T}}function N(e,t){return{type:a,reqId:e,request:t}}function x(e,t,n,r){return{type:y,layer:e,request:t,metadata:n,queryableLayers:r}}function P(){return{type:s}}function B(e){return{type:c,infoFormat:e}}function M(){return{type:E}}function k(){return{type:p}}function K(e){return{type:f,reverseGeocodeData:e.data}}function z(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(K(e))})).catch((function(e){t(K(e))}))}}function V(){return{type:d}}function H(){return{type:m}}function X(e){return{type:b,status:e}}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:R,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}}function Q(e){return{type:_,point:e}}function W(e){return{type:S,enabled:e}}function Z(e){return{type:I,index:e}}var J=function(){return{type:O}},$=function(e){return{type:A,format:e}},ee=function(e){return{type:h,showCoordinateEditor:e}},te=function(e){return{type:j,layer:e}},ne=function(e){return{type:D,query:e}},re=function(e){return{type:g,trigger:e}},oe=function(e){return{type:F,value:e}}},95797:(e,t,n)=>{"use strict";n.d(t,{DR:()=>r,S0:()=>o,u7:()=>i,lj:()=>u,yz:()=>l,lN:()=>a,zW:()=>s,Yx:()=>c,VN:()=>E,Hu:()=>p,VT:()=>f,RD:()=>d,Qq:()=>y,R1:()=>v,_T:()=>T,vO:()=>R,XO:()=>_,jG:()=>S,Xc:()=>m,gT:()=>b,rG:()=>I,t3:()=>O,Fs:()=>A,w_:()=>h,Lm:()=>j,rh:()=>D,rP:()=>g,IO:()=>U,zc:()=>F}),n(75875);var r="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",u="FEATURE_LOADED",l="FEATURE_LOADING",a="FEATURE_TYPE_ERROR",s="FEATURE_ERROR",c="QUERY_CREATE",E="QUERY:UPDATE_QUERY",p="QUERY_RESULT",f="QUERY_ERROR",d="RESET_QUERY",y="QUERY",v="INIT_QUERY_PANEL",T="QUERY:TOGGLE_SYNC_WMS",R="QUERY:TOGGLE_LAYER_FILTER";function _(){return{type:T}}function S(){return{type:R}}function m(){return{type:v}}function b(e,t){return{type:o,url:e,typeName:t}}function I(e,t){return{type:i,typeName:e,featureType:t}}function O(e,t){return{type:a,typeName:e,error:t}}function A(e){return{type:l,isLoading:e}}function h(e,t,n,r,o){return{type:p,searchUrl:t,filterObj:n,result:e,queryOptions:r,reason:o}}function j(e){return{type:f,error:e}}function D(e,t){return{type:E,updates:e,reason:t}}function g(e,t){return{type:c,searchUrl:e,filterObj:t}}function U(e,t,n,r){return{type:y,searchUrl:e,filterObj:t,queryOptions:n,reason:r}}function F(){return{type:d}}},47310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(75875),o=n.n(r),i=n(72500),u=n.n(i),l=n(27418),a=n.n(l),s={format:"json",bounded:0,polygon_geojson:1,priority:5};const c={geocode:function(e,t){var n=a()({q:e},s,t||{}),r=u().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=a()({lat:e.lat,lon:e.lng},t||{},s),r=u().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},83589:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>X});var r=n(22843),o=n(85634);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){var t={};return e.map((function(e){var n,r,o,i=null==e||null===(n=e.properties)||void 0===n?void 0:n.site_id;t[i]={data:[]};var u=[];null===(r=JSON.parse(null==e||null===(o=e.properties)||void 0===o?void 0:o.activities))||void 0===r||r.map((function(e){var n,r,o,l,a=null==e||null===(n=e.outputs)||void 0===n||null===(r=n[0])||void 0===r||null===(o=r.data)||void 0===o?void 0:o.dataList,s=a.map((function(e){return e.key}));s.indexOf("eventDate")>-1?l="eventDate":s.indexOf("surveyDate")>-1?l="surveyDate":s.indexOf("observationDate")>-1&&(l="observationDate");var c=a.filter((function(e){return e.key===l}))[0].value,E=Date.parse(c),p=t[i].data.filter((function(e){return e.time===E}))[0]||{};p.time=E,s.map((function(e){var t=a.filter((function(t){return t.key===e}))[0].value;parseFloat(t)&&(p[e]=parseFloat(t),-1===u.indexOf(e)&&u.push(e))})),t[i].data.push(p)})),t[i].availableXKeys=["time"],t[i].availableYKeys=u})),t},s=n(24852),c=n.n(s),E=n(71703),p=n(23885),f=n(30381),d=n.n(f);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(70613);var m=n(45697),b=n(48465),I=b.ScatterChart,O=b.Scatter,A=(b.LineChart,b.Line,b.CartesianGrid),h=(b.Label,b.Pie,b.ResponsiveContainer),j=b.XAxis,D=b.YAxis,g=b.Legend,U=b.Tooltip,F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={},t}return t=u,(n=[{key:"render",value:function(){var e,t,n,r,o,i,u=this;return c().createElement(p.Modal,{show:!0,dialogClassName:"biocollect-modal",style:{top:"60px",width:"100%",minHeight:"500px"}},c().createElement(p.Modal.Header,null,c().createElement(p.Modal.Title,{style:{textAlign:"center"}},c().createElement("h4",{style:{padding:"0",margin:"0"}},(null===(e=this.props.currentBiocollectSurveySite)||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.name)||"Select a Site"))),c().createElement(p.Modal.Body,null,c().createElement(p.Grid,null,c().createElement(p.Col,{sm:2,style:{maxHeight:"800px",overflowY:"scroll"}},c().createElement(p.Row,{className:"well",style:{paddingTop:"0"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"10px",margin:"0",textAlign:"center",fontSize:"14px"}},"Select Site"),c().createElement(p.ButtonGroup,null,null===(n=this.props.swampsSurveyData)||void 0===n?void 0:n.map((function(e){return c().createElement(p.Button,{bsStyle:"info",bsSize:"xsmall",block:!0,onClick:function(){var t;return u.props.setCurrentBiocollectSurveySiteId(null==e||null===(t=e.properties)||void 0===t?void 0:t.site_id)},style:{width:"150px",marginTop:"4px",fontSize:"x-small",borderRadius:"3px",overflow:"hidden"}},e.properties.name)})))),c().createElement(p.Row,{className:"well",style:{paddingTop:"20px"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"10px",margin:"0",textAlign:"center",fontSize:"14px"}},"Select Y data:"),c().createElement(p.ButtonGroup,null,null===(r=this.props.availableYKeys)||void 0===r?void 0:r.map((function(e){return c().createElement(p.Button,{bsStyle:"success",bsSize:"xsmall",block:!0,onClick:function(){return u.props.setSelectedYKey(e)},style:{width:"150px",marginTop:"4px",fontSize:"x-small",borderRadius:"3px",overflow:"hidden"}},e)})))),c().createElement(p.Row,{className:"well",style:{paddingTop:"20px"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"10px",margin:"0",textAlign:"center",fontSize:"14px"}},"Select X data:"),c().createElement(p.ButtonGroup,null,null===(o=this.props.availableXKeys)||void 0===o?void 0:o.map((function(e){return c().createElement(p.Button,{bsStyle:"success",bsSize:"xsmall",block:!0,onClick:function(){return u.props.setSelectedXKey(e)},style:{width:"150px",marginTop:"4px",fontSize:"x-small",borderRadius:"3px",overflow:"hidden"}},e)}))))),c().createElement(p.Col,{sm:9},c().createElement(h,{width:"95%",height:500},c().createElement(I,null,c().createElement(j,{dataKey:this.props.selectedXKey,domain:["auto","auto"],name:this.props.selectedXKey,tickFormatter:function(e){return d()(e).format("HH:mm Do MMM YYYY")},type:"number",label:{value:"Pages",position:"insideBottomRight",offset:0}}),c().createElement(D,{dataKey:this.props.selectedYKey,name:this.props.selectedYKey,label:{value:"Index",angle:-90,position:"insideLeft"}}),c().createElement(A,{stroke:"#ccc",strokeDasharray:"5 5"}),c().createElement(O,{data:this.props.lineChartData,line:{stroke:"#8884d8"},shape:"circle",fill:"#82ca9d",lineType:"joint",name:this.props.selectedYKey}),c().createElement(U,{formatter:function(e,t,n){return d()(e).format("DD MMM YYYY")}}),c().createElement(g,null))),null===(i=this.props.swampsSurveyData)||void 0===i?void 0:i.map((function(e){var t;return e.properties.site_id===u.props.currentBiocollectSurveySiteId?c().createElement("div",null,JSON.parse(null==e||null===(t=e.properties)||void 0===t?void 0:t.activities).map((function(e){var t,n,r,o,i,l;return c().createElement(c().Fragment,null,c().createElement("pre",null,null==e||null===(t=e.outputs)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.name," -- ActivityId: ",null==e?void 0:e.activityId,null==e||null===(r=e.outputs)||void 0===r||null===(o=r[0])||void 0===o||null===(i=o.data)||void 0===i||null===(l=i.dataList)||void 0===l?void 0:l.map((function(e){return e.key===(u.props.selectedYKey||"time")?c().createElement("p",null,e.key,": ",JSON.stringify(e.value)):null}))))}))):null}))))),c().createElement(p.Modal.Footer,null,c().createElement(p.Button,{bsStyle:"danger",bsSize:"small",style:{opacity:"0.7"},onClick:function(){return u.props.setVisibleBiocollectChart(!1)}},"Close")))}}])&&v(t.prototype,n),u}(c().Component);S(F,"propTypes",{setVisibleBiocollectChart:m.func,setCurrentBiocollectSurveySiteId:m.func,visibleBiocollectChart:m.bool,currentBiocollectSurveySiteId:m.string,currentBiocollectSurveySite:m.object,swampsSurveyData:m.array,lineChartData:m.array,setSelectedXKey:m.func,setSelectedYKey:m.func,availableXKeys:m.array,availableYKeys:m.array,selectedXKey:m.string,selectedYKey:m.string}),S(F,"defaultProps",{});const C=(0,E.connect)((function(e){var t,n,r,o,i,u,l,a,s,c,E,p,f,d,y,v,T,R,_;return{currentBiocollectSurveySiteId:null==e||null===(t=e.biocollect)||void 0===t?void 0:t.currentBiocollectSurveySiteId,currentBiocollectSurveySite:null==e||null===(n=e.biocollect)||void 0===n||null===(r=n.swampsSurveyData)||void 0===r?void 0:r.filter((function(t){var n;return t.properties.site_id===(null==e||null===(n=e.biocollect)||void 0===n?void 0:n.currentBiocollectSurveySiteId)}))[0],visibleBiocollectChart:null==e||null===(o=e.biocollect)||void 0===o?void 0:o.visibleBiocollectChart,swampsSurveyData:null==e||null===(i=e.biocollect)||void 0===i?void 0:i.swampsSurveyData,selectedXKey:(null==e||null===(u=e.biocollect)||void 0===u?void 0:u.selectedXKey)||"time",selectedYKey:(null==e||null===(l=e.biocollect)||void 0===l?void 0:l.selectedYKey)||"",availableXKeys:(null==e||null===(a=e.biocollect)||void 0===a||null===(s=a.processedSwampsSurveyData)||void 0===s||null===(c=s[null==e||null===(E=e.biocollect)||void 0===E?void 0:E.currentBiocollectSurveySiteId])||void 0===c?void 0:c.availableXKeys)||["time"],availableYKeys:(null==e||null===(p=e.biocollect)||void 0===p||null===(f=p.processedSwampsSurveyData)||void 0===f||null===(d=f[null==e||null===(y=e.biocollect)||void 0===y?void 0:y.currentBiocollectSurveySiteId])||void 0===d?void 0:d.availableYKeys)||[],lineChartData:(null==e||null===(v=e.biocollect)||void 0===v||null===(T=v.processedSwampsSurveyData)||void 0===T||null===(R=T[null==e||null===(_=e.biocollect)||void 0===_?void 0:_.currentBiocollectSurveySiteId])||void 0===R?void 0:R.data)||[]}}),(function(e){return{setVisibleBiocollectChart:function(t){return e((0,o.setVisibleBiocollectChart)(t))},setCurrentBiocollectSurveySiteId:function(t){return e((0,o.setCurrentBiocollectSurveySiteId)(t))},setSelectedXKey:function(t){return e((0,o.setSelectedXKey)(t))},setSelectedYKey:function(t){return e((0,o.setSelectedYKey)(t))}}}))(F);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=n(45697),B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(r);if(o){var n=N(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return t=u,(n=[{key:"render",value:function(){return c().createElement("div",{id:"biocollect-container"},this.props.visibleBiocollectChart?c().createElement(C,null):null)}}])&&Y(t.prototype,n),u}(c().Component);x(B,"propTypes",{visibleBiocollectChart:P.bool}),x(B,"defaultProps",{});const M=(0,E.connect)((function(e){var t;return console.log("state for Biocollect:",e),{visibleBiocollectChart:null==e||null===(t=e.biocollect)||void 0===t?void 0:t.visibleBiocollectChart}}),(function(e){return{}}))(B);var k=n(49977),K=n.n(k),z=n(21914),V=n(33528),H=n(95797);const X=(0,r.rx)("Biocollect",{component:M,reducers:{biocollect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case o.SET_CURRENT_BIOCOLLECT_SURVEY_SITE_ID:return u(u({},e),{},{currentBiocollectSurveySiteId:t.currentBiocollectSurveySiteId});case o.SAVE_SWAMPS_SURVEY_QUERY_TO_STORE:return u(u({},e),{},{swampsSurveyData:t.swampsSurveyData,processedSwampsSurveyData:a(t.swampsSurveyData)});case o.SET_VISIBLE_BIOCOLLECT_CHART:return u(u({},e),{},{visibleBiocollectChart:t.visible});case o.SET_SELECTED_X_KEY:return u(u({},e),{},{selectedXKey:t.selectedXKey});case o.SET_SELECTED_Y_KEY:return u(u({},e),{},{selectedYKey:t.selectedYKey});default:return e}}},epics:{queryLayerAttributesToStoreStep1:function(e,t){return e.ofType(z.XL).filter((function(e){var t,n,r,o;return null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.features)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&null!==(o=r.id)&&void 0!==o&&o.includes("swamps_surveysite")?e:null})).mergeMap((function(e){var n,r,i,u,l,a;return K().Observable.merge(K().Observable.of((0,o.setVisibleBiocollectChart)(!0)),K().Observable.of((0,o.setCurrentBiocollectSurveySiteId)(null==e||null===(n=e.data)||void 0===n||null===(r=n.features)||void 0===r||null===(i=r[0])||void 0===i||null===(u=i.properties)||void 0===u?void 0:u.site_id)),K().Observable.of((0,z.Mc)()),K().Observable.of((0,V.uF)(null==e?void 0:e.layer.id)),K().Observable.of((0,H.gT)((null===(l=t.getState())||void 0===l||null===(a=l.gnsettings)||void 0===a?void 0:a.geoserverUrl)+"/wfs","geonode:swamps_surveysite")))}))},queryLayerAttributesToStoreStep2:function(e,t){return e.ofType(H.u7).filter((function(e){var t;return null!=e&&null!==(t=e.typeName)&&void 0!==t&&t.includes("swamps_surveysite")?e:null})).mergeMap((function(e){var n,r;return K().Observable.of((0,H.IO)((null===(n=t.getState())||void 0===n||null===(r=n.gnsettings)||void 0===r?void 0:r.geoserverUrl)+"/ows",{featureTypeName:e.typeName,filterType:"OGC",ogcVersion:"1.1.0",pagination:{startIndex:0,maxFeatures:2e3}},{},"swamps: get swamps_surveysite data"))}))},queryLayerAttributesToStoreStep3:function(e,t){return e.ofType(H.Hu).filter((function(e){return"swamps: get swamps_surveysite data"===(null==e?void 0:e.reason)})).mergeMap((function(e){return K().Observable.of((0,o.saveSwampsQueryToStore)(e.result.features))}))}}})},85634:e=>{var t="SET_VISIBLE_BIOCOLLECT_CHART",n="SAVE_SWAMPS_SURVEY_QUERY_TO_STORE",r="SET_CURRENT_BIOCOLLECT_SURVEY_SITE_ID",o="SET_SELECTED_X_KEY",i="SET_SELECTED_Y_KEY";e.exports={SET_VISIBLE_BIOCOLLECT_CHART:t,setVisibleBiocollectChart:function(e){return{type:t,visible:e}},SET_CURRENT_BIOCOLLECT_SURVEY_SITE_ID:r,setCurrentBiocollectSurveySiteId:function(e){return{type:r,currentBiocollectSurveySiteId:e}},SAVE_SWAMPS_SURVEY_QUERY_TO_STORE:n,saveSwampsQueryToStore:function(e){return{type:n,swampsSurveyData:e}},SET_SELECTED_X_KEY:o,setSelectedXKey:function(e){return{type:o,selectedXKey:e}},SET_SELECTED_Y_KEY:i,setSelectedYKey:function(e){return{type:i,selectedYKey:e}}}},34088:e=>{e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},96515:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .biocollect-modal {\n    position: absolute;\n    z-index: 1021;\n    top: 11px;\n    width: 100%;\n    height: 500px;\n    background-color: rgba(0, 60, 136, 0.6);\n    border-color: rgba(255, 255, 255, 0.7);\n    border-width: 2px;\n    padding: 3px 5px;\n    font-size: 12px;\n    line-height: 1.3;\n    border-radius: 4px;\n    color: red;\n    text-align: center;\n}\n\n.msgapi #test {\n    color: red;\n}",""])},45177:(e,t,n)=>{"use strict";var r=n(29059);t.__esModule=!0,t.default=void 0;var o,i=r(n(50139)),u="clearTimeout",l=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),r=setTimeout(e,n);return s=t,r},a=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=a(e,"request");if(t in window)return u=a(e,"cancel"),l=function(e){return window[t](e)}}));var s=(new Date).getTime();(o=function(e){return l(e)}).cancel=function(e){window[u]&&"function"==typeof window[u]&&window[u](e)};var c=o;t.default=c,e.exports=t.default},73759:e=>{"use strict";e.exports=function(e,t,n,r,o,i,u,l){if(!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,u,l],c=0;(a=new Error(t.replace(/%s/g,(function(){return s[c++]})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},46700:(e,t,n)=>{var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-nz":76319,"./en-nz.js":76319,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-tw":74152,"./zh-tw.js":74152};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=46700},70613:(e,t,n)=>{var r=n(96515);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)}}]);