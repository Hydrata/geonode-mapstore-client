(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2164],{4206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>l,DI:()=>a,IC:()=>i,Vw:()=>p,KD:()=>d,uj:()=>m,lo:()=>c,Yf:()=>_,fo:()=>f,PY:()=>E,bp:()=>v});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",l="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",i="DRAW:DRAW_SUPPORT_STOPPED",s="DRAW:FEATURES_SELECTED",u="DRAW:DRAWING_FEATURES";function p(e,t,r,n,o){return{type:a,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:s,features:e}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:u,features:e}}function c(){return{type:i}}function _(e,t,r,o,l,a){return{type:n,status:e,method:t,owner:r,features:o,options:l,style:a}}function f(e,t){return{type:o,geometry:e,owner:t}}function E(e){return{type:l,currentStyle:e}}var v=function(e){return _("clean","",e,[],{})}},33528:(e,t,r)=>{"use strict";r.d(t,{gJ:()=>n,Oj:()=>o,jp:()=>l,CM:()=>a,DU:()=>i,aO:()=>s,v6:()=>u,K8:()=>p,IN:()=>d,zh:()=>m,AH:()=>c,Ub:()=>_,_9:()=>f,JB:()=>E,oh:()=>v,AY:()=>g,yi:()=>y,SW:()=>h,Hk:()=>b,iQ:()=>F,dY:()=>T,$:()=>S,_u:()=>B,gG:()=>R,DI:()=>w,dZ:()=>C,qw:()=>M,f$:()=>A,bZ:()=>O,$O:()=>P,sF:()=>I,Gk:()=>D,vO:()=>x,ut:()=>N,MK:()=>G,VV:()=>L,B8:()=>U,VM:()=>k,a3:()=>H,Xp:()=>j,DA:()=>W,sK:()=>Y,yA:()=>z,r:()=>q,iB:()=>V,EH:()=>K,Yd:()=>$,Hg:()=>X,Lz:()=>Z,ye:()=>Q,Jb:()=>J,d:()=>ee,fT:()=>te,Ib:()=>re,Pl:()=>ne,UB:()=>oe,Uh:()=>le,QT:()=>ae,oL:()=>ie,Ap:()=>se,KD:()=>ue,Z_:()=>pe,Vw:()=>de,sY:()=>me,kA:()=>ce,gr:()=>_e,pX:()=>fe,F5:()=>Ee,MO:()=>ve,dq:()=>ge,DY:()=>ye,oO:()=>he,uF:()=>be,a8:()=>Fe,Pv:()=>Te,an:()=>Se,lg:()=>Be,nY:()=>Re,nG:()=>we,lx:()=>Ce,$S:()=>Me,gc:()=>Ae,Uz:()=>Oe,fO:()=>Pe,$E:()=>Ie,cE:()=>De,JK:()=>xe,YV:()=>Ne,t9:()=>Ge,YG:()=>Le,HT:()=>Ue,MY:()=>ke,ve:()=>He,hB:()=>je,Ox:()=>We,zd:()=>Ye,aT:()=>ze,VH:()=>qe,Yb:()=>Ve,Jr:()=>Ke,pP:()=>$e});var n="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",l="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",i="FEATUREGRID:SET_SELECTION_OPTIONS",s="FEATUREGRID:TOGGLE_MODE",u="FEATUREGRID:TOGGLE_FEATURES_SELECTION",p="FEATUREGRID:FEATURES_MODIFIED",d="FEATUREGRID:NEW_FEATURE",m="FEATUREGRID:SAVE_CHANGES",c="FEATUREGRID:SAVING",_="FEATUREGRID:START_EDITING_FEATURE",f="FEATUREGRID:START_DRAWING_FEATURE",E="FEATUREGRID:DELETE_GEOMETRY",v="FEATUREGRID:DELETE_GEOMETRY_FEATURE",g="FEATUREGRID:SAVE_SUCCESS",y="FEATUREGRID:CLEAR_CHANGES",h="FEATUREGRID:SAVE_ERROR",b="FEATUREGRID:DELETE_SELECTED_FEATURES",F="SET_FEATURES",T="FEATUREGRID:SORT_BY",S="FEATUREGRID:SET_LAYER",B="QUERY:UPDATE_FILTER",R="FEATUREGRID:CHANGE_PAGE",w="FEATUREGRID:GEOMETRY_CHANGED",C="DOCK_SIZE_FEATURES",M="FEATUREGRID:TOGGLE_TOOL",A="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",O="ASK_CLOSE_FEATURE_GRID_CONFIRM",P="FEATUREGRID:OPEN_GRID",I="FEATUREGRID:CLOSE_GRID",D="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",x="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",N="FEATUREGRID:SET_PERMISSION",G="FEATUREGRID:DISABLE_TOOLBAR",L="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",U="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",k="FEATUREGRID:ADVANCED_SEARCH",H="FEATUREGRID:ZOOM_ALL",j="FEATUREGRID:INIT_PLUGIN",W="FEATUREGRID:SIZE_CHANGE",Y="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",z="FEATUREGRID:HIDE_SYNC_POPOVER",q="FEATUREGRID:UPDATE_EDITORS_OPTIONS",V="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",K={EDIT:"EDIT",VIEW:"VIEW"},$="FEATUREGRID:START_SYNC_WMS",X="FEATUREGRID:STOP_SYNC_WMS",Z="STORE_ADVANCED_SEARCH_FILTER",Q="LOAD_MORE_FEATURES",J="FEATUREGRID:QUERY_RESULT",ee="FEATUREGRID:SET_TIME_SYNC",te="FEATUREGRID:SET_PAGINATION";function re(){return{type:Y}}function ne(){return{type:z}}function oe(e,t){return{type:J,features:e,pages:t}}function le(e){return{type:Z,filterObj:e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:j,options:e}}function ie(){return{type:D}}function se(){return{type:x}}function ue(e,t){return{type:o,features:e,append:t}}function pe(e){return{type:n,options:e}}function de(e){return{type:w,features:e}}function me(){return{type:_}}function ce(){return{type:f}}function _e(e){return{type:l,features:e}}function fe(){return{type:E}}function Ee(e){return{type:v,features:e}}function ve(){return{type:a}}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,r=void 0!==t&&t;return{type:i,multiselect:r}}function ye(e,t){return{type:T,sortBy:e,sortOrder:t}}function he(e,t){return{type:R,page:e,size:t}}function be(e){return{type:S,id:e}}function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:B,update:e,append:t}}function Te(e,t){return{type:M,tool:e,value:t}}function Se(e,t,r){return{type:A,name:e,key:t,value:r}}function Be(){return{type:s,mode:K.EDIT}}function Re(){return{type:s,mode:K.VIEW}}function we(e,t){return{type:p,features:e,updated:t}}function Ce(e){return{type:d,features:e}}function Me(){return{type:m}}function Ae(){return{type:g}}function Oe(){return{type:b}}function Pe(){return{type:c}}function Ie(){return{type:y}}function De(){return{type:h}}function xe(){return{type:O}}function Ne(){return{type:I}}function Ge(){return{type:P}}function Le(e){return{type:G,disabled:e}}function Ue(e){return{type:N,permission:e}}function ke(){return{type:k}}function He(){return{type:H}}function je(){return{type:$}}function We(e,t){return{type:W,size:e,dockProps:t}}var Ye=function(e){return{type:Q,pages:e}},ze=function(e){return{type:L,activated:e}},qe=function(e){return{type:U,deactivated:e}},Ve=function(e){return{type:ee,value:e}},Ke=function(e){return{type:te,size:e}},$e=function(e){return{type:V,updateFilterAction:e}}},29386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>n,fu:()=>o,NF:()=>l,WP:()=>a,_E:()=>i});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",l="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:l,featuresPath:e}}function i(e,t){return{type:o,features:e,status:t}}},80416:(e,t,r)=>{"use strict";r.d(t,{yS:()=>n,Zz:()=>o,ms:()=>l,ih:()=>a,OX:()=>i,sb:()=>s,K$:()=>u,k7:()=>p,cX:()=>d,x9:()=>m,vs:()=>c,oE:()=>_,Po:()=>f,qv:()=>E,cI:()=>v,g6:()=>g,I4:()=>y,l$:()=>h,Xv:()=>b,k3:()=>F,CQ:()=>T,R8:()=>S,HN:()=>B,sH:()=>R,c7:()=>w,_7:()=>C,eF:()=>M,O6:()=>A,ED:()=>O,RP:()=>P,sF:()=>I,VP:()=>D,He:()=>x,vO:()=>N,WO:()=>G,bh:()=>L,pV:()=>U,MK:()=>k,ZF:()=>H,tV:()=>j,Dv:()=>W,Yz:()=>Y,kI:()=>z,XG:()=>q,A4:()=>V,Rp:()=>K,ct:()=>$,oh:()=>X,$h:()=>Z,ud:()=>Q,Qr:()=>J,LR:()=>ee,nN:()=>te,UG:()=>re,F5:()=>ne,c9:()=>oe,Jh:()=>le,Xy:()=>ae});var n="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",l="CHANGE_GROUP_PROPERTIES",a="TOGGLE_NODE",i="SORT_NODE",s="REMOVE_NODE",u="UPDATE_NODE",p="MOVE_NODE",d="LAYER_LOADING",m="LAYER_LOAD",c="LAYER_ERROR",_="ADD_LAYER",f="ADD_GROUP",E="REMOVE_LAYER",v="SHOW_SETTINGS",g="HIDE_SETTINGS",y="UPDATE_SETTINGS",h="REFRESH_LAYERS",b="LAYERS:UPDATE_LAYERS_DIMENSION",F="LAYERS_REFRESHED",T="LAYERS_REFRESH_ERROR",S="LAYERS:BROWSE_DATA",B="LAYERS:DOWNLOAD",R="LAYERS:CLEAR_LAYERS",w="LAYERS:SELECT_NODE",C="LAYERS:FILTER_LAYERS",M="LAYERS:SHOW_LAYER_METADATA",A="LAYERS:HIDE_LAYER_METADATA",O="LAYERS:UPDATE_SETTINGS_PARAMS";function P(e,t,r){return{type:v,node:e,nodeType:t,options:r}}function I(){return{type:g}}function D(e){return{type:y,options:e}}function x(e,t){return{type:n,newProperties:t,layer:e}}function N(e,t){return{type:o,layer:e,params:t}}function G(e,t){return{type:l,newProperties:t,group:e}}function L(e,t,r){return{type:a,node:e,nodeType:t,status:!r}}function U(e){return{type:"CONTEXT_NODE",node:e}}function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:i,node:e,order:t,sortLayers:r}}function H(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:s,node:e,nodeType:t,removeEmpty:r}}function j(e,t,r){return{type:u,node:e,nodeType:t,options:r}}function W(e,t,r){return{type:p,node:e,groupId:t,index:r}}function Y(e){return{type:d,layerId:e}}function z(e,t){return{type:m,layerId:e,error:t}}function q(e,t,r){return{type:c,layerId:e,tilesCount:t,tilesErrorCount:r}}function V(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:_,layer:e,foreground:t}}function K(e,t,r){return{type:f,group:e,parent:t,options:r}}function $(e,t){return{type:n,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function X(e){return{type:F,layers:e}}function Z(e,t){return{type:T,layers:e,error:t}}function Q(e,t,r,n){return{type:b,dimension:e,value:t,options:r,layers:n}}function J(e){return{type:S,layer:e}}function ee(e){return{type:B,layer:e}}function te(){return{type:R}}function re(e,t,r){return{type:w,id:e,nodeType:t,ctrlKey:r}}function ne(e){return{type:C,text:e}}function oe(e,t){return{type:M,metadataRecord:e,maskLoading:t}}function le(){return{type:A}}function ae(e,t){return{type:O,newParams:e,update:t}}},21914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>l,Ih:()=>a,Xw:()=>i,Pn:()=>s,DZ:()=>u,e8:()=>p,E0:()=>d,F9:()=>m,X_:()=>c,pb:()=>_,qb:()=>f,Re:()=>E,ih:()=>v,xy:()=>g,jL:()=>y,oz:()=>h,ph:()=>b,lF:()=>F,gG:()=>T,cb:()=>S,GI:()=>B,B1:()=>R,fv:()=>w,gc:()=>C,zX:()=>M,ZF:()=>A,Zb:()=>O,Fm:()=>P,sV:()=>I,Mn:()=>D,LU:()=>x,XP:()=>N,WU:()=>G,JB:()=>L,g:()=>U,ws:()=>k,HP:()=>H,aN:()=>j,Pg:()=>Y,u0:()=>z,TM:()=>q,PM:()=>V,lK:()=>K,sv:()=>$,MO:()=>X,oO:()=>Z,Mc:()=>Q,Zw:()=>J,RA:()=>ee,am:()=>te,ZM:()=>re,wm:()=>ne,Y$:()=>oe});var n=r(47310),o="LOAD_FEATURE_INFO",l="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",i="CHANGE_MAPINFO_STATE",s="NEW_MAPINFO_REQUEST",u="PURGE_MAPINFO_RESULTS",p="CHANGE_MAPINFO_FORMAT",d="SHOW_MAPINFO_MARKER",m="HIDE_MAPINFO_MARKER",c="SHOW_REVERSE_GEOCODE",_="HIDE_REVERSE_GEOCODE",f="GET_VECTOR_INFO",E="NO_QUERYABLE_LAYERS",v="CLEAR_WARNING",g="FEATURE_INFO_CLICK",y="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",h="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",b="TOGGLE_MAPINFO_STATE",F="UPDATE_CENTER_TO_MARKER",T="IDENTIFY:CHANGE_PAGE",S="IDENTIFY:CLOSE_IDENTIFY",B="IDENTIFY:CHANGE_FORMAT",R="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",w="IDENTIFY:EDIT_LAYER_FEATURES",C="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",M="IDENTIFY:SET_MAP_TRIGGER",A="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",O="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function P(e,t,r,n,l){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:l}}function I(e,t,r,n){return{type:l,error:t,reqId:e,requestParams:r,layerMetadata:n}}function D(e,t,r,n){return{type:a,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function x(){return{type:E}}function N(){return{type:v}}function G(e,t){return{type:s,reqId:e,request:t}}function L(e,t,r,n){return{type:f,layer:e,request:t,metadata:r,queryableLayers:n}}function U(){return{type:u}}function k(e){return{type:p,infoFormat:e}}function H(){return{type:d}}function j(){return{type:m}}function W(e){return{type:c,reverseGeocodeData:e.data}}function Y(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(W(e))})).catch((function(e){t(W(e))}))}}function z(){return{type:_}}function q(){return{type:b}}function V(e){return{type:F,status:e}}function K(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:g,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function $(e){return{type:y,point:e}}function X(e){return{type:h,enabled:e}}function Z(e){return{type:T,index:e}}var Q=function(){return{type:S}},J=function(e){return{type:B,format:e}},ee=function(e){return{type:R,showCoordinateEditor:e}},te=function(e){return{type:w,layer:e}},re=function(e){return{type:C,query:e}},ne=function(e){return{type:M,trigger:e}},oe=function(e){return{type:O,value:e}}},95797:(e,t,r)=>{"use strict";r.d(t,{DR:()=>n,S0:()=>o,u7:()=>l,lj:()=>a,yz:()=>i,lN:()=>s,zW:()=>u,Yx:()=>p,VN:()=>d,Hu:()=>m,VT:()=>c,RD:()=>_,Qq:()=>f,R1:()=>E,_T:()=>v,vO:()=>g,XO:()=>y,jG:()=>h,Xc:()=>b,gT:()=>F,rG:()=>T,t3:()=>S,Fs:()=>B,w_:()=>R,Lm:()=>w,rh:()=>C,rP:()=>M,IO:()=>A,zc:()=>O}),r(75875);var n="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",l="FEATURE_TYPE_LOADED",a="FEATURE_LOADED",i="FEATURE_LOADING",s="FEATURE_TYPE_ERROR",u="FEATURE_ERROR",p="QUERY_CREATE",d="QUERY:UPDATE_QUERY",m="QUERY_RESULT",c="QUERY_ERROR",_="RESET_QUERY",f="QUERY",E="INIT_QUERY_PANEL",v="QUERY:TOGGLE_SYNC_WMS",g="QUERY:TOGGLE_LAYER_FILTER";function y(){return{type:v}}function h(){return{type:g}}function b(){return{type:E}}function F(e,t){return{type:o,url:e,typeName:t}}function T(e,t){return{type:l,typeName:e,featureType:t}}function S(e,t){return{type:s,typeName:e,error:t}}function B(e){return{type:i,isLoading:e}}function R(e,t,r,n,o){return{type:m,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function w(e){return{type:c,error:e}}function C(e,t){return{type:d,updates:e,reason:t}}function M(e,t){return{type:p,searchUrl:e,filterObj:t}}function A(e,t,r,n){return{type:f,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}function O(){return{type:_}}},47310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(75875),o=r.n(n),l=r(72500),a=r.n(l),i=r(27418),s=r.n(i),u={format:"json",bounded:0,polygon_geojson:1,priority:5};const p={geocode:function(e,t){var r=s()({q:e},u,t||{}),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=s()({lat:e.lat,lon:e.lng},t||{},u),n=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},51288:e=>{var t="SET_OPEN_MENU_GROUP_ID",r="SET_VISIBLE_LEGEND_PANEL";e.exports={SET_OPEN_MENU_GROUP_ID:t,setOpenMenuGroupId:function(e){return{type:t,openMenuGroupId:e}},SET_VISIBLE_LEGEND_PANEL:r,setVisibleLegendPanel:function(e){return{type:r,visible:e}}}},88380:(e,t,r)=>{"use strict";r.d(t,{j:()=>g});var n=r(24852),o=r.n(n),l=r(71703),a=r(80416);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(29944);var m,c,_,f=r(45697),E=r(85552),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,r,n,l,a=(n=i,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(l){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={},t}return t=i,(r=[{key:"render",value:function(){var e,t,r,n=this;return this.props.layer?o().createElement("div",{className:"row menu-row"},o().createElement("div",{className:"btn-group inline pull-left .enu-row-button"},o().createElement("div",{className:"btn glyphicon menu-row-glyph "+(null!==(e=this.props.layer)&&void 0!==e&&e.visibility?"glyphicon-ok":"glyphicon-remove"),style:{color:null!==(t=this.props.layer)&&void 0!==t&&t.visibility?"limegreen":"red"},onClick:function(){var e,t;n.props.toggleLayer(null===(e=n.props.layer)||void 0===e?void 0:e.id,null===(t=n.props.layer)||void 0===t?void 0:t.visibility)}}),o().createElement("div",{className:"h5 menu-row-text"},this.props.layer.title)),0===this.props.layer.opacity||this.props.layer.opacity?o().createElement("div",{className:"mapstore-slider dataset-transparency with-tooltip",onClick:function(e){e.stopPropagation()}},o().createElement(E,{step:1,start:100*(null===(r=this.props.layer)||void 0===r?void 0:r.opacity),range:{min:0,max:100},onChange:function(e){var t;n.props.setOpacity(null===(t=n.props.layer)||void 0===t?void 0:t.id,e)}})):null):o().createElement("div",{className:"row menu-row"},o().createElement("div",{className:"btn-group inline pull-left .enu-row-button"},o().createElement("div",{className:"h5 menu-row-text"},"No datasets here yet...")))}}])&&s(t.prototype,r),i}(o().Component);m=v,c="propTypes",_={layer:f.object,toggleLayer:f.func,setOpacity:f.func},c in m?Object.defineProperty(m,c,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[c]=_;var g=(0,l.connect)(null,(function(e){return{toggleLayer:function(t,r){return e((0,a.He)(t,{visibility:!r}))},setOpacity:function(t,r){return e((0,a.He)(t,{opacity:.01*parseFloat(r)}))}}}))(v)},52164:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$e});var n=r(22843),o=r(52948),l=r(21914);function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={showOutlets:!0,showFootprints:!0,showWatersheds:!0,bmpTypes:[],groupProfiles:[],allBmps:[],statuses:[],targets:[],visibleBmpForm:!1,visibleTargetForm:!1,creatingNewBmp:!1,drawingBmpLayerName:!1,bmpFilterMode:"type"},m=r(24852),c=r.n(m),_=r(71703),f=r(23885),E=r(33528),v=r(95797);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{t=Math.abs(t),t=isNaN(t)?2:t;var o=e<0?"-":"",l=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),a=l.length>3?l.length%3:0;return o+(a?l.substr(0,a)+n:"")+l.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?r+Math.abs(e-l).toFixed(t).slice(2):"")}catch(e){console.log(e)}}r(7169);var y=function(e){var t,r;return null!=e&&null!==(t=e.swamm)&&void 0!==t&&t.bmpTypes?null==e||null===(r=e.swamm)||void 0===r?void 0:r.bmpTypes.filter((function(e,t,r){return r.findIndex((function(t){return t.name===e.name}))===t})):[]},h=r(80416);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=r(45697),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,r,n,o,l=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(n);if(o){var r=R(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return S(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=l.call(this,e)).handleChange=t.handleChange.bind(B(t)),t.handleBmpChange=t.handleBmpChange.bind(B(t)),t.handleGroupProfileChange=t.handleGroupProfileChange.bind(B(t)),t.state={},t}return t=a,(r=[{key:"componentDidMount",value:function(){var e,t,r;0!==Object.keys(this.props.storedBmpForm).length||this.props.creatingNewBmp||(this.props.purgeMapInfoResults(),this.props.setMenuGroup(null)),this.props.toggleLayer(null===(e=this.props.bmpOutletLayer)||void 0===e?void 0:e.id,!0),this.props.toggleLayer(null===(t=this.props.bmpFootprintLayer)||void 0===t?void 0:t.id,!0),this.props.toggleLayer(null===(r=this.props.bmpWatershedLayer)||void 0===r?void 0:r.id,!0)}},{key:"componentDidUpdate",value:function(){0===Object.keys(this.props.storedBmpForm).length&&!this.props.creatingNewBmp&&this.props.updatingBmp&&this.props.makeExistingBmpForm(this.props.updatingBmp)}},{key:"render",value:function(){var e,t,r,n,o,l,a,i,s,u,p,d,m,_,E,v,g,y,h,b,F,T,S,B,R,w,C,M,A,O,P,I,D,x,N,G,L,U,k,H,j,W,Y,z,q,V,K,$,X,Z,Q,J,ee,te,re,ne,oe,le,ae,ie,se,ue,pe,de,me,ce,_e,fe,Ee,ve,ge,ye,he,be,Fe,Te,Se,Be,Re,we,Ce,Me,Ae,Oe,Pe,Ie,De,xe,Ne,Ge,Le,Ue,ke,He,je,We,Ye,ze,qe,Ve,Ke,$e,Xe,Ze,Qe,Je,et,tt,rt,nt,ot,lt,at,it,st,ut,pt,dt,mt,ct,_t,ft,Et,vt,gt,yt,ht,bt,Ft,Tt,St,Bt,Rt,wt,Ct,Mt,At,Ot=this;return c().createElement(c().Fragment,null,c().createElement(f.Modal,{show:!0,onHide:function(){return Ot.props.hideBmpForm()},style:{marginTop:"100px",fontSize:"small"},dialogClassName:"swamm-big-modal",backdrop:!1,enforceFocus:!1,scrollable:"true"},c().createElement(f.Modal.Header,null,c().createElement(f.Modal.Title,null,this.props.storedBmpForm.id?"Edit BMP "+this.props.storedBmpForm.id+": "+(null===(e=this.props.storedBmpForm)||void 0===e||null===(t=e.type_data)||void 0===t?void 0:t.name):"Create a new BMP",c().createElement("span",{className:"btn glyphicon glyphicon-remove",style:{color:"red",position:"absolute",right:0},onClick:function(){Ot.props.clearBmpForm(),Ot.props.setComplexBmpForm(!1)}}))),c().createElement(f.Modal.Body,{style:{padding:0}},c().createElement(f.Col,{sm:6,style:{padding:"20px",textAlign:"left"}},this.props.storedBmpForm.bmpName?c().createElement("h5",null,this.props.storedBmpForm.bmpName):c().createElement("h5",null,"Select a BMP Type..."),c().createElement(f.Form,{horizontal:!0},this.props.requiresOutlet||this.props.complexBmpForm?c().createElement(f.FormGroup,{controlId:"outlet_fid",validationState:this.validateFid("outlet_fid"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{textAlign:"left"}},"Outlet Point:"),null!==(r=this.props.storedBmpForm)&&void 0!==r&&r.outlet_fid?c().createElement(f.Col,{sm:1},c().createElement(f.Button,{className:"pull-right",bsStyle:"info",style:{opacity:"0.7"},onClick:function(){var e,t,r;return Ot.drawBmpStep1((null===(e=Ot.props)||void 0===e||null===(t=e.projectData)||void 0===t?void 0:t.code)+"_bmp_outlet",null===(r=Ot.props.storedBmpForm)||void 0===r?void 0:r.outlet_fid)}},"Edit")):c().createElement(f.Col,{sm:5},c().createElement(f.Button,{disabled:!(null!==(n=this.props.storedBmpForm)&&void 0!==n&&n.group_profile_id&&this.props.storedBmpForm.bmpName),bsStyle:null!==(o=this.props.storedBmpForm)&&void 0!==o&&o.group_profile_id&&this.props.storedBmpForm.bmpName?"success":"default",style:{opacity:"0.7"},onClick:function(){var e;return Ot.drawBmpStep1((null===(e=Ot.props.projectData)||void 0===e?void 0:e.code)+"_bmp_outlet",null)}},"Locate Outlet"))):null,this.props.requiresFootprint||this.props.complexBmpForm?c().createElement(f.FormGroup,{controlId:"footprint_fid",validationState:this.validateFid("footprint_fid"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{textAlign:"left"}},"Footprint:"),null!==(l=this.props.storedBmpForm)&&void 0!==l&&l.footprint_fid?c().createElement(c().Fragment,null,c().createElement(f.Col,{sm:3},c().createElement(f.FormControl,{inline:"true",readOnly:"true",type:"string",value:null!==(a=this.props.storedBmpForm)&&void 0!==a&&a.calculated_footprint_area?(null===(i=this.props.storedBmpForm)||void 0===i||null===(s=i.calculated_footprint_area)||void 0===s?void 0:s.toFixed(2))+" acres":""})),c().createElement(f.Col,{sm:2},c().createElement(f.Button,{className:"pull-right",bsStyle:"info",style:{opacity:"0.7"},onClick:function(){var e,t,r;return Ot.drawBmpStep1((null===(e=Ot.props)||void 0===e||null===(t=e.projectData)||void 0===t?void 0:t.code)+"_bmp_footprint",null===(r=Ot.props.storedBmpForm)||void 0===r?void 0:r.footprint_fid)}},"Edit"))):c().createElement(c().Fragment,null,c().createElement(f.Col,{sm:5},c().createElement(f.Button,{disabled:!(null!==(u=this.props.storedBmpForm)&&void 0!==u&&u.group_profile_id&&this.props.storedBmpForm.bmpName),bsStyle:null!==(p=this.props.storedBmpForm)&&void 0!==p&&p.group_profile_id&&this.props.storedBmpForm.bmpName?"success":"default",style:{opacity:"0.7"},onClick:function(){var e,t;return Ot.drawBmpStep1((null===(e=Ot.props)||void 0===e||null===(t=e.projectData)||void 0===t?void 0:t.code)+"_bmp_footprint")}},"Draw footprint")))):null,!this.props.requiresWatershed&&!this.props.complexBmpForm||this.props.watershedIsFootprint?null:c().createElement(f.FormGroup,{controlId:"watershed_fid",validationState:this.validateFid("watershed_fid"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{textAlign:"left"}},"Watershed:"),null!==(d=this.props.storedBmpForm)&&void 0!==d&&d.watershed_fid?c().createElement(c().Fragment,null,c().createElement(f.Col,{sm:3},c().createElement(f.FormControl,{inline:"true",readOnly:"true",type:"string",value:null!==(m=this.props.storedBmpForm)&&void 0!==m&&m.calculated_watershed_area?(null===(_=this.props.storedBmpForm)||void 0===_||null===(E=_.calculated_watershed_area)||void 0===E?void 0:E.toFixed(2))+" acres":""})),c().createElement(f.Col,{sm:2},c().createElement(f.Button,{className:"pull-right",bsStyle:"info",style:{opacity:"0.7"},onClick:function(){var e,t,r;return Ot.drawBmpStep1((null===(e=Ot.props)||void 0===e||null===(t=e.projectData)||void 0===t?void 0:t.code)+"_bmp_watershed",null===(r=Ot.props.storedBmpForm)||void 0===r?void 0:r.watershed_fid)}},"Edit"))):c().createElement(c().Fragment,null,c().createElement(f.Col,{sm:5},c().createElement(f.Button,{disabled:!(null!==(v=this.props.storedBmpForm)&&void 0!==v&&v.group_profile_id&&this.props.storedBmpForm.bmpName),bsStyle:null!==(g=this.props.storedBmpForm)&&void 0!==g&&g.group_profile_id&&this.props.storedBmpForm.bmpName?"success":"default",style:{opacity:"0.7"},onClick:function(){var e,t;return Ot.drawBmpStep1((null===(e=Ot.props)||void 0===e||null===(t=e.projectData)||void 0===t?void 0:t.code)+"_bmp_watershed")},bsSize:"small"},"Draw watershed")))),this.props.complexBmpForm?c().createElement(c().Fragment,null,c().createElement(f.FormGroup,{controlId:"formControlsSelectGroupProfile",bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{textAlign:"left"}},"Organization"),c().createElement(f.Col,{sm:8},c().createElement(f.FormControl,{inline:"true",componentClass:"select",name:"group_profile",value:null===(y=this.props.storedBmpForm)||void 0===y||null===(h=y.group_profile)||void 0===h?void 0:h.pk,onChange:this.handleGroupProfileChange},this.props.allowedGroupProfiles.map((function(e){return c().createElement("option",{key:e.pk,value:null==e?void 0:e.pk},e.title)}))),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"formControlsSelectStatus",bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{textAlign:"left"}},"BMP Status"),c().createElement(f.Col,{sm:8},c().createElement(f.FormControl,{inline:"true",componentClass:"select",name:"status",value:null===(b=this.props.storedBmpForm)||void 0===b?void 0:b.status,onChange:this.handleChange},c().createElement("option",{key:"Unknown",value:"Unknown"},"Unknown"),this.props.statuses.filter((function(e){return"Unknown"!==e})).map((function(e){return c().createElement("option",{key:e,value:e},e)}))),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"n_surface_red_percent",validationState:this.validateRatio("n_surface_red_percent"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Surface Nitrogen Reduction Percentage"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_n_surface_red_percent",value:null===(F=this.props.storedBmpForm)||void 0===F?void 0:F.override_n_surface_red_percent,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"p_surface_red_percent",validationState:this.validateRatio("p_surface_red_percent"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Surface Phosphorus Reduction Percentage"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_p_surface_red_percent",value:null===(T=this.props.storedBmpForm)||void 0===T?void 0:T.override_p_surface_red_percent,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"s_surface_red_percent",validationState:this.validateRatio("s_surface_red_percent"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Surface Sediment Reduction Percentage"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_s_surface_red_percent",value:null===(S=this.props.storedBmpForm)||void 0===S?void 0:S.override_s_surface_red_percent,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"n_tiled_red_percent",validationState:this.validateRatio("n_tiled_red_percent"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Tiled Nitrogen Reduction Percentage"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_n_tiled_red_percent",value:null===(B=this.props.storedBmpForm)||void 0===B?void 0:B.override_n_tiled_red_percent,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"p_tiled_red_percent",validationState:this.validateRatio("p_tiled_red_percent"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Tiled Phospohorus Reduction Percentage"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_p_tiled_red_percent",value:null===(R=this.props.storedBmpForm)||void 0===R?void 0:R.override_p_tiled_red_percent,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"n_erosion_red_percent",validationState:this.validateRatio("n_erosion_red_percent"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Erosion Nitrogen Reduction Percentage"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_n_erosion_red_percent",value:null===(w=this.props.storedBmpForm)||void 0===w?void 0:w.override_n_erosion_red_percent,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"p_erosion_red_percent",validationState:this.validateRatio("p_erosion_red_percent"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Erosion Phospohorus Reduction Percentage"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_p_erosion_red_percent",value:null===(C=this.props.storedBmpForm)||void 0===C?void 0:C.override_p_erosion_red_percent,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"s_erosion_red_percent",validationState:this.validateRatio("s_erosion_red_percent"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Erosion Sediment Reduction Percentage"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_s_erosion_red_percent",value:null===(M=this.props.storedBmpForm)||void 0===M?void 0:M.override_s_erosion_red_percent,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"cost_base",validationState:this.validateCost("cost_base"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Base Cost ($)"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_cost_base",value:null===(A=this.props.storedBmpForm)||void 0===A?void 0:A.override_cost_base,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"cost_rate_per_footprint_area",validationState:this.validateCost("cost_rate_per_footprint_area"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Footprint Cost ($/acre)"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_cost_rate_per_footprint_area",value:null===(O=this.props.storedBmpForm)||void 0===O?void 0:O.override_cost_rate_per_footprint_area,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))),c().createElement(f.FormGroup,{controlId:"cost_rate_per_watershed_area",validationState:this.validateCost("cost_rate_per_watershed_area"),bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:6},"Watershed Cost ($/acre)"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:.01,precision:2,name:"override_cost_rate_per_watershed_area",value:null===(P=this.props.storedBmpForm)||void 0===P?void 0:P.override_cost_rate_per_watershed_area,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null)))):null,c().createElement(f.FormGroup,{controlId:"notes",bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{padding:"20px",textAlign:"left"}},"Notes"),c().createElement(f.Col,{sm:12},c().createElement(f.FormControl,{inline:"true",type:"textarea",componentClass:"textarea",name:"notes",value:null===(I=this.props.storedBmpForm)||void 0===I?void 0:I.notes,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null)))),this.props.complexBmpForm||null===(D=this.props.storedBmpForm)||void 0===D||!D.id||this.props.changingBmpType?c().createElement(f.Row,{style:{paddingLeft:"20px",textAlign:"left"}},c().createElement("h5",null,"More Information from NRCS documents:"),c().createElement(f.Row,null,c().createElement("a",{href:this.props.infosheet_url,className:"btn btn-info btn-small ".concat(this.props.infosheet_url?"":"disabled"),style:{position:"absolute",left:"20px",bottom:"-30px",paddingTop:"10px",width:"80px",whiteSpace:"normal",fontSize:"14px"},target:"_blank",download:!0},"Stardards Overview"),c().createElement("a",{href:this.props.standard_url,className:"btn btn-info btn-small ".concat(this.props.standard_url?"":"disabled"),style:{position:"absolute",left:"120px",bottom:"-30px",paddingTop:"10px",width:"80px",whiteSpace:"normal",fontSize:"14px"},target:"_blank",download:!0},"Detailed Standard"),c().createElement("a",{href:this.props.ned_url,className:"btn btn-info btn-small ".concat(this.props.ned_url?"":"disabled"),style:{position:"absolute",left:"220px",bottom:"-30px",paddingTop:"10px",width:"80px",whiteSpace:"normal",fontSize:"14px"},target:"_blank",download:!0},"Effects Network"),c().createElement("a",{href:this.props.cppe_url,className:"btn btn-info btn-small ".concat(this.props.cppe_url?"":"disabled"),style:{position:"absolute",left:"320px",bottom:"-30px",paddingTop:"10px",width:"80px",whiteSpace:"normal",fontSize:"14px"},target:"_blank",download:!0},"Effects Data"))):null),c().createElement(f.Col,{sm:6,style:{padding:"10px"}},null===(x=this.props.storedBmpForm)||void 0===x||!x.id||this.props.changingBmpType?c().createElement(c().Fragment,null,this.props.changingBmpType?c().createElement(f.Button,{bsStyle:"success",bsSize:"small",style:{opacity:"0.7",position:"absolute",bottom:"20px",right:"220px",minWidth:"80px"},onClick:function(){return Ot.props.setChangingBmpType(!1)}},"Accept"):null,c().createElement(f.Form,{horizontal:!0},c().createElement(f.FormGroup,{controlId:"formControlsSelectBmp",bsSize:"small"},c().createElement(f.Col,{componentClass:f.ControlLabel,sm:12,style:{textAlign:"left"}},c().createElement(f.FormControl,{componentClass:"radio",style:{border:"none",boxShadow:"none"},type:"radio",name:"bmpName",onChange:this.handleBmpChange},this.props.bmpTypeGroups.map((function(e){return c().createElement(f.Row,{className:"well",style:{textAlign:"left",marginLeft:0}},c().createElement("div",null,e[1]),Ot.props.bmpTypes.filter((function(t){return t.group_name===e[0]})).map((function(e){return c().createElement(f.Col,{sm:6},c().createElement(f.Radio,{name:"bmpName",value:e.name,style:{textAlign:"left"},inline:!0},e.name))})))}))))))):this.props.complexBmpForm?c().createElement(f.Table,{bordered:!0,condensed:!0,hover:!0,className:"text-right"},c().createElement("thead",null,c().createElement("tr",null,c().createElement("th",null,"Results"),c().createElement("th",{style:{width:"100px"}},"Surface"),c().createElement("th",{style:{width:"100px"}},"Tiled"),c().createElement("th",{style:{width:"100px"}},"Erosion"),c().createElement("th",{style:{width:"100px"}},"Total"),c().createElement("th",null))),c().createElement("tbody",null,c().createElement("tr",null,c().createElement("td",null,"Previous nitrogen load: "),c().createElement("td",null,null===(N=this.props.storedBmpForm)||void 0===N||null===(G=N.surface_previous_n_load)||void 0===G?void 0:G.toFixed(0)),c().createElement("td",null,null===(L=this.props.storedBmpForm)||void 0===L||null===(U=L.tiled_previous_n_load)||void 0===U?void 0:U.toFixed(0)),c().createElement("td",null,null===(k=this.props.storedBmpForm)||void 0===k||null===(H=k.erosion_previous_n_load)||void 0===H?void 0:H.toFixed(0)),c().createElement("td",null,null===(j=this.props.storedBmpForm)||void 0===j||null===(W=j.total_previous_n_load)||void 0===W?void 0:W.toFixed(0)),c().createElement("td",{className:"text-left"},"lbs/year")),c().createElement("tr",null,c().createElement("td",null,"Nitrogen load reduction: "),c().createElement("td",null,null===(Y=this.props.storedBmpForm)||void 0===Y||null===(z=Y.surface_n_load_reduction)||void 0===z?void 0:z.toFixed(0)),c().createElement("td",null,null===(q=this.props.storedBmpForm)||void 0===q||null===(V=q.tiled_n_load_reduction)||void 0===V?void 0:V.toFixed(0)),c().createElement("td",null,null===(K=this.props.storedBmpForm)||void 0===K||null===($=K.erosion_n_load_reduction)||void 0===$?void 0:$.toFixed(0)),c().createElement("td",null,null===(X=this.props.storedBmpForm)||void 0===X||null===(Z=X.total_n_load_reduction)||void 0===Z?void 0:Z.toFixed(0)),c().createElement("td",{className:"text-left"},"lbs/year")),c().createElement("tr",null,c().createElement("td",null,"New nitrogen load: "),c().createElement("td",null,null===(Q=this.props.storedBmpForm)||void 0===Q||null===(J=Q.surface_new_n_load)||void 0===J?void 0:J.toFixed(0)),c().createElement("td",null,null===(ee=this.props.storedBmpForm)||void 0===ee||null===(te=ee.tiled_new_n_load)||void 0===te?void 0:te.toFixed(0)),c().createElement("td",null,null===(re=this.props.storedBmpForm)||void 0===re||null===(ne=re.erosion_new_n_load)||void 0===ne?void 0:ne.toFixed(0)),c().createElement("td",null,null===(oe=this.props.storedBmpForm)||void 0===oe||null===(le=oe.total_new_n_load)||void 0===le?void 0:le.toFixed(0)),c().createElement("td",{className:"text-left"},"lbs/year")),c().createElement("tr",null,c().createElement("td",null,"Previous phosphorus load: "),c().createElement("td",null,null===(ae=this.props.storedBmpForm)||void 0===ae||null===(ie=ae.surface_previous_p_load)||void 0===ie?void 0:ie.toFixed(0)),c().createElement("td",null,null===(se=this.props.storedBmpForm)||void 0===se||null===(ue=se.tiled_previous_p_load)||void 0===ue?void 0:ue.toFixed(0)),c().createElement("td",null,null===(pe=this.props.storedBmpForm)||void 0===pe||null===(de=pe.erosion_previous_p_load)||void 0===de?void 0:de.toFixed(0)),c().createElement("td",null,null===(me=this.props.storedBmpForm)||void 0===me||null===(ce=me.total_previous_p_load)||void 0===ce?void 0:ce.toFixed(0)),c().createElement("td",{className:"text-left"},"lbs/year")),c().createElement("tr",null,c().createElement("td",null,"Phosphorus load reduction: "),c().createElement("td",null,null===(_e=this.props.storedBmpForm)||void 0===_e||null===(fe=_e.surface_p_load_reduction)||void 0===fe?void 0:fe.toFixed(0)),c().createElement("td",null,null===(Ee=this.props.storedBmpForm)||void 0===Ee||null===(ve=Ee.tiled_p_load_reduction)||void 0===ve?void 0:ve.toFixed(0)),c().createElement("td",null,null===(ge=this.props.storedBmpForm)||void 0===ge||null===(ye=ge.erosion_p_load_reduction)||void 0===ye?void 0:ye.toFixed(0)),c().createElement("td",null,null===(he=this.props.storedBmpForm)||void 0===he||null===(be=he.total_p_load_reduction)||void 0===be?void 0:be.toFixed(0)),c().createElement("td",{className:"text-left"},"lbs/year")),c().createElement("tr",null,c().createElement("td",null,"New phosphorus load: "),c().createElement("td",null,null===(Fe=this.props.storedBmpForm)||void 0===Fe||null===(Te=Fe.surface_new_p_load)||void 0===Te?void 0:Te.toFixed(0)),c().createElement("td",null,null===(Se=this.props.storedBmpForm)||void 0===Se||null===(Be=Se.tiled_new_p_load)||void 0===Be?void 0:Be.toFixed(0)),c().createElement("td",null,null===(Re=this.props.storedBmpForm)||void 0===Re||null===(we=Re.erosion_new_p_load)||void 0===we?void 0:we.toFixed(0)),c().createElement("td",null,null===(Ce=this.props.storedBmpForm)||void 0===Ce||null===(Me=Ce.total_new_p_load)||void 0===Me?void 0:Me.toFixed(0)),c().createElement("td",{className:"text-left"},"lbs/year")),c().createElement("tr",null,c().createElement("td",null,"Previous sediment load: "),c().createElement("td",null,null===(Ae=this.props.storedBmpForm)||void 0===Ae||null===(Oe=Ae.surface_previous_s_load)||void 0===Oe?void 0:Oe.toFixed(0)),c().createElement("td",null,null===(Pe=this.props.storedBmpForm)||void 0===Pe||null===(Ie=Pe.tiled_previous_s_load)||void 0===Ie?void 0:Ie.toFixed(0)),c().createElement("td",null,null===(De=this.props.storedBmpForm)||void 0===De||null===(xe=De.erosion_previous_s_load)||void 0===xe?void 0:xe.toFixed(0)),c().createElement("td",null,null===(Ne=this.props.storedBmpForm)||void 0===Ne||null===(Ge=Ne.total_previous_s_load)||void 0===Ge?void 0:Ge.toFixed(0)),c().createElement("td",{className:"text-left"},"tons/year")),c().createElement("tr",null,c().createElement("td",null,"Sediment load reduction: "),c().createElement("td",null,null===(Le=this.props.storedBmpForm)||void 0===Le||null===(Ue=Le.surface_s_load_reduction)||void 0===Ue?void 0:Ue.toFixed(0)),c().createElement("td",null,null===(ke=this.props.storedBmpForm)||void 0===ke||null===(He=ke.tiled_s_load_reduction)||void 0===He?void 0:He.toFixed(0)),c().createElement("td",null,null===(je=this.props.storedBmpForm)||void 0===je||null===(We=je.erosion_s_load_reduction)||void 0===We?void 0:We.toFixed(0)),c().createElement("td",null,null===(Ye=this.props.storedBmpForm)||void 0===Ye||null===(ze=Ye.total_s_load_reduction)||void 0===ze?void 0:ze.toFixed(0)),c().createElement("td",{className:"text-left"},"tons/year")),c().createElement("tr",null,c().createElement("td",null,"New sediment load: "),c().createElement("td",null,null===(qe=this.props.storedBmpForm)||void 0===qe||null===(Ve=qe.surface_new_s_load)||void 0===Ve?void 0:Ve.toFixed(0)),c().createElement("td",null,null===(Ke=this.props.storedBmpForm)||void 0===Ke||null===($e=Ke.tiled_new_s_load)||void 0===$e?void 0:$e.toFixed(0)),c().createElement("td",null,null===(Xe=this.props.storedBmpForm)||void 0===Xe||null===(Ze=Xe.erosion_new_s_load)||void 0===Ze?void 0:Ze.toFixed(0)),c().createElement("td",null,null===(Qe=this.props.storedBmpForm)||void 0===Qe||null===(Je=Qe.total_new_s_load)||void 0===Je?void 0:Je.toFixed(0)),c().createElement("td",{className:"text-left"},"tons/year")),c().createElement("tr",null,c().createElement("td",null,"Calculated total cost: "),null!==(et=this.props.storedBmpForm)&&void 0!==et&&et.calculated_total_cost?c().createElement("td",null,"$",Number(null===(tt=this.props.storedBmpForm)||void 0===tt||null===(rt=tt.calculated_total_cost)||void 0===rt?void 0:rt.toFixed(0)).toLocaleString()):c().createElement("td",null),c().createElement("td",null)),c().createElement("tr",null,c().createElement("td",null,"Nitrogen reduction cost: "),null!==(nt=this.props.storedBmpForm)&&void 0!==nt&&nt.total_cost_per_lbs_n_reduced?c().createElement("td",null,Number(null===(ot=this.props.storedBmpForm)||void 0===ot||null===(lt=ot.total_cost_per_lbs_n_reduced)||void 0===lt?void 0:lt.toFixed(0)).toLocaleString()):c().createElement("td",null),c().createElement("td",{className:"text-left"},"$/lb/year")),c().createElement("tr",null,c().createElement("td",null,"Phosphorus reduction cost: "),null!==(at=this.props.storedBmpForm)&&void 0!==at&&at.total_cost_per_lbs_p_reduced?c().createElement("td",null,Number(null===(it=this.props.storedBmpForm)||void 0===it||null===(st=it.total_cost_per_lbs_p_reduced)||void 0===st?void 0:st.toFixed(0)).toLocaleString()):c().createElement("td",null),c().createElement("td",{className:"text-left"},"$/lb/year")),c().createElement("tr",null,c().createElement("td",null,"Sediment reduction cost: "),null!==(ut=this.props.storedBmpForm)&&void 0!==ut&&ut.total_cost_per_ton_s_reduced?c().createElement("td",null,Number(null===(pt=this.props.storedBmpForm)||void 0===pt||null===(dt=pt.total_cost_per_ton_s_reduced)||void 0===dt?void 0:dt.toFixed(0)).toLocaleString()):c().createElement("td",null),c().createElement("td",{className:"text-left"},"$/ton/year")))):c().createElement(f.Table,{bordered:!0,condensed:!0,hover:!0,className:"text-right"},c().createElement("thead",null,c().createElement("tr",null,c().createElement("th",null,"Results"),c().createElement("th",{style:{width:"100px"}},"Total"),c().createElement("th",null))),c().createElement("tbody",null,c().createElement("tr",null,c().createElement("td",null,"Nitrogen load reduction: "),c().createElement("td",null,null===(mt=this.props.storedBmpForm)||void 0===mt||null===(ct=mt.total_n_load_reduction)||void 0===ct?void 0:ct.toFixed(0)),c().createElement("td",{className:"text-left"},"lbs/year")),c().createElement("tr",null,c().createElement("td",null,"Phosphorus load reduction: "),c().createElement("td",null,null===(_t=this.props.storedBmpForm)||void 0===_t||null===(ft=_t.total_p_load_reduction)||void 0===ft?void 0:ft.toFixed(0)),c().createElement("td",{className:"text-left"},"lbs/year")),c().createElement("tr",null,c().createElement("td",null,"Sediment load reduction: "),c().createElement("td",null,null===(Et=this.props.storedBmpForm)||void 0===Et||null===(vt=Et.total_s_load_reduction)||void 0===vt?void 0:vt.toFixed(0)),c().createElement("td",{className:"text-left"},"tons/year")),c().createElement("tr",null,c().createElement("td",null,"Calculated total cost: "),null!==(gt=this.props.storedBmpForm)&&void 0!==gt&&gt.calculated_total_cost?c().createElement("td",null,"$",Number(null===(yt=this.props.storedBmpForm)||void 0===yt||null===(ht=yt.calculated_total_cost)||void 0===ht?void 0:ht.toFixed(0)).toLocaleString()):c().createElement("td",null),c().createElement("td",null)),c().createElement("tr",null,c().createElement("td",null,"Nitrogen reduction cost: "),null!==(bt=this.props.storedBmpForm)&&void 0!==bt&&bt.total_cost_per_lbs_n_reduced?c().createElement("td",null,Number(null===(Ft=this.props.storedBmpForm)||void 0===Ft||null===(Tt=Ft.total_cost_per_lbs_n_reduced)||void 0===Tt?void 0:Tt.toFixed(0)).toLocaleString()):c().createElement("td",null),c().createElement("td",{className:"text-left"},"$/lb/year")),c().createElement("tr",null,c().createElement("td",null,"Phosphorus reduction cost: "),null!==(St=this.props.storedBmpForm)&&void 0!==St&&St.total_cost_per_lbs_p_reduced?c().createElement("td",null,Number(null===(Bt=this.props.storedBmpForm)||void 0===Bt||null===(Rt=Bt.total_cost_per_lbs_p_reduced)||void 0===Rt?void 0:Rt.toFixed(0)).toLocaleString()):c().createElement("td",null),c().createElement("td",{className:"text-left"},"$/lb/year")),c().createElement("tr",null,c().createElement("td",null,"Sediment reduction cost: "),null!==(wt=this.props.storedBmpForm)&&void 0!==wt&&wt.total_cost_per_ton_s_reduced?c().createElement("td",null,Number(null===(Ct=this.props.storedBmpForm)||void 0===Ct||null===(Mt=Ct.total_cost_per_ton_s_reduced)||void 0===Mt?void 0:Mt.toFixed(0)).toLocaleString()):c().createElement("td",null),c().createElement("td",{className:"text-left"},"$/ton/year")))))),c().createElement(f.Modal.Footer,{style:{marginTop:"78vh",borderTop:"none"}},null!==(At=this.props.storedBmpForm)&&void 0!==At&&At.id?c().createElement(c().Fragment,null,c().createElement(f.Button,{bsStyle:"warning",bsSize:"small",style:{opacity:"0.7",position:"absolute",bottom:"20px",right:"520px",minWidth:"80px"},onClick:function(){window.confirm("This will remove any custom data you have entered for the current BMP Type. Are you sure?")&&Ot.props.setChangingBmpType(!0)}},"Edit Type"),c().createElement(f.Button,{bsStyle:"danger",bsSize:"small",style:{opacity:"0.7",position:"absolute",bottom:"20px",right:"420px",minWidth:"80px"},onClick:function(){var e;window.confirm("This action can not be undone. Are you sure?")&&Ot.props.deleteBmp(Ot.props.mapId,null===(e=Ot.props.storedBmpForm)||void 0===e?void 0:e.id)}},"Delete"),this.props.complexBmpForm?c().createElement(f.Button,{bsStyle:"info",bsSize:"small",style:{opacity:"0.7",position:"absolute",bottom:"20px",right:"320px",minWidth:"80px"},onClick:function(){return Ot.props.setComplexBmpForm(!1)}},"Simple"):c().createElement(f.Button,{bsStyle:"info",bsSize:"small",style:{opacity:"0.7",position:"absolute",bottom:"20px",right:"320px",minWidth:"80px"},onClick:function(){return Ot.props.setComplexBmpForm(!0)}},"Advanced")):null,c().createElement(f.Button,{bsStyle:"info",bsSize:"small",style:{opacity:"0.7",position:"absolute",bottom:"20px",right:"220px",minWidth:"80px"},onClick:function(){return Ot.props.hideBmpForm()}},"View Map"),c().createElement(f.Button,{bsStyle:"success",bsSize:"small",style:{position:"absolute",bottom:"20px",right:"120px",minWidth:"80px"},onClick:function(){var e;window.confirm("This feature is experimental only - the report is not valid for use yet.Try the feature out and provide feedback.")&&Ot.props.downloadBmpReport(null===(e=Ot.props.storedBmpForm)||void 0===e?void 0:e.id)}},"Make PDF"),c().createElement(f.Button,{bsStyle:"success",bsSize:"small",className:this.props.hasGeometry?"":"disabled",style:{position:"absolute",bottom:"20px",right:"20px",minWidth:"80px"},onClick:function(){Ot.props.submitBmpForm(Ot.props.storedBmpForm,Ot.props.mapId)}},"Save"))))}},{key:"validateRatio",value:function(e){var t=this.props.storedBmpForm[e];return t<1&&t>0?"success":1===t?"warning":t>1||t<0?"error":null}},{key:"validateCost",value:function(e){var t=this.props.storedBmpForm[e];return t>=0?"success":t<0?"error":null}},{key:"validateFid",value:function(e){var t,r,n=this.props.storedBmpForm[e];return n>=0&&(t=n,!isNaN(t)&&(0|(r=parseFloat(t)))===r)?"success":n<0?"error":null}},{key:"handleChange",value:function(e){var t=e.target.name,r=e.target.value,n=w({},t,r);"number"===e.target.type&&(n=w({},t,parseFloat(r))),this.props.updateBmpForm(n)}},{key:"handleGroupProfileChange",value:function(e){var t=e.target.name,r=JSON.parse(e.target.value),n=w({},t,this.props.groupProfiles.filter((function(e){return(null==e?void 0:e.pk)===r}))[0]);this.props.updateBmpForm(n)}},{key:"handleBmpChange",value:function(e){var t=e.target.value,r=this.props.bmpTypes.filter((function(e){return e.name===t}))[0];this.props.makeDefaultsBmpForm(r)}},{key:"drawBmpStep1",value:function(e,t){this.props.showLoadingBmp(),this.props.hideBmpForm(),console.log("drawBmpStep1 layerName",e),console.log("drawBmpStep1 featureId",t),this.props.setDrawingBmpLayerName(e),t?this.props.setEditingBmpFeatureId(t):this.props.clearEditingBmpFeatureId();var r=this.props.layers.flat.filter((function(t){return null==t?void 0:t.name.includes(e)}))[0];this.props.toggleLayer(r.id,!0),console.log("drawBmpStep1 targetLayer",r),this.props.setLayer(null==r?void 0:r.id),this.props.featureTypeSelected("http://localhost:8080/geoserver/wfs",null==r?void 0:r.name),console.log("drawBmpStep1 finished")}}])&&F(t.prototype,r),a}(c().Component);w(M,"propTypes",{bmpTypeId:C.number,bmpTypes:C.array,bmpTypeGroups:C.array,statuses:C.array,setMenuGroup:C.func,creatingNewBmp:C.bool,updatingBmp:C.object,hideLoadingBmp:C.func,showLoadingBmp:C.func,hideBmpForm:C.func,submitBmpForm:C.func,showSubmitBmpFormSuccess:C.bool,showSubmitBmpFormError:C.bool,storeBmpForm:C.func,complexBmpForm:C.bool,setComplexBmpForm:C.func,thisBmpType:C.object,newBmpForm:C.object,storedBmpForm:C.object,clearBmpForm:C.func,groupProfiles:C.array,allowedGroupProfiles:C.array,defaultGroupProfile:C.string,makeDefaultsBmpForm:C.func,makeExistingBmpForm:C.func,updateBmpForm:C.func,setLayer:C.func,featureTypeSelected:C.func,toggleEditMode:C.func,createNewFeatures:C.func,createQuery:C.func,startDrawingFeature:C.func,saveChanges:C.func,setDrawingBmpLayerName:C.func,setEditingBmpFeatureId:C.func,clearEditingBmpFeatureId:C.func,layers:C.object,query:C.func,mapId:C.number,purgeMapInfoResults:C.func,bmpUniqueNames:C.array,setBmpTypesVisibility:C.func,setHighlightFeaturesPath:C.func,projectData:C.object,toggleLayer:C.func,bmpOutletLayer:C.object,bmpFootprintLayer:C.object,bmpWatershedLayer:C.object,hasGeometry:C.bool,requiresOutlet:C.bool,requiresFootprint:C.bool,requiresWatershed:C.bool,watershedIsFootprint:C.bool,changingBmpType:C.bool,deleteBmp:C.func,setChangingBmpType:C.func,cppe_url:C.string,standard_url:C.string,ned_url:C.string,infosheet_url:C.string,downloadBmpReport:C.func}),w(M,"defaultProps",{});var A=(0,_.connect)((function(e){var t,r,n,o,l,a,i,s,u,p,d,m,c,_,f,E,v,g,h,b,F,T,S,B,R,w,C,M,A,O,P,I,D,x,N,G,L,U,k,H,j,W,Y,z,q,V,K,$,X,Z,Q,J,ee,te=null==e||null===(t=e.security)||void 0===t||null===(r=t.user)||void 0===r||null===(n=r.info)||void 0===n?void 0:n.groups.filter((function(e){return!["anonymous","registered-members","admin","swamm-users"].includes(e)})),re=null==e||null===(o=e.swamm)||void 0===o?void 0:o.groupProfiles.filter((function(e){return te.includes(e.slug)}));return{mapId:null==e||null===(l=e.swamm)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.base_map,projectData:null==e||null===(i=e.swamm)||void 0===i?void 0:i.data,bmpUniqueNames:y(e).map((function(e){return e.name})),bmpTypes:null==e||null===(s=e.swamm)||void 0===s?void 0:s.bmpTypes,bmpTypeGroups:null==e||null===(u=e.swamm)||void 0===u?void 0:u.bmpTypeGroups,allowedGroupProfiles:re,defaultGroupProfile:te[0],statuses:null==e||null===(p=e.swamm)||void 0===p?void 0:p.statuses,thisBmpType:null==e||null===(d=e.swamm)||void 0===d?void 0:d.bmpTypes.filter((function(t){var r;return t.id===(null==e||null===(r=e.swamm)||void 0===r?void 0:r.BmpFormBmpTypeId)}))[0],storedBmpForm:(null==e||null===(m=e.swamm)||void 0===m?void 0:m.storedBmpForm)||{},complexBmpForm:(null==e||null===(c=e.swamm)||void 0===c?void 0:c.complexBmpForm)||!1,bmpOutletLayer:null==e||null===(_=e.layers)||void 0===_||null===(f=_.flat)||void 0===f?void 0:f.filter((function(t){var r,n;return t.name===(null==e||null===(r=e.swamm)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.code)+"_bmp_outlet"}))[0],bmpFootprintLayer:null==e||null===(E=e.layers)||void 0===E||null===(v=E.flat)||void 0===v?void 0:v.filter((function(t){var r,n;return t.name===(null==e||null===(r=e.swamm)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.code)+"_bmp_footprint"}))[0],bmpWatershedLayer:null==e||null===(g=e.layers)||void 0===g||null===(h=g.flat)||void 0===h?void 0:h.filter((function(t){var r,n;return t.name===(null==e||null===(r=e.swamm)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.code)+"_bmp_watershed"}))[0],hasGeometry:(null==e||null===(b=e.swamm)||void 0===b||null===(F=b.storedBmpForm)||void 0===F?void 0:F.outlet_fid)||(null==e||null===(T=e.swamm)||void 0===T||null===(S=T.storedBmpForm)||void 0===S?void 0:S.footprint_fid)||(null==e||null===(B=e.swamm)||void 0===B||null===(R=B.storedBmpForm)||void 0===R?void 0:R.watershed_fid),requiresOutlet:null==e||null===(w=e.swamm)||void 0===w||null===(C=w.storedBmpForm)||void 0===C||null===(M=C.type_data)||void 0===M?void 0:M.requires_outlet,requiresFootprint:null==e||null===(A=e.swamm)||void 0===A||null===(O=A.storedBmpForm)||void 0===O||null===(P=O.type_data)||void 0===P?void 0:P.requires_footprint,requiresWatershed:null==e||null===(I=e.swamm)||void 0===I||null===(D=I.storedBmpForm)||void 0===D||null===(x=D.type_data)||void 0===x?void 0:x.requires_watershed,watershedIsFootprint:null==e||null===(N=e.swamm)||void 0===N||null===(G=N.storedBmpForm)||void 0===G||null===(L=G.type_data)||void 0===L?void 0:L.watershed_is_footprint,cppe_url:null==e||null===(U=e.swamm)||void 0===U||null===(k=U.storedBmpForm)||void 0===k||null===(H=k.type_data)||void 0===H?void 0:H.cppe_url,standard_url:null==e||null===(j=e.swamm)||void 0===j||null===(W=j.storedBmpForm)||void 0===W||null===(Y=W.type_data)||void 0===Y?void 0:Y.standard_url,ned_url:null==e||null===(z=e.swamm)||void 0===z||null===(q=z.storedBmpForm)||void 0===q||null===(V=q.type_data)||void 0===V?void 0:V.ned_url,infosheet_url:null==e||null===(K=e.swamm)||void 0===K||null===($=K.storedBmpForm)||void 0===$||null===(X=$.type_data)||void 0===X?void 0:X.infosheet_url,creatingNewBmp:null==e||null===(Z=e.swamm)||void 0===Z?void 0:Z.creatingNewBmp,changingBmpType:null==e||null===(Q=e.swamm)||void 0===Q?void 0:Q.changingBmpType,updatingBmp:null==e||null===(J=e.swamm)||void 0===J?void 0:J.updatingBmp,groupProfiles:null==e||null===(ee=e.swamm)||void 0===ee?void 0:ee.groupProfiles,layers:null==e?void 0:e.layers,query:null==e?void 0:e.query}}),(function(e){return{setMenuGroup:function(t){return e((0,o.setMenuGroup)(t))},hideBmpForm:function(){return e((0,o.hideBmpForm)())},hideLoadingBmp:function(){return e((0,o.hideLoadingBmp)())},showLoadingBmp:function(){return e((0,o.showLoadingBmp)())},submitBmpForm:function(t,r){return e((0,o.submitBmpForm)(t,r))},updateBmpForm:function(t){return e((0,o.updateBmpForm)(t))},clearBmpForm:function(){return e((0,o.clearBmpForm)())},deleteBmp:function(t,r){return e((0,o.deleteBmp)(t,r))},makeDefaultsBmpForm:function(t){return e((0,o.makeDefaultsBmpForm)(t))},setChangingBmpType:function(t){return e((0,o.setChangingBmpType)(t))},setComplexBmpForm:function(t){return e((0,o.setComplexBmpForm)(t))},setLayer:function(t){return e((0,E.uF)(t))},setDrawingBmpLayerName:function(t){return e((0,o.setDrawingBmpLayerName)(t))},setEditingBmpFeatureId:function(t){return e((0,o.setEditingBmpFeatureId)(t))},clearEditingBmpFeatureId:function(){return e((0,o.clearEditingBmpFeatureId)())},featureTypeSelected:function(t,r){return e((0,v.gT)(t,r))},toggleEditMode:function(){return e((0,E.lg)())},toggleLayer:function(t,r){return e((0,h.He)(t,{visibility:r}))},createNewFeatures:function(t){return e((0,E.lx)(t))},createQuery:function(t,r){return e((0,v.rP)(t,r))},query:function(t,r,n,o){return e((0,v.IO)(t,r,n,o))},startDrawingFeature:function(){return e((0,E.kA)())},saveChanges:function(){return e((0,E.$S)())},purgeMapInfoResults:function(){return e((0,l.g)())},makeExistingBmpForm:function(t){return e((0,o.makeExistingBmpForm)(t))},downloadBmpReport:function(t){return e((0,o.downloadBmpReport)(t))}}}))(M),O=r(53370),P=r.n(O),I=r(45453);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W=r(45697),Y=I.Filters.NumericFilter,z=(I.Filters.AutoCompleteFilter,I.Filters.MultiSelectFilter,I.Filters.SingleSelectFilter,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(a,e);var t,r,n,o,l=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(n);if(o){var r=H(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return U(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),j(k(t=l.call(this,e)),"columnDefaults",{resizable:!0,dragable:!0,width:150,sortable:!1}),j(k(t),"columnHeaders",[{key:"id",name:"ID",filterable:!0,filterRenderer:Y},{key:"typeName",name:"Type"},{key:"organisationName",name:"Organization"},{key:"n_redratio",name:"N Reduction Ratio"},{key:"p_redratio",name:"P Reduction Ratio"},{key:"s_redratio",name:"S Reduction Ratio"},{key:"cost_base",name:"Cost Base"},{key:"cost_rate_per_footprint_area",name:"Cost per Footprint Acre"},{key:"cost_rate_per_watershed_area",name:"Cost per Watershed Acre"},{key:"calculated_footprint_area",name:"Footprint Area (Acres)"},{key:"calculated_watershed_area",name:"Watershed Area (Acres)"},{key:"calculated_total_cost",name:"Total Cost"},{key:"previous_n_load",name:"Previous N Load (lbs/year)"},{key:"n_load_reduction",name:"N Load Reduction (lbs/year)"},{key:"new_n_load",name:"New N Load (lbs/year)"},{key:"previous_p_load",name:"Previous P Load (lbs/year)"},{key:"p_load_reduction",name:"P Load Reduction (lbs/year)"},{key:"new_p_load",name:"New P Load (lbs/year)"},{key:"previous_s_load",name:"Previous S Load (lbs/year)"},{key:"s_load_reduction",name:"S Load Reduction (lbs/year)"},{key:"new_s_load",name:"New S Load (lbs/year)"},{key:"cost_per_lbs_n_reduced",name:"$ per pound N Reduction"},{key:"cost_per_lbs_p_reduced",name:"$ per pound P Reduction"},{key:"cost_per_ton_s_reduced",name:"$ per pound S Reduction"}]),j(k(t),"columns",t.columnHeaders.map((function(e){return N(N({},t.columnDefaults),e)}))),j(k(t),"rows",t.props.allBmps.map((function(e){var t,r,n,o,l,a,i,s,u,p,d,m;return N(N({},e),{},{typeName:e.type_data.name,organisationName:e.type_data.organisation.name,n_redratio:null===(t=e.override_n_redratio)||void 0===t?void 0:t.toPrecision(2),p_redratio:null===(r=e.override_p_redratio)||void 0===r?void 0:r.toPrecision(2),s_redratio:null===(n=e.override_s_redratio)||void 0===n?void 0:n.toPrecision(2),cost_base:g(e.override_cost_base,0),cost_rate_per_footprint_area:g(e.override_cost_rate_per_footprint_area,0),cost_rate_per_watershed_area:g(e.override_cost_rate_per_watershed_area,0),calculated_footprint_area:g(e.calculated_footprint_area,0),calculated_watershed_area:g(e.calculated_watershed_area,0),calculated_total_cost:g(e.calculated_total_cost,0),previous_n_load:null===(o=e.previous_n_load)||void 0===o?void 0:o.toFixed(0),n_load_reduction:null===(l=e.n_load_reduction)||void 0===l?void 0:l.toFixed(0),new_n_load:null===(a=e.new_n_load)||void 0===a?void 0:a.toFixed(0),previous_p_load:null===(i=e.previous_p_load)||void 0===i?void 0:i.toFixed(0),p_load_reduction:null===(s=e.p_load_reduction)||void 0===s?void 0:s.toFixed(0),new_p_load:null===(u=e.new_p_load)||void 0===u?void 0:u.toFixed(0),previous_s_load:null===(p=e.previous_s_load)||void 0===p?void 0:p.toFixed(0),s_load_reduction:null===(d=e.s_load_reduction)||void 0===d?void 0:d.toFixed(0),new_s_load:null===(m=e.new_s_load)||void 0===m?void 0:m.toFixed(0),cost_per_lbs_n_reduced:g(e.cost_per_lbs_n_reduced,0),cost_per_lbs_p_reduced:g(e.cost_per_lbs_p_reduced,0),cost_per_ton_s_reduced:g(e.cost_per_ton_s_reduced,0)})}))),t.handleChange=t.handleChange.bind(k(t)),t.state={},t}return t=a,(r=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return c().createElement(f.Modal,{show:!0,onHide:function(){return console.log("onHide")},style:{marginTop:"50px",width:"100%"},dialogClassName:"swamm-big-modal"},c().createElement(f.Modal.Header,null,c().createElement(f.Modal.Title,null,"BMP Summary")),c().createElement(f.Modal.Body,null,c().createElement("div",null,c().createElement(P(),{columns:this.columns,rowGetter:function(t){return e.rows[t]},rowsCount:this.rows.length,minHeight:"75vh",height:"75vh",style:{margin:"10px"}}))),c().createElement(f.Modal.Footer,null,c().createElement(f.Button,{bsStyle:"danger",bsSize:"small",style:{opacity:"0.7"},onClick:function(){return e.props.hideSwammDataGrid()}},"Close")))}},{key:"handleChange",value:function(e){console.log("handleChange",e)}}])&&G(t.prototype,r),a}(c().Component));j(z,"propTypes",{hideSwammDataGrid:W.func,allBmps:W.array}),j(z,"defaultProps",{});var q=(0,_.connect)((function(e){var t,r,n;return{mapId:null==e||null===(t=e.projectManager)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.base_map,allBmps:null==e||null===(n=e.swamm)||void 0===n?void 0:n.allBmps}}),(function(e){return{hideSwammDataGrid:function(){return e((0,o.hideSwammDataGrid)())}}}))(z);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(19970);var ee=r(45697),te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(a,e);var t,r,n,o,l=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(n);if(o){var r=Q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return X(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=l.call(this,e)).handleChange=t.handleChange.bind(Z(t)),t.handleMultiSelection=t.handleMultiSelection.bind(Z(t)),t.state={},t}return t=a,(r=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t,r,n,o,l,a,i,s,u,p,d,m,_=this;return c().createElement(c().Fragment,null,c().createElement(f.Modal,{show:!0,onHide:function(){return _.props.hideTargetForm()},style:{marginTop:"50px",fontSize:"small"},dialogClassName:"swamm-big-modal",backdrop:!1,enforceFocus:!1,scrollable:"true"},c().createElement(f.Modal.Header,null,c().createElement(f.Modal.Title,null,this.props.targetForm.id?"Edit Target: "+(null===(e=this.props.targetForm)||void 0===e?void 0:e.name):"Create a new Target")),c().createElement(f.Modal.Body,{style:{padding:"20px"}},c().createElement(f.Grid,null,c().createElement(f.Col,{sm:6},c().createElement(f.Row,{className:"well",style:{paddingTop:"10px",margin:"5px"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"20px",margin:"0",textAlign:"center",fontSize:"14px"}},"Target Details:"),c().createElement(f.FormGroup,{controlId:"target_name",bsSize:"small"},c().createElement(f.Row,null,c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{marginTop:"3px"}},"Name:"),c().createElement(f.Col,{sm:9},c().createElement(f.FormControl,{inline:"true",type:"text",name:"name",value:null===(t=this.props.targetForm)||void 0===t?void 0:t.name,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null)))),c().createElement(f.FormGroup,{controlId:"target_description",bsSize:"small"},c().createElement(f.Row,null,c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{marginTop:"3px"}},"Description:"),c().createElement(f.Col,{sm:9},c().createElement(f.FormControl,{componentClass:"textarea",inline:"true",type:"textarea",name:"description",value:null===(r=this.props.targetForm)||void 0===r?void 0:r.description,onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null))))),c().createElement(f.Row,{className:"well",style:{paddingTop:"10px",margin:"5px"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"20px",margin:"0",textAlign:"center",fontSize:"14px"}},"Establish Targets:"),c().createElement(f.FormGroup,{controlId:"target_percent_n_reduction",validationState:this.validatePercentage("target_percent_n_reduction"),bsSize:"small"},c().createElement(f.Row,null,c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{marginTop:"3px"}},"Nitrogen:"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:1,precision:0,name:"target_percent_n_reduction",value:100*(null===(n=this.props.targetForm)||void 0===n?void 0:n.target_percent_n_reduction),onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null)),c().createElement(f.Col,{sm:3,style:{marginTop:"3px"}},"% reduction"))),c().createElement(f.FormGroup,{controlId:"target_percent_p_reduction",validationState:this.validatePercentage("target_percent_p_reduction"),bsSize:"small"},c().createElement(f.Row,null,c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{marginTop:"3px"}},"Phosphorus:"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:1,precision:0,name:"target_percent_p_reduction",value:100*(null===(o=this.props.targetForm)||void 0===o?void 0:o.target_percent_p_reduction),onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null)),c().createElement(f.Col,{sm:3,style:{marginTop:"3px"}},"% reduction"))),c().createElement(f.FormGroup,{controlId:"target_percent_s_reduction",validationState:this.validatePercentage("target_percent_s_reduction"),bsSize:"small"},c().createElement(f.Row,null,c().createElement(f.Col,{componentClass:f.ControlLabel,sm:3,style:{marginTop:"3px"}},"Sediment:"),c().createElement(f.Col,{sm:5},c().createElement(f.FormControl,{inline:"true",type:"number",step:1,precision:0,name:"target_percent_s_reduction",value:100*(null===(l=this.props.targetForm)||void 0===l?void 0:l.target_percent_s_reduction),onChange:this.handleChange}),c().createElement(f.FormControl.Feedback,null)),c().createElement(f.Col,{sm:3,style:{marginTop:"3px"}},"% reduction"))))),c().createElement(f.Col,{sm:6},c().createElement(f.Row,{className:"well",style:{paddingTop:"10px",margin:"5px"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"20px",margin:"0",textAlign:"center",fontSize:"14px"}},"Include BMPs from these organizations:"),c().createElement(f.FormGroup,{controlId:"target_groupProfiles",bsSize:"small"},c().createElement(f.Row,null,c().createElement(f.FormControl,{componentClass:"select",multiple:!0,inline:"true",name:"group_profiles",value:null===(a=this.props.targetForm)||void 0===a?void 0:a.group_profiles,onChange:this.handleMultiSelection},null===(i=this.props.groupProfiles)||void 0===i?void 0:i.map((function(e){return c().createElement("option",{value:e.pk},e.title)}))),c().createElement(f.FormControl.Feedback,null)))),c().createElement(f.Row,{className:"well",style:{paddingTop:"10px",margin:"5px"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"20px",margin:"0",textAlign:"center",fontSize:"14px"}},"Include these BMP types:"),c().createElement(f.FormGroup,{controlId:"target_bmp_types",bsSize:"small"},c().createElement(f.Row,null,c().createElement(f.FormControl,{componentClass:"select",multiple:!0,inline:"true",name:"bmp_types",value:null===(s=this.props.targetForm)||void 0===s?void 0:s.bmp_types,onChange:this.handleMultiSelection},null===(u=this.props.bmpTypes)||void 0===u?void 0:u.map((function(e){return c().createElement("option",{value:e.id},e.name)}))),c().createElement(f.FormControl.Feedback,null)))),c().createElement(f.Row,{className:"well",style:{paddingTop:"10px",margin:"5px"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"20px",margin:"0",textAlign:"center",fontSize:"14px"}},"Include these BMP statuses:"),c().createElement(f.FormGroup,{controlId:"target_bmp_statuses",bsSize:"small"},c().createElement(f.Row,null,c().createElement(f.FormControl,{componentClass:"select",multiple:!0,inline:"true",name:"statuses",value:null===(p=this.props.targetForm)||void 0===p?void 0:p.statuses,onChange:this.handleMultiSelection},null===(d=this.props.statuses)||void 0===d?void 0:d.map((function(e){return c().createElement("option",{value:e},e)}))),c().createElement(f.FormControl.Feedback,null))))))),c().createElement(f.Modal.Footer,{style:{minHeight:"100px"}},null!==(m=this.props.targetForm)&&void 0!==m&&m.id?c().createElement(f.Button,{bsStyle:"danger",bsSize:"small",style:{opacity:"0.7",position:"absolute",bottom:"20px",right:"220px",minWidth:"80px"},onClick:function(){var e;window.confirm("This action can not be undone. Are you sure?")&&_.props.deleteTarget(_.props.mapId,null===(e=_.props.targetForm)||void 0===e?void 0:e.id)}},"Delete Target"):null,c().createElement(f.Button,{bsStyle:"danger",bsSize:"small",style:{opacity:"0.7",position:"absolute",bottom:"20px",right:"120px",minWidth:"80px"},onClick:function(){return _.props.hideTargetForm()}},"Close"),c().createElement(f.Button,{bsStyle:"success",bsSize:"small",style:{opacity:"0.7",position:"absolute",bottom:"20px",right:"20px",minWidth:"80px"},onClick:function(){_.props.submitTargetForm(_.props.targetForm,_.props.mapId)}},"Save Target"))))}},{key:"handleMultiSelection",value:function(e){var t=J({},e.target.name,Array.from(e.target.selectedOptions,(function(e){return e.value})));this.props.updateTargetForm(t)}},{key:"handleChange",value:function(e){var t=e.target.name,r=e.target.value,n=J({},t,r);"number"===e.target.type&&e.target.name.includes("target_percent_")&&(n=J({},t,parseFloat(r)/100)),this.props.updateTargetForm(n)}},{key:"validatePercentage",value:function(e){var t=this.props.targetForm[e];return t<1&&t>0?"success":1===t?"warning":t>1||t<0?"error":null}}])&&K(t.prototype,r),a}(c().Component);J(te,"propTypes",{mapId:ee.number,targetForm:ee.object,hideTargetForm:ee.func,deleteTarget:ee.func,clearTargetForm:ee.func,submitTargetForm:ee.func,updateTargetForm:ee.func,groupProfiles:ee.array,bmpTypes:ee.array,statuses:ee.array}),J(te,"defaultProps",{});var re=(0,_.connect)((function(e){var t,r,n,o,l,a;return{mapId:null==e||null===(t=e.swamm)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.base_map,bmpTypes:null==e||null===(n=e.swamm)||void 0===n?void 0:n.bmpTypes,statuses:null==e||null===(o=e.swamm)||void 0===o?void 0:o.statuses,targetForm:(null==e||null===(l=e.swamm)||void 0===l?void 0:l.targetForm)||{},groupProfiles:null==e||null===(a=e.swamm)||void 0===a?void 0:a.groupProfiles}}),(function(e){return{hideTargetForm:function(){return e((0,o.hideTargetForm)())},deleteTarget:function(t,r){return e((0,o.deleteTarget)(t,r))},clearTargetForm:function(){return e((0,o.clearTargetForm)())},submitTargetForm:function(t,r){return e((0,o.submitTargetForm)(t,r))},updateTargetForm:function(t){return e((0,o.updateTargetForm)(t))}}}))(te);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t,r){return t&&le(e.prototype,t),r&&le(e,r),e}function ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=me(e);if(t){var o=me(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pe(this,r)}}function pe(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _e=r(45697),fe=r(48465),Ee=fe.Cell,ve=fe.BarChart,ge=fe.Bar,ye=fe.PieChart,he=fe.Pie,be=fe.ResponsiveContainer,Fe=fe.XAxis,Te=fe.YAxis,Se=fe.Legend,Be=(fe.Tooltip,100),Re=function(e){ie(r,e);var t=ue(r);function r(e){var n;return oe(this,r),ce(de(n=t.call(this,e)),"pollutants",[{name:"Phosphorus",load_red_total_key:"total_p_load_reduction",units:"lbs/year",initial:"p"},{name:"Nitrogen",load_red_total_key:"total_n_load_reduction",units:"lbs/year",initial:"n"},{name:"Sediment",load_red_total_key:"total_s_load_reduction",units:"tons/year",initial:"s"}]),ce(de(n),"colours",["#0088FE","#00C49F","#FFBB28","#FF8042","#39CCCC","#7FDBFF","#0074D9","#001f3f","#FFDC00","#01FF70","#2ECC40","#3D9970","#DDDDDD","#AAAAAA","#B10DC9","#F012BE","#85144b","#FF4136","#FF851B","#FFFFFF"]),n.state={},n}return ae(r,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t,r,n,o,l,a,i,s,u,p,d,m,_,E,v,y,h,b,F,T,S,B,R,w,C,M,A,O,P,I,D,x,N,G,L,U,k,H,j,W=this;return c().createElement(f.Modal,{show:!0,onHide:function(){return console.log("onHide")},style:{marginTop:"50px",width:"100%"},dialogClassName:"swamm-big-modal"},c().createElement(f.Modal.Header,null,c().createElement(f.Modal.Title,{style:{textAlign:"center"}},c().createElement("h4",{style:{padding:"0",margin:"0"}},null===(e=this.props.selectedTarget)||void 0===e?void 0:e.name))),c().createElement(f.Modal.Body,null,c().createElement(f.Grid,null,c().createElement(f.Col,{sm:2},c().createElement(f.Row,{className:"well",style:{paddingTop:"0"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"10px",margin:"0",textAlign:"center",fontSize:"14px"}},"Targets"),this.props.targets.map((function(e){return c().createElement("div",{className:"row-no-gutters"},c().createElement(f.Button,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:e.id===W.props.selectedTargetId?"rgba(39,202,59,1)":"rgba(39,202,59,0.6)",marginTop:"4px",fontSize:"x-small"},onClick:function(){return W.props.selectSwammTargetId(null==e?void 0:e.id)}},null==e?void 0:e.name))})),c().createElement("div",{className:"row-no-gutters"},c().createElement(f.Button,{bsStyle:"info",bsSize:"xsmall",block:!0,style:{marginTop:"4px",fontSize:"x-small"},onClick:function(){return W.props.showTargetForm()}},"New Target")),c().createElement("div",{className:"row-no-gutters"},c().createElement(f.Button,{bsStyle:"info",bsSize:"xsmall",block:!0,style:{marginTop:"4px",fontSize:"x-small"},onClick:function(){return W.props.showTargetForm(W.props.selectedTarget)}},"Edit Target"))),c().createElement(f.Row,{className:"well",style:{paddingTop:"20px"}},c().createElement("h4",{style:{paddingTop:"5px",paddingBottom:"10px",margin:"0",textAlign:"center",fontSize:"14px"}},"Sort Data By:"),c().createElement("div",{className:"row-no-gutters"},c().createElement(f.Button,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:"type"===this.props.bmpFilterMode?"rgba(39,202,59,1)":"rgba(39,202,59,0.6)",marginTop:"4px",fontSize:"x-small"},onClick:function(){return W.props.setBmpFilterMode("type")}},"BMP Type")),c().createElement("div",{className:"row-no-gutters"},c().createElement(f.Button,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:"status"===this.props.bmpFilterMode?"rgba(39,202,59,1)":"rgba(39,202,59,0.6)",marginTop:"4px",fontSize:"x-small"},onClick:function(){return W.props.setBmpFilterMode("status")}},"BMP Status")),c().createElement("div",{className:"row-no-gutters"},c().createElement(f.Button,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:"group_profile"===this.props.bmpFilterMode?"rgba(39,202,59,1)":"rgba(39,202,59,0.6)",marginTop:"4px",fontSize:"x-small"},onClick:function(){return W.props.setBmpFilterMode("group_profile")}},"Organization")))),this.props.selectedTargetId?c().createElement(f.Col,{sm:8,style:{marginLeft:20,marginRight:-20}},this.pollutants.map((function(e){var t,r,n,o,l,a,i,s,u,p;return c().createElement(f.Row,{className:"well"},c().createElement(f.Col,{sm:3,style:{padding:0}},c().createElement("h4",{style:{textAlign:"center",fontSize:"14px",paddingLeft:"5px",paddingTop:"5px",paddingBottom:"10px",margin:0}},e.name),c().createElement("div",{style:{width:150,height:Be/1.2}},c().createElement(be,null,c().createElement(ye,{width:150,height:150,style:{paddingTop:"10px"}},c().createElement(he,{data:null===(t=W.props.selectedTarget)||void 0===t||null===(r=t.speedDialData)||void 0===r?void 0:r["percent".concat(e.name,"Target")],dataKey:"value",cx:66.92307692307692,cy:50,innerRadius:Be/3,outerRadius:50,fill:"#82ca9d",startAngle:180,endAngle:0,isAnimationActive:!1},c().createElement(Ee,{fill:"#27ca3b",cornerRadius:5}),c().createElement(Ee,{fill:"#97b3c3",cornerRadius:1})),c().createElement("text",{x:66.92307692307692,y:45,textAnchor:"middle",fontSize:20,dominantBaseline:"middle",className:"progress-label"},null===(n=W.props.selectedTarget)||void 0===n||null===(o=n.speedDialData["percent".concat(e.name,"Target")])||void 0===o||null===(l=o[0])||void 0===l?void 0:l.value.toFixed(1),"%"))))),c().createElement(f.Col,{sm:8},c().createElement("h4",{style:{textAlign:"center",fontSize:"14px",paddingTop:"5px",paddingBottom:"10px",margin:0}},"Load reductions (",e.units,"):"),c().createElement("div",{style:{width:"100%",height:100}},c().createElement(be,null,c().createElement(ve,{width:600,height:80,data:[{barOne:null===(a=W.props.selectedTarget)||void 0===a||null===(i=a.barChartData)||void 0===i?void 0:i[W.props.bmpFilterMode]}],margin:{top:0,right:0,left:10,bottom:10},layout:"vertical",maxBarSize:100},null===(s=W.props.selectedTarget)||void 0===s||null===(u=s.barChartData)||void 0===u||null===(p=u[W.props.bmpFilterMode])||void 0===p?void 0:p.map((function(t,r){var n="barOne.".concat(r,".").concat(e.load_red_total_key);return c().createElement(ge,{key:"".concat(t[W.props.bmpFilterMode]," + ").concat(e.initial),stackId:"a",dataKey:n,fill:W.colours[r],name:null==t?void 0:t.label})})),c().createElement(Fe,{type:"number"}),c().createElement(Te,{type:"category",hide:!0}),"p"===e.initial?c().createElement(Se,{layout:"vertical",verticalAlign:"top",align:"right",wrapperStyle:{right:"-300px",top:"-40px"}}):null)))))})),c().createElement(f.Row,null,c().createElement(f.Table,{bordered:!0,condensed:!0,hover:!0,className:"text-right"},c().createElement("thead",null,c().createElement("tr",null,c().createElement("th",null,"Summary"),c().createElement("th",{style:{textAlign:"center"}},"Phosphorus"),c().createElement("th",{style:{textAlign:"center"}},"Nitrogen"),c().createElement("th",{style:{textAlign:"center"}},"Sediment"),c().createElement("th",null))),c().createElement("tbody",null,c().createElement("tr",null,c().createElement("td",null,"Current total untreated pollutant volume:"),c().createElement("td",null,g(null===(t=this.props.selectedTarget)||void 0===t||null===(r=t.speedDialData)||void 0===r?void 0:r.currentPhosphorusLoad,0)),c().createElement("td",null,g(null===(n=this.props.selectedTarget)||void 0===n||null===(o=n.speedDialData)||void 0===o?void 0:o.currentNitrogenLoad,0)),c().createElement("td",null,g(null===(l=this.props.selectedTarget)||void 0===l||null===(a=l.speedDialData)||void 0===a?void 0:a.currentSedimentLoad,0)),c().createElement("td",{className:"text-left"},"units/year")),c().createElement("tr",null,c().createElement("td",null,"Selected target reduction percentage:"),c().createElement("td",null,100*(null===(i=this.props.selectedTarget)||void 0===i||null===(s=i.speedDialData)||void 0===s?void 0:s.percentPhosphorusReductionTarget)),c().createElement("td",null,100*(null===(u=this.props.selectedTarget)||void 0===u||null===(p=u.speedDialData)||void 0===p?void 0:p.percentNitrogenReductionTarget)),c().createElement("td",null,100*(null===(d=this.props.selectedTarget)||void 0===d||null===(m=d.speedDialData)||void 0===m?void 0:m.percentSedimentReductionTarget)),c().createElement("td",{className:"text-left"},"% of total")),c().createElement("tr",null,c().createElement("td",null,"Selected target load reduction required:"),c().createElement("td",null,g(null===(_=this.props.selectedTarget)||void 0===_||null===(E=_.speedDialData)||void 0===E?void 0:E.targetPhosphorusLoadReductionRequired,0)),c().createElement("td",null,g(null===(v=this.props.selectedTarget)||void 0===v||null===(y=v.speedDialData)||void 0===y?void 0:y.targetNitrogenLoadReductionRequired,0)),c().createElement("td",null,g(null===(h=this.props.selectedTarget)||void 0===h||null===(b=h.speedDialData)||void 0===b?void 0:b.targetSedimentLoadReductionRequired,0)),c().createElement("td",{className:"text-left"},"units/year")),c().createElement("tr",null,c().createElement("td",null,"Actual pollutant reduction from BMPs:"),c().createElement("td",null,g(null===(F=this.props.selectedTarget)||void 0===F||null===(T=F.speedDialData)||void 0===T?void 0:T.totalBmpPhosphorusReduction,0)),c().createElement("td",null,g(null===(S=this.props.selectedTarget)||void 0===S||null===(B=S.speedDialData)||void 0===B?void 0:B.totalBmpNitrogenReduction,0)),c().createElement("td",null,g(null===(R=this.props.selectedTarget)||void 0===R||null===(w=R.speedDialData)||void 0===w?void 0:w.totalBmpSedimentReduction,0)),c().createElement("td",{className:"text-left"},"units/year")),c().createElement("tr",null,c().createElement("td",null,"Percentage of target achieved:"),c().createElement("td",null,null===(C=this.props.selectedTarget)||void 0===C||null===(M=C.speedDialData)||void 0===M||null===(A=M.percentPhosphorusTarget)||void 0===A||null===(O=A[0])||void 0===O||null===(P=O.value)||void 0===P?void 0:P.toFixed(1)),c().createElement("td",null,null===(I=this.props.selectedTarget)||void 0===I||null===(D=I.speedDialData)||void 0===D||null===(x=D.percentNitrogenTarget)||void 0===x||null===(N=x[0])||void 0===N||null===(G=N.value)||void 0===G?void 0:G.toFixed(1)),c().createElement("td",null,null===(L=this.props.selectedTarget)||void 0===L||null===(U=L.speedDialData)||void 0===U||null===(k=U.percentSedimentTarget)||void 0===k||null===(H=k[0])||void 0===H||null===(j=H.value)||void 0===j?void 0:j.toFixed(1)),c().createElement("td",{className:"text-left"},"%")))))):c().createElement(f.Col,{sm:8,style:{marginLeft:20,marginRight:-20,textAlign:"center"}},"Please select a target on the left"))),c().createElement(f.Modal.Footer,null,c().createElement(f.Button,{bsStyle:"danger",bsSize:"small",style:{opacity:"0.7"},onClick:function(){return W.props.hideSwammBmpChart()}},"Close")))}}]),r}(c().Component);ce(Re,"propTypes",{hideSwammBmpChart:_e.func,allBmps:_e.array,data:_e.array,layerForLegend:_e.object,targets:_e.array,selectSwammTargetId:_e.func,showTargetForm:_e.func,selectedTargetId:_e.number,defaultTargetId:_e.number,selectedTarget:_e.object,bmpFilterMode:_e.string,setBmpFilterMode:_e.func}),ce(Re,"defaultProps",{});var we=function(e){ie(r,e);var t=ue(r);function r(){return oe(this,r),t.apply(this,arguments)}return ae(r,[{key:"render",value:function(){return null}}]),r}(c().Component);ce(we,"propTypes",{type:_e.string,payload:_e.array,active:_e.bool,tooltipBarId:_e.number,tooltipPollutantKey:_e.string,barChartData:_e.array,selectedTarget:_e.object});var Ce=function(e){var t,r,n,o,l,a,i,s,u,p,d,m,c,_,f=(null==e||null===(t=e.swamm)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.code)+"_bmp_footprint";return{mapId:null==e||null===(n=e.swamm)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.base_map,layerForLegend:null==e||null===(l=e.layers)||void 0===l||null===(a=l.flat)||void 0===a?void 0:a.filter((function(e){return e.name===f}))[0],allBmps:null==e||null===(i=e.swamm)||void 0===i?void 0:i.allBmps,statuses:(null==e||null===(s=e.swamm)||void 0===s?void 0:s.statuses)||[],targets:(null==e||null===(u=e.swamm)||void 0===u?void 0:u.targets)||[],selectedTargetId:null==e||null===(p=e.swamm)||void 0===p?void 0:p.selectedTargetId,selectedTarget:null==e||null===(d=e.swamm)||void 0===d||null===(m=d.targets)||void 0===m||null===(c=m.filter((function(t){var r;return t.id===(null==e||null===(r=e.swamm)||void 0===r?void 0:r.selectedTargetId)})))||void 0===c?void 0:c[0],bmpFilterMode:(null==e||null===(_=e.swamm)||void 0===_?void 0:_.bmpFilterMode)||"type",visibleTargetForm:null==e?void 0:e.swamm.visibleTargetForm}},Me=function(e){return{hideSwammBmpChart:function(){return e((0,o.hideSwammBmpChart)())},selectSwammTargetId:function(t){return e((0,o.selectSwammTargetId)(t))},setBmpFilterMode:function(t){return e((0,o.setBmpFilterMode)(t))},showTargetForm:function(t){return e((0,o.showTargetForm)(t))}}},Ae=(0,_.connect)(Ce,Me)(Re),Oe=((0,_.connect)(Ce,Me)(we),r(88380)),Pe=r(51288),Ie=r(4206);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(29944);var He=r(45697),je=r(72986),We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(a,e);var t,r,n,o,l=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ue(n);if(o){var r=Ue(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ge(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ke(Le(t=l.call(this,e)),"setBmpTypesVisibility",(function(e,t){})),t}return t=a,(r=[{key:"componentDidUpdate",value:function(){var e,t,r,n;this.props.mapId||this.fetching||(this.fetching=!1),!this.props.mapId||this.props.hasPmData||this.fetching||(this.props.fetchProjectManagerConfig(this.props.mapId),this.fetching=!0),this.props.mapId&&this.props.hasPmData&&(this.fetching=!1),this.props.hasPmData&&(this.props.mapId||this.fetchingBmpTypes||(this.fetchingBmpTypes=!1),this.props.mapId&&0===(null===(e=this.props.bmpTypes)||void 0===e?void 0:e.length)&&!this.fetchingBmpTypes&&(this.fetchingBmpTypes=!0,this.props.fetchSwammBmpTypes(this.props.mapId)),this.props.mapId&&(null===(t=this.props.bmpTypes)||void 0===t?void 0:t.length)>0&&(this.fetchingBmpTypes=!1),this.props.mapId||this.fetchingGroupProfiles||(this.fetchingGroupProfiles=!1),this.props.mapId&&0===(null===(r=this.props.groupProfiles)||void 0===r?void 0:r.length)&&!this.fetchingGroupProfiles&&(this.fetchingGroupProfiles=!0,this.props.fetchGroupProfiles()),this.props.mapId&&(null===(n=this.props.groupProfiles)||void 0===n?void 0:n.length)>0&&(this.fetchingGroupProfiles=!1),this.props.mapId||this.fetchingStatuses||(this.fetchingStatuses=!1),this.props.mapId&&0===this.props.statuses.length&&!this.fetchingStatuses&&(this.fetchingStatuses=!0,this.props.fetchSwammBmpStatuses(this.props.mapId)),this.props.mapId&&this.props.statuses.length>0&&(this.fetchingStatuses=!1),this.props.mapId||this.fetchingTargets||(this.fetchingTargets=!1),this.props.mapId&&0===this.props.targets.length&&!this.fetchingTargets&&(this.fetchingTargets=!0,this.props.fetchSwammTargets(this.props.mapId)),this.props.mapId&&this.props.targets.length>0&&(this.fetchingTargets=!1))}},{key:"render",value:function(){var e,t=this;return c().createElement("div",{id:"swamm-container"},this.props.hasPmData?c().createElement(c().Fragment,null,!this.props.storedBmpForm||this.props.visibleBmpForm||this.props.drawingBmpLayerName||this.props.editingBmpFeatureId?this.props.drawingBmpLayerName||this.props.editingBmpFeatureId?c().createElement(c().Fragment,null,c().createElement(f.Button,{bsStyle:"success",className:"simple-view-menu-button bmp-progress-button",style:{left:30,top:80,width:120,backgroundColor:"darkgreen"},onClick:function(){t.props.saveChanges(),t.props.showBmpForm()}},"Save Feature"),c().createElement(f.Button,{bsStyle:"danger",className:"simple-view-menu-button bmp-progress-button",style:{left:160,top:80,width:120,backgroundColor:"darkred"},onClick:function(){t.props.showBmpForm(),t.props.setLayer(null),t.props.toggleViewMode(),t.props.drawStopped(),t.props.clearDrawingBmpLayerName(),t.props.clearEditingBmpFeatureId()}},"Cancel Feature"),c().createElement("button",{key:"swamm-bmp-creator-button",className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+1)+20},onClick:function(){t.props.saveChanges(),t.props.showBmpForm(),t.props.setOpenMenuGroupId(null)}},"Create BMPs")):this.props.visibleBmpForm?c().createElement("button",{className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+1)+20},disabled:!0},"Create BMPs"):c().createElement("button",{key:"swamm-bmp-creator-button",className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+1)+20},onClick:function(){t.props.makeBmpForm(t.props.defaultGroupProfile),t.props.setOpenMenuGroupId(null)}},"Create BMPs"):c().createElement(c().Fragment,null,c().createElement(f.Button,{className:"simple-view-menu-button bmp-progress-button-success",style:{left:20},bsStyle:"success",onClick:function(){return t.props.showBmpForm()}},"BMP in progress"),c().createElement("button",{key:"swamm-bmp-creator-button",className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+1)+20},onClick:function(){t.props.showBmpForm(),t.props.setOpenMenuGroupId(null)}},"Create BMPs")),null!==(e=this.props.targets)&&void 0!==e&&e.length?c().createElement("button",{key:"swamm-bmp-chart-button",className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+2)+20},onClick:function(){t.props.showSwammBmpChart(),t.props.setOpenMenuGroupId(null)}},"Dashboard"):c().createElement("button",{key:"swamm-bmp-chart-button",className:"simple-view-menu-button disabled",style:{left:100*(this.props.numberOfMenus+2)+20}},c().createElement("span",null,c().createElement(je,{color:"white",style:{display:"inline-block"},spinnerName:"circle",noFadeIn:!0}))),this.props.visibleBmpManager?c().createElement("div",{className:"simple-view-panel",id:"swamm-bmp-manager"},c().createElement("table",{className:"table check1",style:{tableLayout:"fixed",marginBottom:"0"}},c().createElement("tbody",null,c().createElement("tr",{key:"r1"},c().createElement("td",{key:"d2"},c().createElement(Oe.j,{layer:this.props.bmpDataLayer})))))):null,this.props.visibleTargetForm?c().createElement(re,null):null,this.props.visibleBmpForm?c().createElement(A,null):null,this.props.visibleSwammDataGrid?c().createElement("div",null,c().createElement(q,null),"SwammDataGrid"):null,this.props.visibleSwammBmpChart?c().createElement("div",null,c().createElement(Ae,null),"SwammBmpChart"):null,this.props.loadingBmp?c().createElement("button",{className:"simple-view-menu-button bmp-loading-button"},c().createElement("div",{style:{marginBottom:"10px"}},"Loading BMP data..."),c().createElement("span",null,c().createElement(je,{color:"white",style:{display:"inline-block"},spinnerName:"circle",noFadeIn:!0}))):null):null)}}])&&xe(t.prototype,r),a}(c().Component);ke(We,"propTypes",{fetchSwammBmpTypes:He.func,fetchSwammBmpStatuses:He.func,fetchSwammTargets:He.func,fetchProjectManagerConfig:He.func,fetchGroupProfiles:He.func,fetchingGroupProfiles:He.bool,fetchingTargets:He.bool,statuses:He.array,targets:He.array,swammData:He.array,mapId:He.number,bmpUniqueNames:He.array,bmpTypes:He.array,groupProfiles:He.array,allBmps:He.array,showOutlets:He.bool,showFootprints:He.bool,showWatersheds:He.bool,projectCode:He.string,layers:He.object,toggleLayer:He.func,showBmpForm:He.func,visibleBmpForm:He.bool,makeBmpForm:He.func,storedBmpForm:He.object,showMenuGroup:He.bool,setOpenMenuGroupId:He.func,loadingBmp:He.bool,saveChanges:He.func,clearDrawingBmpLayerName:He.func,clearEditingBmpFeatureId:He.func,drawingBmpLayerName:He.string,setEditingBmpFeatureId:He.func,editingBmpFeatureId:He.string,query:He.func,toggleBmpType:He.func,setBmpType:He.func,filters:He.object,visibleBmpManager:He.bool,visibleSwammDataGrid:He.bool,showSwammFeatureGrid:He.func,showSwammDataGrid:He.func,visibleSwammBmpChart:He.bool,visibleTargetForm:He.bool,showSwammBmpChart:He.func,clickBmpManager:He.func,bmpByUniqueNameSelector:He.func,setLayer:He.func,toggleViewMode:He.func,drawStopped:He.func,bmpOutletLayer:He.object,bmpFootrprintLayer:He.object,bmpWatershedLayer:He.object,numberOfMenus:He.number,hasPmData:He.object,bmpDataLayer:He.object,defaultGroupProfile:He.object}),ke(We,"defaultProps",{});const Ye=(0,_.connect)((function(e){var t,r,n,o,l,a,i,s,u,p,d,m,c,_,f,E,v,g,h,b,F,T,S,B,R,w,C,M,A,O,P,I,D;console.log("state for Swamm:",e);var x=null==e||null===(t=e.security)||void 0===t||null===(r=t.user)||void 0===r||null===(n=r.info)||void 0===n?void 0:n.groups.filter((function(e){return!["anonymous","registered-members","admin"].includes(e)})),N=null==e||null===(o=e.swamm)||void 0===o?void 0:o.groupProfiles.filter((function(e){return x.includes(e.slug)}));return{mapId:null==e||null===(l=e.map)||void 0===l||null===(a=l.present)||void 0===a||null===(i=a.info)||void 0===i?void 0:i.id,hasPmData:null==e||null===(s=e.swamm)||void 0===s?void 0:s.data,defaultGroupProfile:N[0],bmpUniqueNames:y(e),bmpTypes:null==e||null===(u=e.swamm)||void 0===u?void 0:u.bmpTypes,groupProfiles:null==e?void 0:e.swamm.groupProfiles,allBmps:null==e||null===(p=e.swamm)||void 0===p?void 0:p.allBmps,statuses:null==e||null===(d=e.swamm)||void 0===d?void 0:d.statuses,targets:null==e||null===(m=e.swamm)||void 0===m?void 0:m.targets,fetchingTargets:null==e||null===(c=e.swamm)||void 0===c?void 0:c.fetchingTargets,showOutlets:null==e||null===(_=e.swamm)||void 0===_?void 0:_.showOutlets,showFootprints:null==e||null===(f=e.swamm)||void 0===f?void 0:f.showFootprints,showWatersheds:null==e||null===(E=e.swamm)||void 0===E?void 0:E.showWatersheds,projectCode:null==e||null===(v=e.swamm)||void 0===v||null===(g=v.data)||void 0===g?void 0:g.code,layers:null==e?void 0:e.layers,bmpOutletLayer:null==e||null===(h=e.layers)||void 0===h||null===(b=h.flat)||void 0===b?void 0:b.filter((function(t){var r,n;return t.name===(null==e||null===(r=e.swamm)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.code)+"_bmp_outlet"}))[0],visibleBmpForm:null==e||null===(F=e.swamm)||void 0===F?void 0:F.visibleBmpForm,storedBmpForm:null==e||null===(T=e.swamm)||void 0===T?void 0:T.storedBmpForm,drawingBmpLayerName:null==e||null===(S=e.swamm)||void 0===S?void 0:S.drawingBmpLayerName,editingBmpFeatureId:null==e||null===(B=e.swamm)||void 0===B?void 0:B.editingBmpFeatureId,visibleBmpManager:null==e||null===(R=e.swamm)||void 0===R?void 0:R.visibleBmpManager,visibleSwammDataGrid:null==e||null===(w=e.swamm)||void 0===w?void 0:w.visibleSwammDataGrid,visibleSwammBmpChart:null==e||null===(C=e.swamm)||void 0===C?void 0:C.visibleSwammBmpChart,visibleTargetForm:null==e||null===(M=e.swamm)||void 0===M?void 0:M.visibleTargetForm,loadingBmp:null==e||null===(A=e.swamm)||void 0===A?void 0:A.loadingBmp,numberOfMenus:null==e||null===(O=e.layers)||void 0===O?void 0:O.groups.length,filters:{showOutlets:null===(P=e.swamm)||void 0===P?void 0:P.showOutlets,showFootprints:null===(I=e.swamm)||void 0===I?void 0:I.showFootprints,showWatersheds:null===(D=e.swamm)||void 0===D?void 0:D.showWatersheds}}}),(function(e){return{fetchSwammBmpTypes:function(t){return e((0,o.fetchSwammBmpTypes)(t))},fetchProjectManagerConfig:(0,o.fetchProjectManagerConfig)(e),fetchGroupProfiles:function(){return e((0,o.fetchGroupProfiles)())},fetchSwammBmpStatuses:function(t){return e((0,o.fetchSwammBmpStatuses)(t))},fetchSwammTargets:function(t){return e((0,o.fetchSwammTargets)(t))},toggleLayer:function(t,r){return e((0,h.He)(t,{visibility:r}))},showBmpForm:function(){return e((0,o.showBmpForm)())},setLayer:function(t){return e((0,E.uF)(t))},setEditingBmpFeatureId:function(t){return e((0,o.setEditingBmpFeatureId)(t))},showSwammDataGrid:function(){return e((0,o.showSwammDataGrid)())},showSwammFeatureGrid:function(t){return e((0,o.showSwammFeatureGrid)(t))},showSwammBmpChart:function(){return e((0,o.showSwammBmpChart)())},clickBmpManager:function(){e((0,o.toggleBmpManager)()),e((0,Pe.setOpenMenuGroupId)(null))},setOpenMenuGroupId:function(t){return e((0,Pe.setOpenMenuGroupId)(t))},makeBmpForm:function(t){return e((0,o.makeBmpForm)(t))},saveChanges:function(){return e((0,E.$S)())},clearDrawingBmpLayerName:function(){return e((0,o.clearDrawingBmpLayerName)())},clearEditingBmpFeatureId:function(){return e((0,o.clearEditingBmpFeatureId)())},query:function(t,r,n,o){return e((0,v.IO)(t,r,n,o))},toggleBmpType:function(t){return e((0,o.toggleBmpType)(t))},setBmpType:function(t,r){return e((0,o.setBmpType)(t,r))},toggleViewMode:function(){return e((0,E.nY)())},drawStopped:function(){return e((0,Ie.lo)())}}}))(We);var ze=r(49977),qe=r.n(ze),Ve=r(29386),Ke=r(75875);const $e=(0,n.rx)("Swamm",{component:Ye,reducers:{swamm:function(){var e,t,r,n,l,i,s,p,m,c,_,f,E,v,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,y=arguments.length>1?arguments[1]:void 0;switch(console.log(y),y.type){case o.FETCH_GROUP_PROFILES:return u(u({},g),{},{fetchingGroupProfiles:y.groupProfiles});case o.FETCH_GROUP_PROFILES_SUCCESS:return u(u({},g),{},{fetchingGroupProfiles:!1,groupProfiles:y.groupProfiles});case o.FETCH_PROJECT_MANAGER_CONFIG:return u(u({},g),{},{fetching:y.mapId});case o.FETCH_PROJECT_MANAGER_CONFIG_SUCCESS:return u(u({},g),{},{fetching:null,data:y.payload});case o.FETCH_SWAMM_BMPTYPES:return u(u({},g),{},{fetching:y.mapId});case o.FETCH_SWAMM_BMPTYPES_SUCCESS:return u(u({},g),{},{fetching:!1,bmpTypes:y.bmpTypes});case o.FETCH_SWAMM_ALL_BMPS_SUCCESS:return u(u({},g),{},{fetching:!1,allBmps:y.allBmps});case o.FETCH_SWAMM_BMP_STATUSES:return u(u({},g),{},{fetchingStatuses:!0});case o.FETCH_SWAMM_BMP_STATUSES_SUCCESS:return u(u({},g),{},{statuses:y.statuses});case o.TOGGLE_BMP_TYPE:return u(u({},g),{},{bmpTypes:g.bmpTypes.map((function(e){return e.id===y.bmpType.id?u(u({},e),{},{visibility:!y.bmpType.visibility}):e}))});case o.SET_BMP_TYPE:return u(u({},g),{},{bmpTypes:g.bmpTypes.map((function(e){return e.id===y.bmpType.id?u(u({},e),{},{visibility:y.isVisible}):e}))});case o.SET_MENU_GROUP:return y.payload?u(u({},g),{},{visibleBmpManager:!1}):g;case o.SHOW_BMP_MANAGER:return u(u({},g),{},{visibleBmpManager:!0});case o.HIDE_BMP_MANAGER:return u(u({},g),{},{visibleBmpManager:!1});case o.TOGGLE_BMP_MANAGER:return u(u({},g),{},{visibleBmpManager:!g.visibleBmpManager});case o.SHOW_SWAMM_DATA_GRID:return u(u({},g),{},{visibleSwammDataGrid:!0});case o.HIDE_SWAMM_DATA_GRID:return u(u({},g),{},{visibleSwammDataGrid:!1});case o.SHOW_SWAMM_BMP_CHART:return u(u({},g),{},{visibleSwammBmpChart:!0});case o.HIDE_SWAMM_BMP_CHART:return u(u({},g),{},{visibleSwammBmpChart:!1});case o.SHOW_BMP_FORM:return u(u({},g),{},{visibleBmpForm:!0});case o.SHOW_LOADING_BMP:return u(u({},g),{},{loadingBmp:!0});case o.HIDE_LOADING_BMP:return u(u({},g),{},{loadingBmp:!1});case o.MAKE_BMP_FORM:return u(u({},g),{},{creatingNewBmp:!0,visibleBmpForm:!0,storedBmpForm:{group_profile_id:y.groupProfile.pk,group_profile:y.groupProfile,bmpName:""}});case o.MAKE_DEFAULTS_BMP_FORM:var h={bmpName:y.bmpType.name,type:y.bmpType.id,type_data:y.bmpType,project:y.bmpType.project.id,override_n_surface_red_percent:y.bmpType.n_surface_red_percent,override_p_surface_red_percent:y.bmpType.p_surface_red_percent,override_s_surface_red_percent:y.bmpType.s_surface_red_percent,override_n_tiled_red_percent:y.bmpType.n_tiled_red_percent,override_p_tiled_red_percent:y.bmpType.p_tiled_red_percent,override_n_erosion_red_percent:y.bmpType.n_erosion_red_percent,override_p_erosion_red_percent:y.bmpType.p_erosion_red_percent,override_s_erosion_red_percent:y.bmpType.s_erosion_red_percent,override_cost_base:y.bmpType.cost_base,override_cost_rate_per_watershed_area:y.bmpType.cost_rate_per_watershed_area,override_cost_rate_per_footprint_area:y.bmpType.cost_rate_per_footprint_area,notes:""};return u(u({},g),{},{storedBmpForm:u(u({},g.storedBmpForm),h)});case o.MAKE_EXISTING_BMP_FORM:console.log("MAKE_EXISTING_BMP_FORM",y);var b=null!=g&&null!==(e=g.storedBmpForm)&&void 0!==e&&e.outlet_fid?null===(t=g.storedBmpForm)||void 0===t?void 0:t.outlet_fid:null===(r=y.bmp)||void 0===r?void 0:r.outlet_fid,F=null!=g&&null!==(n=g.storedBmpForm)&&void 0!==n&&n.footprint_fid?null===(l=g.storedBmpForm)||void 0===l?void 0:l.footprint_fid:null===(i=y.bmp)||void 0===i?void 0:i.footprint_fid,T=null!=g&&null!==(s=g.storedBmpForm)&&void 0!==s&&s.watershed_fid?null===(p=g.storedBmpForm)||void 0===p?void 0:p.watershed_fid:null===(m=y.bmp)||void 0===m?void 0:m.watershed_fid,S=u(u({},y.bmp),{},{id:y.bmp.id,bmpName:y.bmp.type_data.name,type:y.bmp.type_data.id,type_data:y.bmp.type_data,project:y.bmp.project,group_profile:y.bmp.group_profile,group_profile_id:null===(c=y.bmp.group_profile)||void 0===c?void 0:c.id,override_n_surface_red_percent:y.bmp.override_n_surface_red_percent,override_p_surface_red_percent:y.bmp.override_p_surface_red_percent,override_s_surface_red_percent:y.bmp.override_s_surface_red_percent,override_n_tiled_red_percent:y.bmp.override_n_tiled_red_percent,override_p_tiled_red_percent:y.bmp.override_p_tiled_red_percent,override_n_erosion_red_percent:y.bmp.override_n_erosion_red_percent,override_p_erosion_red_percent:y.bmp.override_p_erosion_red_percent,override_s_erosion_red_percent:y.bmp.override_s_erosion_red_percent,override_cost_base:y.bmp.override_cost_base,override_cost_rate_per_watershed_area:y.bmp.override_cost_rate_per_watershed_area,override_cost_rate_per_footprint_area:y.bmp.override_cost_rate_per_footprint_area,notes:y.bmp.notes,outlet_fid:b,footprint_fid:F,watershed_fid:T});return u(u({},g),{},{storedBmpForm:S,updatingBmp:null});case o.HIDE_BMP_FORM:return u(u({},g),{},{visibleBmpForm:!1});case o.CLEAR_BMP_FORM:return u(u({},g),{},{creatingNewBmp:!1,storedBmpForm:null,BmpFormBmpTypeId:null,visibleBmpForm:!1,updatingBmp:null});case o.SUBMIT_BMP_FORM_SUCCESS:var B=null===(_=g.allBmps)||void 0===_?void 0:_.map((function(e){return e.id}));return console.log("allBmpIds:",B),B.indexOf(y.bmp.id)>-1?u(u({},g),{},{allBmps:g.allBmps.map((function(e){return e.id===y.bmp.id?y.bmp:e}))}):u(u({},g),{},{allBmps:[].concat(a(g.allBmps),[y.bmp])});case o.SUBMIT_BMP_FORM_ERROR:return u(u({},g),{},{showSubmitBmpFormError:!0});case o.UPDATE_BMP_FORM:return console.log("heard UPDATE_BMP_FORM",y),null!=y&&null!==(f=y.kv)&&void 0!==f&&null!==(E=f.type_data)&&void 0!==E&&E.id?u(u({},g),{},{BmpFormBmpTypeId:y.kv.type_data.id}):null!=y&&null!==(v=y.kv)&&void 0!==v&&v.group_profile?u(u({},g),{},{storedBmpForm:u(u(u({},g.storedBmpForm),y.kv),{},{group_profile:null==y||null===(R=y.kv)||void 0===R?void 0:R.group_profile,group_profile_id:null==y||null===(w=y.kv)||void 0===w||null===(C=w.group_profile)||void 0===C?void 0:C.pk})}):u(u({},g),{},{storedBmpForm:u(u({},g.storedBmpForm),y.kv)});var R,w,C;case o.SET_DRAWING_BMP_LAYER_NAME:var M=!1;return y.drawingBmpLayerName!==g.drawingBmpLayerName&&(M=y.drawingBmpLayerName),u(u({},g),{},{drawingBmpLayerName:M});case o.CLEAR_DRAWING_BMP_LAYER_NAME:return u(u({},g),{},{drawingBmpLayerName:null});case o.REGISTER_MISSING_BMP_FEATURE_ID:return u(u({},g),{},{missingBmpFeatureId:y.missingBmpFeatureId});case o.SET_COMPLEX_BMP_FORM:return u(u({},g),{},{complexBmpForm:y.complexBmpForm});case o.SET_CHANGING_BMP_TYPE:return u(u({},g),{},{changingBmpType:y.changingBmpType});case o.SET_EDITING_BMP_FEATURE_ID:return u(u({},g),{},{editingBmpFeatureId:y.editingBmpFeatureId});case o.CLEAR_EDITING_BMP_FEATURE_ID:return u(u({},g),{},{editingBmpFeatureId:null});case o.DELETE_BMP_SUCCESS:return console.log("deleted",y),u(u({},g),{},{allBmps:g.allBmps.filter((function(e){return e.id!==y.bmpId}))});case o.FETCH_SWAMM_TARGETS_SUCCESS:return u(u({},g),{},{fetchingTargets:!1,targets:y.targets});case o.SELECT_SWAMM_TARGET_ID:return u(u({},g),{},{selectedTargetId:y.selectedTargetId});case o.SET_BMP_FILTER_MODE:return u(u({},g),{},{bmpFilterMode:y.bmpFilterMode});case o.UPDATE_TARGET_FORM:return u(u({},g),{},{targetForm:u(u({},g.targetForm),y.kv)});case o.SHOW_TARGET_FORM:return y.target?u(u({},g),{},{visibleTargetForm:y.visibleTargetForm,targetForm:y.target}):u(u({},g),{},{visibleTargetForm:y.visibleTargetForm});case o.HIDE_TARGET_FORM:return u(u({},g),{},{visibleTargetForm:y.visibleTargetForm});case o.UPDATE_BMP_TYPE_GROUPS:return u(u({},g),{},{bmpTypeGroups:y.bmpTypeGroups});default:return g}}},epics:{startBmpCreateFeatureEpic:function(e,t){return e.ofType(v.Hu).filter((function(){var e,r,n,o;return console.log("startBmpCreateFeatureEpic1",!(null!==(e=t.getState())&&void 0!==e&&null!==(r=e.swamm)&&void 0!==r&&r.editingBmpFeatureId)),!(null!==(n=t.getState())&&void 0!==n&&null!==(o=n.swamm)&&void 0!==o&&o.editingBmpFeatureId)})).filter((function(e){var r,n,o,l,a,i;return console.log("startBmpCreateFeatureEpic2",null==e||null===(r=e.filterObj)||void 0===r?void 0:r.featureTypeName.includes(null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.drawingBmpLayerName)),null==e||null===(l=e.filterObj)||void 0===l?void 0:l.featureTypeName.includes(null===(a=t.getState())||void 0===a||null===(i=a.swamm)||void 0===i?void 0:i.drawingBmpLayerName)})).filter((function(e){return console.log("startBmpCreateFeatureEpic3","querySetNewBmpLayer"===(null==e?void 0:e.reason)),"querySetNewBmpLayer"===(null==e?void 0:e.reason)})).flatMap((function(){return qe().Observable.of((0,E.lg)(),(0,E.lx)([{}]),(0,E.kA)(),(0,Ve.WP)("draw.tempFeatures"),(0,o.hideLoadingBmp)())}))},saveBmpCreateFeatureEpic:function(e,t){return e.ofType(E.AY).filter((function(){var e,r,n,o;return console.log("saveBmpCreateFeatureEpic1",null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.drawingBmpLayerName),null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.drawingBmpLayerName})).filter((function(){var e,r,n,o;return console.log("WARNING: saveBmpCreateFeatureEpic2",!(null!==(e=t.getState())&&void 0!==e&&null!==(r=e.swamm)&&void 0!==r&&r.editingBmpFeatureId)),!(null!==(n=t.getState())&&void 0!==n&&null!==(o=n.swamm)&&void 0!==o&&o.editingBmpFeatureId)})).flatMap((function(){var e,r;return qe().Observable.of((0,o.registerMissingBmpFeatureId)(null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.drawingBmpLayerName))}))},setCreateBmpDrawingLayerEpic:function(e,t){return e.ofType(v.u7).filter((function(e){var r,n,o,l,a,i,s,u;return console.log("setBmpDrawingLayerEpic1",null==e||null===(r=e.typeName)||void 0===r?void 0:r.includes((null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.code)+"_bmp_")),null==e||null===(a=e.typeName)||void 0===a?void 0:a.includes((null===(i=t.getState())||void 0===i||null===(s=i.swamm)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.code)+"_bmp_")})).flatMap((function(e){return qe().Observable.of((0,v.IO)("http://localhost:8080/geoserver/wfs",{featureTypeName:null==e?void 0:e.typeName,filterType:"OGC",ogcVersion:"1.1.0"},{},"querySetNewBmpLayer"))}))},setEditBmpDrawingLayerEpic:function(e,t){return e.ofType(v.S0).filter((function(e){var r,n,o,l,a,i,s,u;return console.log("setBmpDrawingLayerEpic1",null==e||null===(r=e.typeName)||void 0===r?void 0:r.includes((null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.code)+"_bmp_")),null==e||null===(a=e.typeName)||void 0===a?void 0:a.includes((null===(i=t.getState())||void 0===i||null===(s=i.swamm)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.code)+"_bmp_")})).flatMap((function(e){return qe().Observable.of((0,v.IO)("http://localhost:8080/geoserver/wfs",{featureTypeName:null==e?void 0:e.typeName,filterType:"OGC",ogcVersion:"1.1.0"},{},"querySetNewBmpLayer"))}))},startBmpEditFeatureEpic:function(e,t){return e.ofType(v.Hu).filter((function(){var e,r,n,o;return console.log("startBmpEditFeatureEpic1",null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.editingBmpFeatureId),null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.editingBmpFeatureId})).filter((function(e){return console.log("startBmpEditFeatureEpic2","querySetNewBmpLayer"===(null==e?void 0:e.reason)),"querySetNewBmpLayer"===(null==e?void 0:e.reason)})).flatMap((function(){var e,r,n;return qe().Observable.of((0,E.KD)(null===(e=t.getState())||void 0===e||null===(r=e.query)||void 0===r||null===(n=r.result)||void 0===n?void 0:n.features.filter((function(e){var r,n;return(null==e?void 0:e.id)===(null===(r=t.getState())||void 0===r||null===(n=r.swamm)||void 0===n?void 0:n.editingBmpFeatureId)}))),(0,E.lg)(),(0,o.hideLoadingBmp)(),(0,v.zc)())}))},saveBmpEditFeatureEpic:function(e,t){return e.ofType(E.AY).filter((function(){var e,r,n,o;return console.log("saveBmpEditFeatureEpic",null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.editingBmpFeatureId),null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.editingBmpFeatureId})).flatMap((function(){var e,r,n,l,a;return qe().Observable.of((0,o.clearEditingBmpFeatureId)(),(0,o.clearDrawingBmpLayerName)(),(0,Ie.lo)(),(0,E.nY)(),(0,Ve.WP)("highlight.emptyFeatures"),(0,o.submitBmpForm)(null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.storedBmpForm,null===(n=t.getState())||void 0===n||null===(l=n.swamm)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.base_map))}))},finishBmpCreateFeatureEpic:function(e,t){return e.ofType(v.Hu).filter((function(){var e,r,n,o;return console.log("finishBmpCreateFeatureEpic1",!(null!==(e=t.getState())&&void 0!==e&&null!==(r=e.swamm)&&void 0!==r&&r.editingBmpFeatureId)),!(null!==(n=t.getState())&&void 0!==n&&null!==(o=n.swamm)&&void 0!==o&&o.editingBmpFeatureId)})).filter((function(){var e,r,n,o;return console.log("finishBmpCreateFeatureEpic2",null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.missingBmpFeatureId),null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.missingBmpFeatureId})).mergeMap((function(){var e,r,n,o,l,a,i=null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.base_map,s=null===(o=t.getState())||void 0===o||null===(l=o.swamm)||void 0===l||null===(a=l.drawingBmpLayerName)||void 0===a?void 0:a.slice(8);return qe().Observable.from(Ke.get("/swamm/api/".concat(i,"/bmps/get-latest-feature-id/").concat(s,"/")))})).mergeMap((function(e){var r,n,l,a,i;return qe().Observable.of((0,o.updateBmpForm)(e.data),(0,o.registerMissingBmpFeatureId)(!1),(0,o.clearDrawingBmpLayerName)(),(0,Ie.lo)(),(0,E.nY)(),(0,Ve.WP)("highlight.emptyFeatures"),(0,o.submitBmpForm)(null===(r=t.getState())||void 0===r||null===(n=r.swamm)||void 0===n?void 0:n.storedBmpForm,null===(l=t.getState())||void 0===l||null===(a=l.swamm)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.base_map),(0,v.zc)())}))},autoSaveBmpFormEpic:function(e,t){return e.ofType(o.MAKE_EXISTING_BMP_FORM).filter((function(){var e,r,n,o,l,a,i,s,u,p,d,m;return(null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r||null===(n=r.storedBmpForm)||void 0===n?void 0:n.footprint_fid)&&!(null!==(o=t.getState())&&void 0!==o&&null!==(l=o.swamm)&&void 0!==l&&null!==(a=l.storedBmpForm)&&void 0!==a&&a.calculated_footprint_area)||(null===(i=t.getState())||void 0===i||null===(s=i.swamm)||void 0===s||null===(u=s.storedBmpForm)||void 0===u?void 0:u.watershed_fid)&&!(null!==(p=t.getState())&&void 0!==p&&null!==(d=p.swamm)&&void 0!==d&&null!==(m=d.storedBmpForm)&&void 0!==m&&m.calculated_watershed_area)})).flatMap((function(){var e,r,n,l,a;return qe().Observable.of((0,o.submitBmpForm)(null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.storedBmpForm,null===(n=t.getState())||void 0===n||null===(l=n.swamm)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.base_map))}))},catchBmpFeatureClick:function(e,t){return e.ofType(l.XL).filter((function(e){var t,r;return!!(null==e||null===(t=e.data)||void 0===t||null===(r=t.features)||void 0===r?void 0:r.map((function(e){return/([a-zA-Z0-9]{3}_){2}outlet/.test(e.id)||/([a-zA-Z0-9]{3}_){2}footprint/.test(e.id)||/([a-zA-Z0-9]{3}_){2}watershed/.test(e.id)?e:null})))[0]})).mergeMap((function(e){var r,n,o,l,a,i,s,u=null==e||null===(r=e.data)||void 0===r||null===(n=r.features)||void 0===n?void 0:n.map((function(e){return/([a-zA-Z0-9]{3}_){2}outlet/.test(e.id)||/([a-zA-Z0-9]{3}_){2}footprint/.test(e.id)||/([a-zA-Z0-9]{3}_){2}watershed/.test(e.id)?e:null})),p=null===(o=t.getState())||void 0===o||null===(l=o.swamm)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.base_map;return qe().Observable.from(Ke.get("/swamm/api/".concat(p,"/bmps/").concat(null===(i=u[0])||void 0===i||null===(s=i.properties)||void 0===s?void 0:s.id,"/")))})).mergeMap((function(e){return qe().Observable.of((0,l.Mc)(),(0,o.getBmpFormSuccess)(e.data),(0,o.makeExistingBmpForm)(e.data),(0,o.setUpdatingBmp)(e.data),(0,o.showBmpForm)())}))},getBmpTypeGroups:function(e,t){return e.ofType(o.FETCH_PROJECT_MANAGER_CONFIG_SUCCESS).mergeMap((function(){var e,r,n,o=null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.base_map;return qe().Observable.from(Ke.get("/swamm/api/".concat(o,"/bmp-type/bmp_type_group_list/")))})).mergeMap((function(e){return qe().Observable.of((0,o.updateBmpTypeGroups)(e.data))}))},downloadBmpReportEpic:function(e){return e.ofType(o.DOWNLOAD_BMP_REPORT).mergeMap((function(e){return qe().Observable.from(window.open("/swamm/print/".concat(e.bmpId,"/download/"),"_blank"))}))}}})},52948:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(75875),i="FETCH_SWAMM_BMPTYPES_SUCCESS",s="FETCH_GROUP_PROFILES_SUCCESS",u="FETCH_PROJECT_MANAGER_CONFIG_ERROR",p="FETCH_PROJECT_MANAGER_CONFIG_SUCCESS",d="FETCH_SWAMM_ALL_BMPS_SUCCESS",m="FETCH_SWAMM_BMP_STATUSES_SUCCESS",c="FETCH_SWAMM_TARGETS_ERROR",_="FETCH_SWAMM_TARGETS_SUCCESS",f="SELECT_SWAMM_TARGET_ID",E="SHOW_SWAMM_BMP_CHART",v="HIDE_SWAMM_BMP_CHART",g="SHOW_TARGET_FORM",y="HIDE_TARGET_FORM",h="UPDATE_TARGET_FORM",b="CLEAR_TARGET_FORM",F="SUBMIT_TARGET_FORM_SUCCESS",T="DELETE_TARGET_SUCCESS",S="DELETE_TARGET_ERROR",B="SHOW_SWAMM_DATA_GRID",R="HIDE_SWAMM_DATA_GRID",w="SHOW_SWAMM_FEATURE_GRID",C="SHOW_BMP_MANAGER",M="HIDE_BMP_MANAGER",A="TOGGLE_BMP_MANAGER",O="SET_MENU_GROUP",P="SET_CHANGING_BMP_TYPE",I="SET_COMPLEX_BMP_FORM",D="SET_STATUS_FILTER",x="SHOW_BMP_FORM",N="HIDE_BMP_FORM",G="SHOW_LOADING_BMP",L="HIDE_LOADING_BMP",U="SUBMIT_BMP_FORM_SUCCESS",k="MAKE_BMP_FORM",H="CLEAR_BMP_FORM",j="MAKE_DEFAULTS_BMP_FORM",W="MAKE_EXISTING_BMP_FORM",Y="SET_UPDATING_BMP",z="UPDATE_BMP_FORM",q="SET_DRAWING_BMP_LAYER_NAME",V="START_DRAWING_BMP",K="CLEAR_DRAWING_BMP_LAYER_NAME",$="REGISTER_MISSING_BMP_FEATURE_ID",X="SET_EDITING_BMP_FEATURE_ID",Z="CLEAR_EDITING_BMP_FEATURE_ID",Q="UPDATE_BMP_TYPE_GROUPS",J="DELETE_BMP_SUCCESS",ee="DELETE_BMP_ERROR",te="SET_BMP_FILTER_MODE",re="DOWNLOAD_BMP_REPORT",ne=r(23570),oe=r(97395).SHOW_NOTIFICATION,le=function(e){return{type:i,bmpTypes:e}};function ae(e){return console.log("fetchSwammBmpTypesError",e),{type:oe,title:"Fetch Swamm Bmp Types Error",autoDismiss:600,position:"tc",message:"".concat(null==e?void 0:e.data),uid:ne(),level:"error"}}var ie=function(e){return{type:p,payload:e}};function se(e){return console.log("*** error:",e),{type:u,error:e}}var ue=function(e){return e.map((function(e){return o(o({},e),{},{id:e.pk})})),{type:s,groupProfiles:e}};function pe(e){return console.log("fetchGroupProfilesError",e),{type:oe,title:"Fetch fetchGroupProfiles Error",autoDismiss:600,position:"tc",message:"".concat(null==e?void 0:e.data),uid:ne(),level:"error"}}var de=function(e){return{type:d,allBmps:e}};function me(e){return console.log("fetchSwammAllBmpsError",e),{type:oe,title:"Fetch Swamm All Bmps Error",autoDismiss:600,position:"tc",message:"".concat(null==e?void 0:e.data),uid:ne(),level:"error"}}var ce=function(e){return{type:m,statuses:e}};function _e(e){return console.log("fetchSwammBmpStatusesError",e),{type:oe,title:"Fetch Swamm Bmp Statuses Error",autoDismiss:600,position:"tc",message:"".concat(null==e?void 0:e.data),uid:ne(),level:"error"}}var fe=function(){return{type:N}},Ee=function(e){return{type:P,changingBmpType:e}},ve=function(e){return{type:W,bmp:e}},ge=function(){return{type:H}},ye=function(){return{type:K}},he=function(){return console.log("clearEditingBmpFeatureId"),{type:Z}},be=function(e){return function(t){t({type:_,targets:e})}},Fe=function(e){return console.log("*** error:",e),function(t){t({type:oe,title:"Failed to load Targets",autoDismiss:60,position:"tc",message:"".concat(null==e?void 0:e.data),uid:ne(),level:"error"}),t({type:c,error:e})}},Te=function(e){return function(t){return a.get("/swamm/api/".concat(e,"/pollutant-loading-target/")).then((function(e){t(be(e.data))})).catch((function(e){t(Fe(e))}))}},Se=function(e){return function(t){t({type:oe,title:"Success",autoDismiss:6,position:"tc",message:"BMP ID: ".concat(e.id," saved"),uid:ne(),level:"success"}),t({type:U,bmp:e})}};function Be(e){return console.log("submitBmpFormError",e),{type:oe,title:"Submit Bmp Form Error",autoDismiss:600,position:"tc",message:"Error saving BMP: ".concat(null==e?void 0:e.data),uid:ne(),level:"error"}}var Re=function(e){return function(t){t({type:oe,title:"Delete BMP Success",autoDismiss:6,position:"tc",message:"Successfully deleted BMP: ".concat(e),uid:ne(),level:"success"}),t({type:J,bmpId:e})}},we=function(e){return console.log("*** error:",e),function(t){t({type:oe,title:"Delete BMP Error",autoDismiss:60,position:"tc",message:"".concat(null==e?void 0:e.data),uid:ne(),level:"error"}),t({type:ee,error:e})}},Ce=function(){return{type:y,visibleTargetForm:!1}},Me=function(){return{type:b,targetForm:null}},Ae=function(e){return function(t){t({type:oe,title:"Success",autoDismiss:6,position:"tc",message:"Target: ".concat(e.id," saved"),uid:ne(),level:"success"}),t({type:F,target:e})}};function Oe(e){return console.log("submitTargetFormError",e),{type:oe,title:"Submit Target Form Error",autoDismiss:600,position:"tc",message:"Error saving Target: ".concat(null==e?void 0:e.data),uid:ne(),level:"error"}}var Pe=function(e){return function(t){t({type:oe,title:"Delete Target Success",autoDismiss:6,position:"tc",message:"Successfully deleted Target: ".concat(e),uid:ne(),level:"success"}),t({type:T,targetId:e})}},Ie=function(e){return console.log("*** error:",e),function(t){t({type:oe,title:"Delete Target Error",autoDismiss:60,position:"tc",message:"".concat(null==e?void 0:e.data),uid:ne(),level:"error"}),t({type:S,error:e})}};e.exports={UPDATE_BMP_TYPE_GROUPS:Q,updateBmpTypeGroups:function(e){return{type:Q,bmpTypeGroups:e}},FETCH_SWAMM_BMPTYPES:"FETCH_SWAMM_BMPTYPES",fetchSwammBmpTypes:function(e){return function(t){return a.get("/swamm/api/".concat(e,"/bmp-type/")).then((function(e){t(le(e.data))})).catch((function(e){t(ae(e))}))}},FETCH_SWAMM_BMPTYPES_ERROR:"FETCH_SWAMM_BMPTYPES_ERROR",fetchSwammBmpTypesError:ae,FETCH_SWAMM_BMPTYPES_SUCCESS:i,fetchSwammBmpTypesSuccess:le,FETCH_PROJECT_MANAGER_CONFIG:"FETCH_PROJECT_MANAGER_CONFIG",fetchProjectManagerConfig:function(e){return function(t){return a.get("/projects/api/maps/".concat(t,"/")).then((function(t){e(ie(t.data.project))})).catch((function(t){e(se(t))}))}},FETCH_PROJECT_MANAGER_CONFIG_ERROR:u,fetchProjectManagerConfigError:se,FETCH_PROJECT_MANAGER_CONFIG_SUCCESS:p,fetchProjectManagerConfigSuccess:ie,FETCH_GROUP_PROFILES:"FETCH_GROUP_PROFILES",fetchGroupProfiles:function(){return function(e){return a.get("/api/v2/groups?page_size=1000").then((function(t){e(ue(t.data.group_profiles))})).catch((function(t){e(pe(t))}))}},FETCH_GROUP_PROFILES_ERROR:"FETCH_GROUP_PROFILES_ERROR",fetchGroupProfilesError:pe,FETCH_GROUP_PROFILES_SUCCESS:s,fetchGroupProfilesSuccess:ue,FETCH_SWAMM_ALL_BMPS:"FETCH_SWAMM_ALL_BMPS",fetchSwammAllBmps:function(e){return function(t){return a.get("/swamm/api/".concat(e,"/bmps/")).then((function(e){t(de(e.data))})).catch((function(e){t(me(e))}))}},FETCH_SWAMM_ALL_BMPS_ERROR:"FETCH_SWAMM_ALL_BMPS_ERROR",fetchSwammAllBmpsError:me,FETCH_SWAMM_ALL_BMPS_SUCCESS:d,fetchSwammAllBmpsSuccess:de,FETCH_SWAMM_BMP_STATUSES:"FETCH_SWAMM_BMP_STATUSES",fetchSwammBmpStatuses:function(e){return function(t){return a.get("/swamm/api/".concat(e,"/bmps/status_list/")).then((function(e){t(ce(e.data))})).catch((function(e){t(_e(e))}))}},FETCH_SWAMM_BMP_STATUSES_ERROR:"FETCH_SWAMM_BMP_STATUSES_ERROR",fetchSwammBmpStatusesError:_e,FETCH_SWAMM_BMP_STATUSES_SUCCESS:m,fetchSwammBmpStatusesSuccess:ce,FETCH_SWAMM_TARGETS:"FETCH_SWAMM_TARGETS",fetchSwammTargets:Te,FETCH_SWAMM_TARGETS_ERROR:c,fetchSwammTargetsError:Fe,FETCH_SWAMM_TARGETS_SUCCESS:_,fetchSwammTargetsSuccess:be,SELECT_SWAMM_TARGET_ID:f,selectSwammTargetId:function(e){return{type:f,selectedTargetId:e}},SUBMIT_BMP_FORM:"SUBMIT_BMP_FORM",submitBmpForm:function(e,t){return e.id?function(r){return console.log("updating existing BMP: ",e),a.patch("/swamm/api/".concat(t,"/bmps/").concat(e.id,"/"),e).then((function(e){r(Se(e.data)),r(Ee(!1)),r(ve(e.data)),r(Te(t))})).catch((function(e){r(Be(e))}))}:function(r){return console.log("creating new BMP: ",e),a.post("/swamm/api/".concat(t,"/bmps/"),e).then((function(e){r(Se(e.data)),r(Ee(!1)),r(ve(e.data)),r(Te(t))})).catch((function(e){r(Be(e))}))}},SUBMIT_BMP_FORM_ERROR:"SUBMIT_BMP_FORM_ERROR",submitBmpFormError:Be,SUBMIT_BMP_FORM_SUCCESS:U,submitBmpFormSuccess:Se,TOGGLE_BMP_TYPE:"TOGGLE_BMP_TYPE",toggleBmpType:function(e){return function(t){t({type:"TOGGLE_BMP_TYPE",bmpType:e})}},SET_BMP_TYPE:"SET_BMP_TYPE",setBmpType:function(e,t){return function(r){r({type:"SET_BMP_TYPE",bmpType:e,isVisible:t})}},SET_STATUS_FILTER:D,setStatusFilter:function(e){return{type:D,statuses:e}},SET_MENU_GROUP:O,setMenuGroup:function(e){return{type:O,payload:e}},SHOW_BMP_FORM:x,showBmpForm:function(){return{type:x}},HIDE_BMP_FORM:N,hideBmpForm:fe,SHOW_LOADING_BMP:G,showLoadingBmp:function(){return{type:G}},HIDE_LOADING_BMP:L,hideLoadingBmp:function(){return{type:L}},SHOW_SWAMM_DATA_GRID:B,showSwammDataGrid:function(){return{type:B}},HIDE_SWAMM_DATA_GRID:R,hideSwammDataGrid:function(){return{type:R}},SHOW_SWAMM_FEATURE_GRID:w,showSwammFeatureGrid:function(e){return{type:w,layer:e}},SHOW_SWAMM_BMP_CHART:E,showSwammBmpChart:function(){return{type:E}},HIDE_SWAMM_BMP_CHART:v,hideSwammBmpChart:function(){return{type:v}},SHOW_BMP_MANAGER:C,showBmpManager:function(){return{type:C}},HIDE_BMP_MANAGER:M,hideBmpManager:function(){return{type:M}},TOGGLE_BMP_MANAGER:A,toggleBmpManager:function(){return{type:A}},CLEAR_BMP_FORM:H,clearBmpForm:ge,MAKE_BMP_FORM:k,makeBmpForm:function(e){return{type:k,groupProfile:e}},MAKE_DEFAULTS_BMP_FORM:j,makeDefaultsBmpForm:function(e){return{type:j,bmpType:e}},MAKE_EXISTING_BMP_FORM:W,makeExistingBmpForm:ve,SET_UPDATING_BMP:Y,setUpdatingBmp:function(e){return{type:Y,updatingBmp:e}},SET_CHANGING_BMP_TYPE:P,setChangingBmpType:Ee,SET_COMPLEX_BMP_FORM:I,setComplexBmpForm:function(e){return{type:I,complexBmpForm:e}},getBmpFormSuccess:function(e){return console.log("getBmpFormSuccess bmp:",e),function(t){t({type:oe,title:"Success",autoDismiss:6,position:"tc",message:"BMP ID: ".concat(e.id," found"),uid:ne(),level:"success"}),t({type:"GET_BMP_FORM_SUCCESS",bmp:e})}},getBmpFormError:function(e){return console.log("getBmpFormError",e),{type:oe,title:"Get Bmp Form Error",autoDismiss:600,position:"tc",message:"Error getting BMP: ".concat(null==e?void 0:e.data),uid:ne(),level:"error"}},UPDATE_BMP_FORM:z,updateBmpForm:function(e){return{type:z,kv:e}},START_DRAWING_BMP:V,startDrawingBmp:function(){return{type:V}},SET_DRAWING_BMP_LAYER_NAME:q,setDrawingBmpLayerName:function(e){return console.log("setDrawingBmpLayerName",e),{type:q,drawingBmpLayerName:e}},CLEAR_DRAWING_BMP_LAYER_NAME:K,clearDrawingBmpLayerName:ye,REGISTER_MISSING_BMP_FEATURE_ID:$,registerMissingBmpFeatureId:function(e){return{type:$,missingBmpFeatureId:e}},SET_EDITING_BMP_FEATURE_ID:X,setEditingBmpFeatureId:function(e){return console.log("setEditingBmpFeatureId",e),{type:X,editingBmpFeatureId:e}},CLEAR_EDITING_BMP_FEATURE_ID:Z,clearEditingBmpFeatureId:he,DELETE_BMP:"DELETE_BMP",deleteBmp:function(e,t){return function(r){return a.delete("/swamm/api/".concat(e,"/bmps/").concat(t,"/"),{}).then((function(e){r(Re(t)),r(fe()),r(ge()),r(he()),r(ye())})).catch((function(e){r(we(e))}))}},DELETE_BMP_ERROR:ee,deleteBmpError:we,DELETE_BMP_SUCCESS:J,deleteBmpSuccess:Re,SET_BMP_FILTER_MODE:te,setBmpFilterMode:function(e){return{type:te,bmpFilterMode:e}},SHOW_TARGET_FORM:g,showTargetForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:g,visibleTargetForm:!0,target:e}},HIDE_TARGET_FORM:y,hideTargetForm:Ce,UPDATE_TARGET_FORM:h,updateTargetForm:function(e){return{type:h,kv:e}},CLEAR_TARGET_FORM:b,clearTargetForm:Me,SUBMIT_TARGET_FORM:"SUBMIT_TARGET_FORM",submitTargetForm:function(e,t){return e.id?function(r){return console.log("updating existing Target: ",e),a.patch("/swamm/api/".concat(t,"/pollutant-loading-target/").concat(e.id,"/"),e).then((function(e){r(Ae(e.data)),r(Te(t)),r(Ce()),r(Me())})).catch((function(e){r(Oe(e))}))}:function(r){return console.log("creating new Target: ",e),a.post("/swamm/api/".concat(t,"/pollutant-loading-target/"),e).then((function(e){r(Ae(e.data)),r(Te(t)),r(Ce()),r(Me())})).catch((function(e){r(Oe(e))}))}},SUBMIT_TARGET_FORM_SUCCESS:F,submitTargetFormSuccess:Ae,SUBMIT_TARGET_FORM_ERROR:"SUBMIT_TARGET_FORM_ERROR",submitTargetFormError:Oe,DELETE_TARGET:"DELETE_TARGET",deleteTarget:function(e,t){return function(r){return a.delete("/swamm/api/".concat(e,"/pollutant-loading-target/").concat(t,"/"),{}).then((function(n){r(Pe(t)),r(Te(e)),r(Ce()),r(Me())})).catch((function(e){r(Ie(e))}))}},DELETE_TARGET_SUCCESS:T,deleteTargetSuccess:Pe,DELETE_TARGET_ERROR:S,deleteTargetError:Ie,DOWNLOAD_BMP_REPORT:re,downloadBmpReport:function(e){return{type:re,bmpId:e}}}},83918:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,".msgapi .project-manager-panel {\r\n    position: absolute;\r\n    z-index: 1021;\r\n    top: 50px;\r\n    left: 20px;\r\n    min-width: 400px;\r\n    background-color: rgba(0, 60, 136, 0.6);\r\n    border-color: rgba(255, 255, 255, 0.7);\r\n    border-width: 2px;\r\n    padding: 5px 10px;\r\n    font-size: 12px;\r\n    line-height: 1.5;\r\n    border-radius: 4px;\r\n    color: white;\r\n    text-align: center\r\n}\r\n\r\n.msgapi .mapstore-slider.with-tooltip.dataset-transparency .noUi-target.noUi-horizontal .noUi-base .noUi-origin .noUi-handle {\r\n    width: 20px;\r\n    left: -10px;\r\n    border: 2px solid #dddddd;\r\n    border-radius: 10px;\r\n    cursor: default;\r\n}\r\n\r\n.msgapi .mapstore-slider.with-tooltip.dataset-transparency .noUi-target {\r\n    box-shadow: none;\r\n    border: 1px solid rgba(255, 255, 255, 0.68);\r\n    background-color: #335781;\r\n}\r\n",""])},14203:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,".msgapi .simple-view-menu-button {\r\n    position: absolute;\r\n    z-index: 1021;\r\n    top: 11px;\r\n    width: 85px;\r\n    height: 50px;\r\n    background-color: rgba(0, 60, 136, 0.6);\r\n    border-color: rgba(255, 255, 255, 0.7);\r\n    border-width: 2px;\r\n    padding: 3px 5px;\r\n    font-size: 12px;\r\n    line-height: 1.3;\r\n    border-radius: 4px;\r\n    color: white;\r\n    text-align: center\r\n}\r\n\r\n.msgapi .simple-view-panel {\r\n    position: absolute;\r\n    z-index: 1021;\r\n    top: 65px;\r\n    left: 20px;\r\n    min-width: 500px;\r\n    background-color: rgba(0, 60, 136, 0.6);\r\n    border-color: rgba(255, 255, 255, 0.7);\r\n    border-width: 2px;\r\n    padding: 5px 10px;\r\n    font-size: 12px;\r\n    line-height: 1.5;\r\n    border-radius: 4px;\r\n    color: white;\r\n    text-align: center;\r\n}\r\n\r\n.msgapi .legend-button {\r\n    right: 60px;\r\n}\r\n\r\n.msgapi .legend-panel {\r\n    top: 10px;\r\n    right: 60px;\r\n    left: unset;\r\n    text-align: right;\r\n    padding-bottom: 20px;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    max-height: 92%;\r\n    max-width: 400px;\r\n}\r\n\r\n.msgapi .legend-row {\r\n    padding: 10px;\r\n    margin: -1px 10px -1px 10px;\r\n    border: 1px solid #ffffffad;\r\n    border-radius: 3px;\r\n}\r\n\r\n.msgapi .legend-background {\r\n    background-color: white;\r\n    padding: 3px;\r\n    border-radius: 3px;\r\n}\r\n\r\n.msgapi .legend-image {                                                \r\n    display: block;\r\n    text-align: center;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    max-width: 80%;\r\n}\r\n\r\n.msgapi .legend-text-label {\r\n    text-align: left;\r\n}\r\n\r\n.msgapi .legend-heading {\r\n    text-align: center;\r\n}\r\n\r\n.msgapi .legend-close {\r\n    position: absolute;\r\n    right: 0;\r\n    color: red;\r\n}\r\n\r\n.msgapi .menu-rows-container {\r\n    border-top: 1px solid #ffffffad;\r\n}\r\n\r\n.msgapi .menu-row {\r\n    border-bottom: 1px solid #ffffffad;\r\n    padding-left: 5px;\r\n    margin: 0;\r\n}\r\n\r\n.msgapi .menu-row-button {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n}\r\n\r\n\r\n.msgapi .menu-row-glyph {\r\n    background: #ffffff;\r\n    border-radius: 3px;\r\n    margin: 5px 20px 5px 5px;\r\n    color: limegreen;\r\n    font-size: 10px\r\n}\r\n\r\n.msgapi .menu-row-text {\r\n    white-space: nowrap;\r\n    padding-left: 3px;\r\n}\r\n\r\n.msgapi .dataset-transparency {\r\n    margin-left: 330px;\r\n    margin-top: 15px;\r\n}",""])},89447:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,".msgapi .bmp-progress-button-danger {\r\n    top: 80px;\r\n    left: 20px;\r\n    min-width: 135px;\r\n    position: absolute;\r\n    opacity: 0.7;\r\n    border-radius: 4px;\r\n    background-color: inherit;\r\n}\r\n\r\n.msgapi .bmp-progress-button-success {\r\n    top: 80px;\r\n    left: 20px;\r\n    min-width: 135px;\r\n    position: absolute;\r\n    opacity: 0.7;\r\n    border-radius: 4px;\r\n    background-color: inherit;\r\n}\r\n\r\n.msgapi .bmp-loading-button {\r\n    position: absolute;\r\n    top: 200px;\r\n    left: 50%;\r\n    margin-top: -100px;\r\n    margin-left: -100px;\r\n    opacity: 0.7;\r\n    width: 200px;\r\n    height: 100px;\r\n    border-radius: 4px;\r\n    border-color: white;\r\n    color: white;\r\n    background: rgba(0, 60, 136, 0.6);\r\n    text-align: center\r\n}\r\n",""])},7169:(e,t,r)=>{var n=r(83918);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)},29944:(e,t,r)=>{var n=r(14203);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)},19970:(e,t,r)=>{var n=r(89447);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)}}]);