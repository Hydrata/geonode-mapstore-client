(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2226],{1550:(e,n,t)=>{"use strict";t.d(n,{pP:()=>o,TR:()=>a,N7:()=>i,mq:()=>u,uv:()=>l,Qy:()=>c,IL:()=>s,Li:()=>p,OW:()=>f,ZO:()=>d,Um:()=>g,TF:()=>v,Ls:()=>y,Ec:()=>m,Eu:()=>b,JJ:()=>A,nZ:()=>h,YD:()=>E,GI:()=>S,Jb:()=>_,Uh:()=>O,LP:()=>w,xy:()=>N,o6:()=>T,FP:()=>I,Mo:()=>R,sO:()=>x,Px:()=>C,hd:()=>U,BV:()=>P,SO:()=>G,H0:()=>L,$X:()=>j,ou:()=>M,NE:()=>D});var r=t(97395),o="CHANGE_MAP_VIEW",a="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",u="CHANGE_ZOOM_LVL",l="PAN_TO",c="ZOOM_TO_EXTENT",s="ZOOM_TO_POINT",p="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",d="CHANGE_MAP_STYLE",g="CHANGE_ROTATION",v="CREATION_ERROR_LAYER",y="UPDATE_VERSION",m="INIT_MAP",b="RESIZE_MAP",A="CHANGE_MAP_LIMITS",h="SET_MAP_RESOLUTIONS",E="REGISTER_EVENT_LISTENER",S="UNREGISTER_EVENT_LISTENER",_="MOUSE_MOVE",O="MOUSE_OUT";function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{family:""};return(0,r.error)({title:"warning",message:"map.errorLoadingFont",values:e,position:"tc",autoDismiss:10})}function N(e,n,t){return{type:s,pos:e,zoom:n,crs:t}}function T(e,n,t,r,a,i,u,l){return{type:o,center:e,zoom:n,bbox:t,size:r,mapStateSource:a,projection:i,viewerOptions:u,resolution:l}}function I(e,n){return{type:a,point:e,layer:n}}function R(e){return{type:i,pointer:e}}function x(e,n){return{type:u,zoom:e,mapStateSource:n}}function C(e,n,t){return{type:c,extent:e,crs:n,maxZoom:t}}function U(e,n){return{type:d,style:e,mapStateSource:n}}function P(e){var n=e.restrictedExtent,t=e.crs,r=e.minZoom;return{type:A,restrictedExtent:n,crs:t,minZoom:r}}function G(e){return{type:h,resolutions:e}}var L=function(e,n){return{type:E,eventName:e,toolName:n}},j=function(e,n){return{type:S,eventName:e,toolName:n}},M=function(e){return{type:_,position:e}},D=function(){return{type:O}}},15402:(e,n,t)=>{"use strict";t.d(n,{Z:()=>y});var r=t(45697),o=t.n(r),a=t(24852),i=t.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,n){return(s=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function p(e,n){return!n||"object"!==u(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g=t(68195).FormattedHTMLMessage,v=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&s(e,n)}(u,e);var n,t,r,o,a=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=f(r);if(o){var t=f(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return p(this,e)});function u(){return l(this,u),a.apply(this,arguments)}return n=u,(t=[{key:"render",value:function(){return this.context.intl?i().createElement(g,{id:this.props.msgId,values:this.props.msgParams}):i().createElement("span",null,this.props.msgId||"")}}])&&c(n.prototype,t),u}(i().Component);d(v,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),d(v,"contextTypes",{intl:o().object});const y=v},38167:(e,n,t)=>{"use strict";t.d(n,{t6:()=>S,k9:()=>E,v0:()=>h,ZP:()=>_});var r=t(45697),o=t.n(r),a=t(24852),i=t.n(a),u=t(68195);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,n){return(f=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function d(e,n){return!n||"object"!==l(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var y=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&f(e,n)}(l,e);var n,t,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=g(r);if(o){var t=g(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return d(this,e)});function l(){return s(this,l),a.apply(this,arguments)}return n=l,(t=[{key:"render",value:function(){return this.context.intl?i().createElement(u.FormattedDate,c({value:this.props.value},this.props.dateParams)):i().createElement("span",null,this.props.value&&this.props.value.toString()||"")}}])&&p(n.prototype,t),l}(i().Component);v(y,"propTypes",{value:o().object,dateParams:o().object}),v(y,"contextTypes",{intl:o().object}),v(y,"defaultProps",{value:new Date});const m=y;var b=t(15402),A=t(5346),h=A.Z,E=b.Z,S=m;const _={Message:A.Z,HTML:E,DateFormat:S}},73443:(e,n,t)=>{"use strict";t.d(n,{rs:()=>r,AY:()=>o,SW:()=>a,yB:()=>i,oG:()=>u,XG:()=>l,oz:()=>c,id:()=>s,gc:()=>p,cE:()=>f,rG:()=>d,Vj:()=>g,Pg:()=>v,nY:()=>y});var r="GEONODE:SAVING_RESOURCE",o="GEONODE:SAVE_SUCCESS",a="GEONODE:SAVE_ERROR",i="GEONODE:CLEAR_SAVE",u="GEONODE:SAVE_CONTENT",l="GEONODE:UPDATE_RESOURCE_BEFORE_SAVE",c="GEONODE:SAVE_DIRECT_CONTENT";function s(){return{type:r}}function p(e){return{type:o,success:e}}function f(e){return{type:a,error:e}}function d(){return{type:i}}function g(e,n,t,r){return{type:u,id:e,metadata:n,reload:t,showNotifications:r}}function v(e){return{type:l,id:e}}function y(){return{type:c}}},52226:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>xe});var r=t(22843),o=t(68658),a=t(51288);function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p={showAddAnugaElevationData:!1,visibleAnugaScenarioLogId:!1,scenarios:[]},f=t(24852),d=t.n(f),g=t(71703),v=t(23885),y=(t(10899),t(29944),t(88380)),m=t(55033),b=t.n(m),A=t(38167),h=t(75875),E=t.n(h);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,n){return(O=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function w(e,n){return!n||"object"!==S(n)&&"function"!=typeof n?N(e):n}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var R=t(45697),x=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&O(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=T(r);if(o){var t=T(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return w(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),I(N(n=a.call(this,e)),"humanFileSize",(function(e){var n=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,n)).toFixed(2)+" "+["B","kB","MB","GB","TB"][n]})),I(N(n),"uploadFile",(function(e,t){console.log("uploadFile started",e),n.setState((function(n){return{itemList:n.uploaderFiles.map((function(n){return n.preview===e.preview?Object.assign(n,{status:"uploading"}):n}))}}));var r,o=new FormData;o.append(t,e),o.append("title",n.state.newTitle),r=n.props.serverUrl.includes("localhost")?"http://localhost:8081/":n.props.serverUrl,E().put("".concat(r,"anuga/api/").concat(n.props.projectId,"/elevation/upload/"),o,n.uploadConfig).then((function(t){console.log("upload response",t),n.setState((function(n){return{itemList:n.uploaderFiles.map((function(n){return n.preview===e.preview?Object.assign(n,{status:"complete"}):n}))}}))}))})),I(N(n),"uploadConfig",{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);n.props.updateUploadStatus(t)}}),n.state={uploaderFiles:[],newTitle:""},n.beginTooltip=d().createRef(),n}return n=i,(t=[{key:"render",value:function(){var e=this;return this.props.visibleUploaderPanel?d().createElement("div",{className:"simple-view-panel uploader-panel"},d().createElement("div",{className:"row h4 legend-heading"},"Upload File",d().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return e.props.setVisibleUploaderPanel(!1)}})),this.state.uploaderFiles.length>0?d().createElement(v.Table,{bordered:!0,condensed:!0,hover:!0,ref:this.beginTooltip,style:{tableLayout:"fixed"}},d().createElement("thead",null,d().createElement("tr",null,d().createElement("th",{width:"155px",key:"hname"},"Title"),d().createElement("th",{width:"80px",key:"hname"},"Filename"),d().createElement("th",{width:"80px",key:"hsize"},"Filesize"),d().createElement("th",{width:"80px",key:"htype"},"Filetype"),d().createElement("th",{width:"80px",key:"hlast"},"Modified"),d().createElement("th",{width:"80px",key:"hstatus"},"Status"))),d().createElement("tbody",null,this.state.uploaderFiles&&this.state.uploaderFiles.map((function(n,t){return d().createElement("tr",{key:"row_"+t},d().createElement("td",{key:"title"},d().createElement("input",{id:"newTitle",key:"newTitle",className:"data-title-input",type:"text",value:e.state.newTitle,onChange:function(n){return e.setState({newTitle:n.target.value})}})),d().createElement("td",{key:"name"},n.name),d().createElement("td",{key:"size"},e.humanFileSize(n.size)),d().createElement("td",{key:"type"},n.type),d().createElement("td",{key:"last"},d().createElement(A.t6,{value:n.lastModifiedDate})),d().createElement("td",{key:"status"},"begin"===n.status?d().createElement(v.OverlayTrigger,{positionLeft:!0,overlay:d().createElement(v.Tooltip,null,"Enter a title")},d().createElement(v.Button,{onClick:function(){return e.uploadFile(n,e.props.fileType||"file")},className:e.state.newTitle?"":"disabled",style:{borderRadius:"3px"},bsSize:"small",bsStyle:"success"},"Begin")):d().createElement("span",null,d().createElement(v.ProgressBar,{active:!0,bsStyle:"success",now:parseInt(e.props.uploadStatus,10)}),100===parseInt(e.props.uploadStatus,10)?"importing...":e.props.uploadStatus,isNaN(parseInt(e.props.uploadStatus,10))?"":"%")))})))):d().createElement(b(),{key:"dropzone",rejectClassName:"alert-danger",className:"alert alert-info",onDrop:function(n){return e.setState({uploaderFiles:n.map((function(e){return Object.defineProperty(e,"status",{value:"begin",writable:!0}),e}))})},style:this.props.dropZoneStyle,activeStyle:this.props.dropZoneActiveStyle},d().createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%",justifyContent:"center"}},d().createElement("span",{style:{width:"100px",height:"100px",textAlign:"center"}},d().createElement(v.Glyphicon,{glyph:"upload"}),d().createElement("br",null),"Drag files or",d().createElement("br",null),"click here")))):null}}])&&_(n.prototype,t),i}(d().Component);I(x,"propTypes",{setVisibleUploaderPanel:R.func,updateUploaderFile:R.func,setUploaderFiles:R.func,uploaderFiles:R.object,updateUploadStatus:R.func,uploadStatus:R.string,visibleUploaderPanel:R.bool,serverUrl:R.string,projectId:R.number,newTitle:R.string,fileType:R.string});var C=(0,g.connect)((function(e){var n,t,r,o,a;return{visibleUploaderPanel:null==e||null===(n=e.simpleView)||void 0===n?void 0:n.visibleUploaderPanel,serverUrl:null==e||null===(t=e.gnsettings)||void 0===t?void 0:t.geonodeUrl,projectId:null==e||null===(r=e.anuga)||void 0===r||null===(o=r.project)||void 0===o?void 0:o.id,uploadStatus:(null==e||null===(a=e.simpleView)||void 0===a?void 0:a.uploadStatus)||0}}),(function(e){return{setVisibleUploaderPanel:function(n){return e((0,a.setVisibleUploaderPanel)(n))},updateUploadStatus:function(n){return e((0,a.updateUploadStatus)(n))}}}))(x);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,n){return(G=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function L(e,n){return!n||"object"!==U(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var D=t(45697),k=t(72986),F=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&G(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=j(r);if(o){var t=j(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return L(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={boundaryTitle:"",frictionTitle:"",inflowTitle:"",structureTitle:""},n}return n=i,(t=[{key:"render",value:function(){var e,n,t,r,o,a,i,u,l,c,s,p=this;return d().createElement("div",{id:"anuga-input-menu",className:"simple-view-panel",style:{top:"70px",width:"480px"}},d().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},d().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},d().createElement("span",{className:"menu-row-text"},"Elevations"),d().createElement(v.OverlayTrigger,{placement:"right",overlay:d().createElement(v.Tooltip,null,"Upload a new *.tiff elevation")},d().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){p.props.setVisibleUploaderPanel(!0)}}))),null===(e=this.props.elevations)||void 0===e?void 0:e.map((function(e){return d().createElement(y.j,{layer:e})})),0===(null===(n=this.props.elevations)||void 0===n?void 0:n.length)?d().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"No elevations available"):null),null!==(t=this.props.project)&&void 0!==t&&t.projection?d().createElement(d().Fragment,null,d().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},d().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},d().createElement("span",{className:"pull-left menu-row-text"},"Boundaries"),d().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-edit".concat(this.state.boundaryTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){p.props.setCreatingAnugaLayer(!0),p.props.createAnugaBoundary(p.state.boundaryTitle),p.setState({boundaryTitle:""})}}),this.props.isCreatingAnugaLayer?d().createElement("span",null,d().createElement(k,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):d().createElement("input",{id:"boundary-input",key:"boundary-input",className:"data-title-input",type:"text",value:this.state.boundaryTitle,onChange:function(e){return p.setState({boundaryTitle:e.target.value})}})),null===(r=this.props.boundaries)||void 0===r?void 0:r.map((function(e){return d().createElement(y.j,{layer:e})})),0===(null===(o=this.props.boundaries)||void 0===o?void 0:o.length)?d().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"No boundaries available"):null),d().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},d().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},d().createElement("span",{className:"pull-left menu-row-text"},"Friction Maps"),d().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-edit".concat(this.state.frictionTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){p.props.createAnugaFriction(p.state.frictionTitle),p.setState({frictionTitle:""})}}),this.props.isCreatingAnugaLayer?d().createElement("span",null,d().createElement(k,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):d().createElement("input",{id:"friction-input",key:"friction-input",className:"data-title-input",type:"text",value:this.state.frictionTitle,onChange:function(e){return p.setState({frictionTitle:e.target.value})}})),null===(a=this.props.frictions)||void 0===a?void 0:a.map((function(e){return d().createElement(y.j,{layer:e})})),0===(null===(i=this.props.frictions)||void 0===i?void 0:i.length)?d().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"No friction maps available"):null),d().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},d().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},d().createElement("span",{className:"pull-left menu-row-text"},"Inflows"),d().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-edit".concat(this.state.inflowTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){p.props.createAnugaInflow(p.state.inflowTitle),p.setState({inflowTitle:""})}}),this.props.isCreatingAnugaLayer?d().createElement("span",null,d().createElement(k,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):d().createElement("input",{id:"inflow-input",key:"inflow-input",className:"data-title-input",type:"text",value:this.state.inflowTitle,onChange:function(e){return p.setState({inflowTitle:e.target.value})}})),null===(u=this.props.inflows)||void 0===u?void 0:u.map((function(e){return d().createElement(y.j,{layer:e})})),0===(null===(l=this.props.inflows)||void 0===l?void 0:l.length)?d().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"No inflows available"):null),d().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},d().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},d().createElement("span",{className:"pull-left menu-row-text"},"Structures"),d().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-edit".concat(this.state.structureTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){p.props.createAnugaStructure(p.state.structureTitle),p.setState({structureTitle:""})}}),this.props.isCreatingAnugaLayer?d().createElement("span",null,d().createElement(k,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):d().createElement("input",{id:"structure-input",key:"structure-input",className:"data-title-input",type:"text",value:this.state.structureTitle,onChange:function(e){return p.setState({structureTitle:e.target.value})}})),null===(c=this.props.structures)||void 0===c?void 0:c.map((function(e){return d().createElement(y.j,{layer:e})})),0===(null===(s=this.props.structures)||void 0===s?void 0:s.length)?d().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"No structures available"):null)):null,d().createElement(C,{fileType:"elevation"}))}}])&&P(n.prototype,t),i}(d().Component);M(F,"propTypes",{setVisibleUploaderPanel:D.func,anugaGroupLength:D.number,elevations:D.array,setAddAnugaElevation:D.func,showAddAnugaElevationData:D.bool,boundaries:D.array,createAnugaBoundary:D.func,createAnugaFriction:D.func,createAnugaInflow:D.func,createAnugaStructure:D.func,frictions:D.array,addAnugaFriction:D.func,inflows:D.array,addAnugaInflow:D.func,structures:D.array,addAnugaStructure:D.func,startAnugaElevationPolling:D.func,project:D.object,isCreatingAnugaLayer:D.bool,setCreatingAnugaLayer:D.func}),M(F,"defaultProps",{});var B=(0,g.connect)((function(e){var n,t,r,o,a,i,u,l,c,s,p,f;return{project:null==e||null===(n=e.anuga)||void 0===n?void 0:n.project,elevations:null==e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(e){return"Input Data.Elevations"===(null==e?void 0:e.group)})),boundaries:null==e||null===(o=e.layers)||void 0===o||null===(a=o.flat)||void 0===a?void 0:a.filter((function(e){return"Input Data.Boundaries"===(null==e?void 0:e.group)})),frictions:null==e||null===(i=e.layers)||void 0===i||null===(u=i.flat)||void 0===u?void 0:u.filter((function(e){return"Input Data.Frictions"===(null==e?void 0:e.group)})),inflows:null==e||null===(l=e.layers)||void 0===l||null===(c=l.flat)||void 0===c?void 0:c.filter((function(e){return"Input Data.Inflows"===(null==e?void 0:e.group)})),structures:null==e||null===(s=e.layers)||void 0===s||null===(p=s.flat)||void 0===p?void 0:p.filter((function(e){return"Input Data.Structures"===(null==e?void 0:e.group)})),isCreatingAnugaLayer:null==e||null===(f=e.anuga)||void 0===f?void 0:f.isCreatingAnugaLayer}}),(function(e){return{startAnugaElevationPolling:function(){return e((0,o.startAnugaElevationPolling)())},setVisibleUploaderPanel:function(n){return e((0,a.setVisibleUploaderPanel)(n))},createAnugaBoundary:function(n){return e((0,o.createAnugaBoundary)(n))},createAnugaFriction:function(n){return e((0,o.createAnugaFriction)(n))},createAnugaInflow:function(n){return e((0,o.createAnugaInflow)(n))},createAnugaStructure:function(n){return e((0,o.createAnugaStructure)(n))},setCreatingAnugaLayer:function(n){return e((0,o.setCreatingAnugaLayer)(n))}}}))(F);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,n){return(Y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function H(e,n){return!n||"object"!==V(n)&&"function"!=typeof n?Z(e):n}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var X=t(45697),q=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Y(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=W(r);if(o){var t=W(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return H(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),J(Z(n=a.call(this,e)),"findScenarioStatus",(function(e){var n;return null!=e&&null!==(n=e.latest_run)&&void 0!==n&&n.status?e.latest_run.status:e.status})),J(Z(n),"handleTextChange",(function(e,t){console.log("handleTextChange",e,t),console.log("e.target",e.target),console.log("e.target.value",e.target.value),console.log("e.target.id",e.target.id);var r={};r[e.target.id]=e.target.value,n.props.updateAnugaScenario(t,r)})),J(Z(n),"handleIntChange",(function(e,t){console.log("handleIntChange",e,t),console.log("e.target",e.target),console.log("e.target.value",e.target.value),console.log("e.target.id",e.target.id);var r={};r[e.target.id]=parseInt(e.target.value,10),n.props.updateAnugaScenario(t,r)})),J(Z(n),"handleNumberChange",(function(e,t){console.log("handleNumberChange",e,t),console.log("e.target",e.target),console.log("e.target.value",e.target.value),console.log("e.target.id",e.target.id);var r={};r[e.target.id]=parseFloat(e.target.value),n.props.updateAnugaScenario(t,r)})),n.state={},n.handleTextChange=n.handleTextChange.bind(Z(n)),n.handleIntChange=n.handleIntChange.bind(Z(n)),n}return n=i,(t=[{key:"render",value:function(){var e,n=this;return d().createElement("div",{id:"anuga-scenario-menu",className:"simple-view-panel",style:{top:"70px"}},d().createElement("div",{className:"menu-rows-container"},d().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},"Scenarios",d().createElement("span",{id:"new-scenario-button"},d().createElement(v.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){n.props.addAnugaScenario()}},"New Scenario")),d().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){n.props.setAnugaScenarioMenu(!1),n.props.stopAnugaScenarioPolling()}})),d().createElement(v.Table,{className:"scenario-table"},d().createElement("thead",null,d().createElement("tr",{className:"scenario-table-header"},d().createElement("th",null,"Select"),d().createElement("th",null,"Id"),d().createElement("th",null,"Name"),d().createElement("th",null,"Elevation"),d().createElement("th",null,"Boundary"),d().createElement(v.OverlayTrigger,{placement:"top",overlay:d().createElement(v.Tooltip,null,"Constant mm/hr")},d().createElement("th",null,"Rainfall")),d().createElement(v.OverlayTrigger,{placement:"top",overlay:d().createElement(v.Tooltip,null,"seconds")},d().createElement("th",null,"Duration")),d().createElement(v.OverlayTrigger,{placement:"top",overlay:d().createElement(v.Tooltip,null,"Maximum Area per triangle (m2)")},d().createElement("th",null,"Mesh Size")),d().createElement("th",null,"Status"),d().createElement("th",null),d().createElement("th",null),d().createElement("th",null),d().createElement("th",null),d().createElement("th",null),d().createElement("th",null),d().createElement("th",null))),d().createElement("tbody",null,null===(e=this.props.scenarios)||void 0===e?void 0:e.map((function(e){var t,r,o;return d().createElement("tr",{className:"scenario-table-row"},d().createElement("td",null,d().createElement("input",{id:"scenario-selector-box",type:"radio",name:"scenario-selector",value:!1,onChange:function(){return n.props.selectAnugaScenario(e)}})),d().createElement("td",null,e.id),d().createElement("td",null,d().createElement("input",{id:"name",key:"name-".concat(e.id),type:"text",className:"scenario-input",value:e.name,onChange:function(t){return n.handleTextChange(t,e)}})),d().createElement("td",null,d().createElement("select",{id:"elevation",key:"elevation-".concat(e.id),value:null==e?void 0:e.elevation,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},d().createElement("option",{value:""},"-"),null===(t=n.props.elevations)||void 0===t?void 0:t.map((function(e){return d().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),d().createElement("td",null,d().createElement("select",{id:"boundary",key:"boundary-".concat(e.id),value:null==e?void 0:e.boundary,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},d().createElement("option",{value:""},"-"),null===(r=n.props.boundaries)||void 0===r?void 0:r.map((function(e){return d().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),d().createElement("td",null,d().createElement("input",{id:"constant_rainfall",key:"constantRainfall-".concat(e.id),type:"number",className:"scenario-input",style:{width:"50px"},value:e.constant_rainfall,onChange:function(t){return n.handleNumberChange(t,e)}})),d().createElement("td",null,d().createElement("input",{id:"duration",key:"duration-".concat(e.id),type:"number",className:"scenario-input",style:{width:"80px"},value:e.duration,onChange:function(t){return n.handleIntChange(t,e)}})),d().createElement("td",null,d().createElement("input",{id:"maximum_triangle_area",key:"maximumTriangleArea-".concat(e.id),type:"number",className:"scenario-input",style:{width:"50px"},value:e.maximum_triangle_area,onChange:function(t){return n.handleNumberChange(t,e)}})),d().createElement("td",null,n.findScenarioStatus(e)),d().createElement("td",null,d().createElement(v.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:e.unsaved?null:"disabled",onClick:function(){n.props.saveAnugaScenario(e),n.props.setOpenMenuGroupId(null)}},"Save")),d().createElement("td",null,d().createElement(v.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:"built"===e.status||e.unsaved?"disabled":null,onClick:function(){n.props.buildAnugaScenario(e)}},"Build")),d().createElement("td",null,d().createElement(v.Button,{download:!0,href:null==e||null===(o=e.latest_run)||void 0===o?void 0:o.s3_package_url,bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:"built"!==e.status?"disabled":null,onClick:function(){return console.log("downloading: ",e)}},"Download")),d().createElement("td",null,d().createElement(v.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:"built"!==e.status?"disabled":null,onClick:function(){n.props.runAnugaScenario(e)}},"Run")),d().createElement("td",null,d().createElement(v.Button,{bsStyle:"info",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){n.props.showAnugaScenarioLog(e.id)}},"Log")),d().createElement("td",null,d().createElement(v.Button,{bsStyle:"danger",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px",backgroundColor:"#622b2b"},onClick:function(){n.props.deleteAnugaScenario(e)}},d().createElement("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"}))))}))))))}}])&&z(n.prototype,t),i}(d().Component);J(q,"propTypes",{anugaGroupLength:X.number,scenarios:X.array,boundaries:X.array,elevations:X.array,setOpenMenuGroupId:X.func,saveAnugaScenario:X.func,runAnugaScenario:X.func,updateAnugaScenario:X.func,selectAnugaScenario:X.func,showAnugaScenarioLog:X.func,setAnugaScenarioMenu:X.func,stopAnugaScenarioPolling:X.func,addAnugaScenario:X.func,deleteAnugaScenario:X.func,buildAnugaScenario:X.func}),J(q,"defaultProps",{});var Q=(0,g.connect)((function(e){var n,t,r;return{scenarios:null==e||null===(n=e.anuga)||void 0===n?void 0:n.scenarios,boundaries:null==e||null===(t=e.anuga)||void 0===t?void 0:t.boundaries,elevations:null==e||null===(r=e.anuga)||void 0===r?void 0:r.elevations}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,a.setOpenMenuGroupId)(n))},setAnugaScenarioMenu:function(n){return e((0,o.setAnugaScenarioMenu)(n))},runAnugaScenario:function(n){return e((0,o.runAnugaScenario)(n))},saveAnugaScenario:function(n){return e((0,o.saveAnugaScenario)(n))},buildAnugaScenario:function(n){return e((0,o.buildAnugaScenario)(n))},updateAnugaScenario:function(n,t){return e((0,o.updateAnugaScenario)(n,t))},selectAnugaScenario:function(n){return e((0,o.selectAnugaScenario)(n))},showAnugaScenarioLog:function(n){return e((0,o.showAnugaScenarioLog)(n))},stopAnugaScenarioPolling:function(){return e((0,o.stopAnugaScenarioPolling)())},addAnugaScenario:function(){return e((0,o.addAnugaScenario)())},deleteAnugaScenario:function(n){return e((0,o.deleteAnugaScenario)(n))}}}))(q);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,n){return(ee=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ne(e,n){return!n||"object"!==$(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var oe=t(45697),ae=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ee(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=te(r);if(o){var t=te(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return ne(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={},n}return n=i,(t=[{key:"render",value:function(){return d().createElement(d().Fragment,null,d().createElement("div",{id:"anuga-result-menu",className:"simple-view-panel",style:{top:"70px",width:"480px"}},d().createElement("div",{className:"menu-rows-container"},d().createElement("div",{className:"row menu-row pull-left",style:{width:"480px",textAlign:"left"}},"Example Text Result"))))}}])&&K(n.prototype,t),i}(d().Component);re(ae,"propTypes",{anugaGroupLength:oe.number}),re(ae,"defaultProps",{});var ie=(0,g.connect)((function(e){return{}}),(function(e){return{}}))(ae);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,n){return(ce=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function se(e,n){return!n||"object"!==ue(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var de=t(45697),ge=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ce(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=pe(r);if(o){var t=pe(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return se(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={},n}return n=i,(t=[{key:"render",value:function(){var e,n,t,r=this;return d().createElement("div",{id:"anuga-scenario-log-viewer-container"},d().createElement("h5",null,null===(e=this.props.visibleAnugaLogScenario)||void 0===e?void 0:e.name,d().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return r.props.showAnugaScenarioLog(!1)}})),d().createElement("div",{id:"anuga-scenario-log-viewer"},null===(n=this.props.visibleAnugaLogScenario)||void 0===n||null===(t=n.latest_run)||void 0===t?void 0:t.log))}}])&&le(n.prototype,t),i}(d().Component);fe(ge,"propTypes",{visibleAnugaLogScenario:de.object,showAnugaScenarioLog:de.func}),fe(ge,"defaultProps",{});var ve=(0,g.connect)((function(e){var n,t,r,o;return console.log("a",null==e||null===(n=e.anuga)||void 0===n||null===(t=n.scenarios)||void 0===t?void 0:t.filter((function(n){var t;return(null==e||null===(t=e.anuga)||void 0===t?void 0:t.visibleAnugaScenarioLogId)===n.id}))[0]),{visibleAnugaLogScenario:null==e||null===(r=e.anuga)||void 0===r||null===(o=r.scenarios)||void 0===o?void 0:o.filter((function(n){var t;return(null==e||null===(t=e.anuga)||void 0===t?void 0:t.visibleAnugaScenarioLogId)===n.id}))[0]}}),(function(e){return{showAnugaScenarioLog:function(n){return e((0,o.showAnugaScenarioLog)(n))}}}))(ge);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,n){return(be=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ae(e,n){return!n||"object"!==ye(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Se=t(45697),_e=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&be(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=he(r);if(o){var t=he(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Ae(this,e)});function i(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),a.call(this,e)}return n=i,(t=[{key:"componentDidMount",value:function(){this.props.initAnuga()}},{key:"render",value:function(){var e=this;return this.props.isAnugaProject?d().createElement("div",{id:"anuga-container"},d().createElement("div",{id:"anuga-inputs"},d().createElement("button",{key:"anuga-input-button",className:"simple-view-menu-button",style:{left:120},onClick:function(){e.props.setAnugaInputMenu(!e.props.showAnugaInputMenu),e.props.startAnugaElevationPolling(),e.props.setOpenMenuGroupId(null)}},"Inputs")),this.props.showAnugaInputMenu?d().createElement(B,null):null,d().createElement("div",{id:"anuga-scenario"},d().createElement("button",{key:"anuga-scenario-button",className:"simple-view-menu-button",style:{left:220},onClick:function(){e.props.setAnugaScenarioMenu(!e.props.showAnugaScenarioMenu),e.props.showAnugaScenarioMenu?e.props.stopAnugaScenarioPolling():e.props.startAnugaScenarioPolling(),e.props.setOpenMenuGroupId(null)}},"Scenarios"),this.props.showAnugaScenarioMenu?d().createElement(Q,null):null),d().createElement("div",{id:"anuga-results"},d().createElement("button",{key:"anuga-result-button",className:"simple-view-menu-button",style:{left:320},onClick:function(){e.props.setAnugaResultMenu(!e.props.showAnugaResultMenu),e.props.setOpenMenuGroupId(null)}},"Results"),this.props.showAnugaResultMenu?d().createElement(ie,null):null),this.props.visibleAnugaScenarioLogId?d().createElement(ve,null):null):null}}])&&me(n.prototype,t),i}(d().Component);Ee(_e,"propTypes",{initAnuga:Se.func,showAnugaInputMenu:Se.bool,setAnugaInputMenu:Se.func,showAnugaScenarioMenu:Se.bool,setAnugaScenarioMenu:Se.func,showAnugaResultMenu:Se.bool,setAnugaResultMenu:Se.func,isAnugaMenuOpen:Se.bool,openMenuGroupId:Se.string,numberOfMenus:Se.number,setOpenMenuGroupId:Se.func,showAddAnugaElevationData:Se.bool,setAddAnugaElevation:Se.func,visibleAnugaScenarioLogId:Se.number,startAnugaElevationPolling:Se.func,startAnugaScenarioPolling:Se.func,stopAnugaScenarioPolling:Se.func}),Ee(_e,"defaultProps",{});const Oe=(0,g.connect)((function(e){var n,t,r,o,a,i,u,l,c,s,p,f,d,g,v;return console.log("state for Anuga:",e),{isAnugaProject:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.project)||void 0===t?void 0:t.id,anugaInputMenuGroupId:null==e||null===(r=e.layers)||void 0===r||null===(o=r.groups)||void 0===o||null===(a=o.filter((function(e){return"Input Data"===e.title}))[0])||void 0===a?void 0:a.id,showAnugaInputMenu:null==e||null===(i=e.anuga)||void 0===i?void 0:i.showAnugaInputMenu,showAnugaScenarioMenu:null==e||null===(u=e.anuga)||void 0===u?void 0:u.showAnugaScenarioMenu,showAnugaResultMenu:null==e||null===(l=e.anuga)||void 0===l?void 0:l.showAnugaResultMenu,isAnugaMenuOpen:(null==e||null===(c=e.anuga)||void 0===c?void 0:c.showAnugaInputMenu)||(null==e||null===(s=e.anuga)||void 0===s?void 0:s.showAnugaScenarioMenu)||(null==e||null===(p=e.anuga)||void 0===p?void 0:p.showAnugaResultMenu),openMenuGroupId:null==e||null===(f=e.simpleView)||void 0===f?void 0:f.openMenuGroupId,numberOfMenus:null==e||null===(d=e.layers)||void 0===d?void 0:d.groups.length,showAddAnugaElevationData:null==e||null===(g=e.anuga)||void 0===g?void 0:g.showAddAnugaElevationData,visibleAnugaScenarioLogId:null==e||null===(v=e.anuga)||void 0===v?void 0:v.visibleAnugaScenarioLogId}}),(function(e){return{initAnuga:function(){return e((0,o.initAnuga)())},startAnugaElevationPolling:function(n){return e((0,o.startAnugaElevationPolling)(n))},setAnugaInputMenu:function(n){return e((0,o.setAnugaInputMenu)(n))},setAnugaScenarioMenu:function(n){return e((0,o.setAnugaScenarioMenu)(n))},setAnugaResultMenu:function(n){return e((0,o.setAnugaResultMenu)(n))},setOpenMenuGroupId:function(n){return e((0,a.setOpenMenuGroupId)(n))},startAnugaScenarioPolling:function(){return e((0,o.startAnugaScenarioPolling)())},stopAnugaScenarioPolling:function(){return e((0,o.stopAnugaScenarioPolling)())}}}))(_e);var we=t(49977),Ne=t.n(we),Te=t(80416),Ie=t(1550),Re=t(73443);const xe=(0,r.rx)("Anuga",{component:Oe,reducers:{anuga:function(){var e,n,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,u=arguments.length>1?arguments[1]:void 0;switch(console.log("anuga:",u),u.type){case o.SET_CREATING_ANUGA_LAYER:return c(c({},r),{},{isCreatingAnugaLayer:u.isCreatingAnugaLayer});case o.UPDATE_ANUGA_SCENARIO:return c(c({},r),{},{scenarios:r.scenarios.map((function(e){return e.id===u.scenario.id?(u.scenario.unsaved=!0,u.scenario):e}))});case o.SET_ANUGA_POLLING_DATA:return c(c({},r),{},{scenarios:r.scenarios.map((function(e){var n=u.scenarios.filter((function(n){return e.id===n.id}))[0];return e.latest_run=(null==n?void 0:n.latest_run)||{status:"unsaved"},e.status=(null==n?void 0:n.status)||"unsaved",e}))});case o.ADD_ANUGA_SCENARIO:return c(c({},r),{},{scenarios:[].concat(i(r.scenarios),[{id:null,name:"",code:null,description:"",maximum_triangle_area:10,constant_rainfall:null,duration:null,status:"new",project:null==r||null===(e=r.project)||void 0===e?void 0:e.id,boundary:"",elevation:"",unsaved:!1}])});case o.BUILD_ANUGA_SCENARIO:return c(c({},r),{},{scenarios:null===(n=r.scenarios)||void 0===n?void 0:n.map((function(e){return e.id===u.scenario.id&&(e.latest_run=c(c({},e.latest_run),{},{status:"building"})),e}))});case o.SET_ANUGA_SCENARIO_IS_LOADED:return c(c({},r),{},{scenarios:r.scenarios.map((function(e){return e.id===u.scenarioId?(e.isLoaded=u.isLoaded,e):e}))});case o.SHOW_ANUGA_SCENARIO_LOG:return c(c({},r),{},{visibleAnugaScenarioLogId:u.scenarioId});case o.SAVE_ANUGA_SCENARIO_SUCCESS:return c(c({},r),{},{scenarios:r.scenarios.map((function(e){return e.id===u.scenario.id?(u.scenario.unsaved=!1,u.scenario):e.id?e:u.scenario}))});case o.SELECT_ANUGA_SCENARIO:return c(c({},r),{},{selectedScenario:u.scenario});case o.SET_ANUGA_PROJECT_DATA:return u.data?c(c({},r),{},{project:u.data}):r;case o.SET_ANUGA_SCENARIO_DATA:return 0===r.scenarios.length?c(c({},r),{},{scenarios:u.scenarios}):c(c({},r),{},{scenarios:null===(t=r.scenarios)||void 0===t?void 0:t.map((function(e){return e.unsaved?c(c({},u.scenario),{},{unsaved:!0}):e.id===u.scenario.id?(u.scenario.unsaved=!1,u.scenario):e}))});case o.SET_ANUGA_INFLOW_DATA:return c(c({},r),{},{inflows:u.data});case o.SET_ANUGA_FRICTION_DATA:return c(c({},r),{},{frictions:u.data});case o.SET_ANUGA_STRUCTURE_DATA:return c(c({},r),{},{structures:u.data});case o.SET_ANUGA_BOUNDARY_DATA:return c(c({},r),{},{boundaries:u.data});case o.SET_ANUGA_ELEVATION_DATA:return c(c({},r),{},{elevations:u.data});case a.SV_SELECT_LAYER:return u.layer?c(c({},r),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1}):r;case a.SET_OPEN_MENU_GROUP_ID:return u.openMenuGroupId?c(c({},r),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1}):r;case o.SET_ANUGA_INPUT_MENU:return c(c({},r),{},{showAnugaInputMenu:u.visible,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1});case o.SET_ANUGA_SCENARIO_MENU:return c(c({},r),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:u.visible,showAnugaResultMenu:!1});case o.SET_ANUGA_RESULT_MENU:return c(c({},r),{},{showAnugaScenarioMenu:!1,showAnugaInputMenu:!1,showAnugaResultMenu:u.visible});default:return r}}},epics:{initAnugaEpic:function(e,n){return e.ofType(o.INIT_ANUGA).switchMap((function(){var e,t,r,a;return Ne().Observable.from(E().post("/anuga/api/project/get_project_from_map_id/",{mapId:null===(e=n.getState())||void 0===e||null===(t=e.map)||void 0===t||null===(r=t.present)||void 0===r||null===(a=r.info)||void 0===a?void 0:a.id})).switchMap((function(e){return Ne().Observable.from(E().get("/anuga/api/project/".concat(e.data.projectId,"/"))).switchMap((function(n){return Ne().Observable.of((0,o.setAnugaProjectData)(n.data)).concat(Ne().Observable.from(E().get("/anuga/api/".concat(e.data.projectId,"/scenario/"))).switchMap((function(e){return Ne().Observable.of((0,o.setAnugaScenarioData)(e.data))})),Ne().Observable.from(E().get("/anuga/api/".concat(e.data.projectId,"/boundary/"))).switchMap((function(e){return Ne().Observable.of((0,o.setAnugaBoundaryData)(e.data))})),Ne().Observable.from(E().get("/anuga/api/".concat(e.data.projectId,"/elevation/"))).switchMap((function(e){return Ne().Observable.of((0,o.setAnugaElevationData)(e.data))})),Ne().Observable.from(E().get("/anuga/api/".concat(e.data.projectId,"/inflow/"))).switchMap((function(e){return Ne().Observable.of((0,o.setAnugaInflowData)(e.data))})),Ne().Observable.from(E().get("/anuga/api/".concat(e.data.projectId,"/structure/"))).switchMap((function(e){return Ne().Observable.of((0,o.setAnugaStructureData)(e.data))})),Ne().Observable.from(E().get("/anuga/api/".concat(e.data.projectId,"/friction/"))).switchMap((function(e){return Ne().Observable.of((0,o.setAnugaFrictionData)(e.data))})))})).catch((function(e){return Ne().Observable.of((function(){return console.log("Error getting available elevations: ",e)}))}))}))}))},getAnugaAvailElevationsEpic:function(e,n){return e.ofType(o.SET_ADD_ANUGA_ELEVATION_DATA).concatMap((function(){var e,t,r;return Ne().Observable.from(E().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.project)||void 0===r?void 0:r.id,"/elevation/available/")))})).concatMap((function(e){return Ne().Observable.of((0,o.setAnugaAvailableElevationData)(e.data))}))},pollAnugaElevationEpic:function(e,n){return e.ofType(o.START_ANUGA_ELEVATION_POLLING).switchMap((function(){return Ne().Observable.timer(0,5e3).takeUntil(e.ofType(o.STOP_ANUGA_ELEVATION_POLLING)).switchMap((function(){var e,t,r;return Ne().Observable.from(E().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.project)||void 0===r?void 0:r.id,"/elevation/available/")))})).switchMap((function(e){var n,t,r,i,u,l;return 0===(null===(n=e.data)||void 0===n?void 0:n.length)?Ne().Observable.empty():Ne().Observable.concat(Ne().Observable.of((0,Te.A4)(e.data[0])),Ne().Observable.of((0,Te.A4)(null===(t=e.data)||void 0===t?void 0:t[1])),Ne().Observable.of((0,Ie.Px)(null===(r=e.data[0])||void 0===r||null===(i=r.bbox)||void 0===i?void 0:i.bounds,null===(u=e.data[0])||void 0===u||null===(l=u.bbox)||void 0===l?void 0:l.crs,20)),Ne().Observable.of((0,a.updateUploadStatus)("Complete")),Ne().Observable.of((0,Re.nY)()),Ne().Observable.of((0,o.initAnuga)()),Ne().Observable.of((0,o.stopAnugaElevationPolling)()))}))}))},createAnugaBoundaryEpic:function(e,n){return e.ofType(o.CREATE_ANUGA_BOUNDARY).switchMap((function(e){var t,r,a,i,u,l;return Ne().Observable.from(E().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.project)||void 0===a?void 0:a.id,"/boundary/"),{project:null===(i=n.getState())||void 0===i||null===(u=i.anuga)||void 0===u||null===(l=u.project)||void 0===l?void 0:l.id,title:e.boundaryTitle})).switchMap((function(){var e,t,r;return Ne().Observable.from(E().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.project)||void 0===r?void 0:r.id,"/boundary/available/"))).switchMap((function(e){var n;return 0===(null===(n=e.data)||void 0===n?void 0:n.length)?Ne().Observable.empty():Ne().Observable.concat(Ne().Observable.of((0,Te.A4)(e.data[0])),Ne().Observable.of((0,Re.nY)()),Ne().Observable.of((0,o.initAnuga)()),Ne().Observable.of((0,o.setCreatingAnugaLayer)(!1)))}))}))}))},buildAnugaScenarioEpic:function(e,n){return e.ofType(o.BUILD_ANUGA_SCENARIO).concatMap((function(e){var t,r,a;return Ne().Observable.from(E().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.project)||void 0===a?void 0:a.id,"/scenario/").concat(e.scenario.id,"/build/"),e.scenario)).map((function(e){return(0,o.saveAnugaScenarioSuccess)(e.data)})).catch((function(e){return Ne().Observable.of((function(){return console.log(e)}))}))}))},runAnugaScenarioEpic:function(e,n){return e.ofType(o.RUN_ANUGA_SCENARIO).concatMap((function(e){var t,r,o;return Ne().Observable.from(E().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.project)||void 0===o?void 0:o.id,"/scenario/").concat(e.scenario.id,"/run/"),e.scenario))})).concatMap((function(e){return Ne().Observable.of((0,o.runAnugaScenarioSuccess)(e.data),(0,o.setAnugaScenarioMenu)(!0))}))},saveAnugaScenarioEpic:function(e,n){return e.ofType(o.SAVE_ANUGA_SCENARIO).concatMap((function(e){var t,r,o,a,i,u;return e.scenario.id?Ne().Observable.from(E().put("/anuga/api/".concat(null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(u=i.project)||void 0===u?void 0:u.id,"/scenario/").concat(e.scenario.id,"/"),e.scenario)):Ne().Observable.from(E().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.project)||void 0===o?void 0:o.id,"/scenario/"),e.scenario))})).concatMap((function(e){return Ne().Observable.of((0,o.saveAnugaScenarioSuccess)(e.data),(0,o.setAnugaScenarioMenu)(!0))}))},pollAnugaScenarioEpic:function(e,n){return e.ofType(o.START_ANUGA_SCENARIO_POLLING).switchMap((function(){return Ne().Observable.timer(0,6e3).takeUntil(e.ofType(o.STOP_ANUGA_SCENARIO_POLLING)).switchMap((function(){var e,t,r;return Ne().Observable.from(E().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.project)||void 0===r?void 0:r.id,"/scenario/"))).map((function(e){return(0,o.setAnugaPollingData)(e.data)})).catch((function(e){return Ne().Observable.of((function(){return console.log(e)}))})).switchMap((function(e){var t,r,a,i,u,l;console.log("filter this:",e.scenarios);var c=null===(t=e.scenarios)||void 0===t?void 0:t.filter((function(e){var n;return"complete"===(null===(n=e.latest_run)||void 0===n?void 0:n.status)}));return console.log("backend scenariosToLoadResults",c),c=null===(r=n.getState())||void 0===r||null===(a=r.anuga)||void 0===a||null===(i=a.scenarios)||void 0===i?void 0:i.filter((function(e){var n;return(null==e?void 0:e.id)===(null===(n=c)||void 0===n?void 0:n[0].id)})),console.log("frontend scenariosToLoadResults",c),(null===(u=c)||void 0===u?void 0:u.length)>0&&(null===(l=c)||void 0===l||!l[0].isLoaded)?(console.log("turning on: scenariosToLoadResults[0]",c[0]),Ne().Observable.concat(Ne().Observable.of((0,Te.A4)(c[0].latest_run.gn_layer_depth_integrated_velocity_max)),Ne().Observable.of((0,Te.A4)(c[0].latest_run.gn_layer_depth_max)),Ne().Observable.of((0,Te.A4)(c[0].latest_run.gn_layer_velocity_max)),Ne().Observable.of((0,o.setAnugaScenarioResultsLoaded)(c[0].id,!0)))):Ne().Observable.empty()}))}))}))},deleteAnugaScenarioEpic:function(e,n){return e.ofType(o.DELETE_ANUGA_SCENARIO).concatMap((function(e){var t,r,o;return Ne().Observable.from(E().delete("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.project)||void 0===o?void 0:o.id,"/scenario/").concat(e.scenario.id,"/")))})).concatMap((function(e){return Ne().Observable.of((0,o.deleteAnugaScenarioSuccess)(e.data))}))}}})},68658:(e,n,t)=>{function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(97395).SHOW_NOTIFICATION,u=t(23570),l="INIT_ANUGA",c="SET_ANUGA_INPUT_MENU",s="SET_ANUGA_SCENARIO_MENU",p="SET_ANUGA_RESULT_MENU",f="SET_ANUGA_PROJECT_DATA",d="SET_ANUGA_SCENARIO_DATA",g="SET_ANUGA_BOUNDARY_DATA",v="SET_ANUGA_FRICTION_DATA",y="SET_ANUGA_INFLOW_DATA",m="SET_ANUGA_STRUCTURE_DATA",b="CREATE_ANUGA_BOUNDARY",A="CREATE_ANUGA_FRICTION",h="CREATE_ANUGA_INFLOW",E="CREATE_ANUGA_STRUCTURE",S="SET_ANUGA_ELEVATION_DATA",_="SET_ANUGA_AVAILABLE_ELEVATION_DATA",O="CREATE_ANUGA_ELEVATION_FROM_LAYER",w="SET_ADD_ANUGA_ELEVATION_DATA",N="ADD_ANUGA_SCENARIO",T="RUN_ANUGA_SCENARIO",I="RUN_ANUGA_SCENARIO_SUCCESS",R="SAVE_ANUGA_SCENARIO",x="SAVE_ANUGA_SCENARIO_SUCCESS",C="DELETE_ANUGA_SCENARIO",U="SHOW_ANUGA_SCENARIO_LOG",P="START_ANUGA_SCENARIO_POLLING",G="STOP_ANUGA_SCENARIO_POLLING",L="START_ANUGA_ELEVATION_POLLING",j="STOP_ANUGA_ELEVATION_POLLING",M="SET_ANUGA_POLLING_DATA",D="UPDATE_ANUGA_SCENARIO",k="SELECT_ANUGA_SCENARIO",F="SET_CREATING_ANUGA_LAYER",B="BUILD_ANUGA_SCENARIO",V="SET_ANUGA_SCENARIO_IS_LOADED";e.exports={INIT_ANUGA:l,initAnuga:function(){return{type:l}},SET_ANUGA_INPUT_MENU:c,setAnugaInputMenu:function(e){return{type:c,visible:e}},SET_ANUGA_SCENARIO_MENU:s,setAnugaScenarioMenu:function(e){return{type:s,visible:e}},SET_ANUGA_RESULT_MENU:p,setAnugaResultMenu:function(e){return{type:p,visible:e}},SET_ANUGA_PROJECT_DATA:f,setAnugaProjectData:function(e){return{type:f,data:e}},SET_ANUGA_SCENARIO_DATA:d,setAnugaScenarioData:function(e){return{type:d,scenarios:e}},SET_ANUGA_ELEVATION_DATA:S,setAnugaElevationData:function(e){return{type:S,data:e}},SET_ANUGA_BOUNDARY_DATA:g,setAnugaBoundaryData:function(e){return{type:g,data:e}},SET_ANUGA_FRICTION_DATA:v,setAnugaFrictionData:function(e){return{type:v,data:e}},SET_ANUGA_INFLOW_DATA:y,setAnugaInflowData:function(e){return{type:y,data:e}},SET_ANUGA_STRUCTURE_DATA:m,setAnugaStructureData:function(e){return{type:m,data:e}},CREATE_ANUGA_BOUNDARY:b,createAnugaBoundary:function(e){return{type:b,boundaryTitle:e}},CREATE_ANUGA_FRICTION:A,createAnugaFriction:function(e){return{type:A,frictionTitle:e}},CREATE_ANUGA_INFLOW:h,createAnugaInflow:function(e){return{type:h,inflowTitle:e}},CREATE_ANUGA_STRUCTURE:E,createAnugaStructure:function(e){return{type:E,structureTitle:e}},SET_ANUGA_AVAILABLE_ELEVATION_DATA:_,setAnugaAvailableElevationData:function(e){return{type:_,data:e}},SET_ADD_ANUGA_ELEVATION_DATA:w,setAddAnugaElevation:function(e){return{type:w,visible:e}},CREATE_ANUGA_ELEVATION_FROM_LAYER:O,createAnugaElevationFromLayer:function(e,n){return{type:O,pk:e,title:n}},SAVE_ANUGA_SCENARIO:R,saveAnugaScenario:function(e){return{type:R,scenario:e}},ADD_ANUGA_SCENARIO:N,addAnugaScenario:function(){return{type:N}},SAVE_ANUGA_SCENARIO_SUCCESS:x,saveAnugaScenarioSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario ID: ".concat(e.id," saved"),uid:u(),level:"success"}),n({type:x,scenario:e})}},DELETE_ANUGA_SCENARIO:C,deleteAnugaScenario:function(e){return{type:C,scenario:e}},DELETE_ANUGA_SCENARIO_SUCCESS:"DELETE_ANUGA_SCENARIO_SUCCESS",deleteAnugaScenarioSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario ID: ".concat(e.id," deleted"),uid:u(),level:"info"}),n({type:l})}},RUN_ANUGA_SCENARIO:T,runAnugaScenario:function(e){return{type:T,scenario:e}},RUN_ANUGA_SCENARIO_SUCCESS:I,runAnugaScenarioSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario ID: ".concat(e.id," running"),uid:u(),level:"success"}),n({type:I,scenario:e})}},UPDATE_ANUGA_SCENARIO:D,updateAnugaScenario:function(e,n){return{type:D,scenario:o(o({},e),n)}},SELECT_ANUGA_SCENARIO:k,selectAnugaScenario:function(e){return{type:k,scenario:e}},SHOW_ANUGA_SCENARIO_LOG:U,showAnugaScenarioLog:function(e){return{type:U,scenarioId:e}},START_ANUGA_SCENARIO_POLLING:P,startAnugaScenarioPolling:function(){return{type:P}},STOP_ANUGA_SCENARIO_POLLING:G,stopAnugaScenarioPolling:function(){return{type:G}},START_ANUGA_ELEVATION_POLLING:L,startAnugaElevationPolling:function(){return{type:L}},STOP_ANUGA_ELEVATION_POLLING:j,stopAnugaElevationPolling:function(){return{type:j}},SET_ANUGA_POLLING_DATA:M,setAnugaPollingData:function(e){return{type:M,scenarios:e}},SET_CREATING_ANUGA_LAYER:F,setCreatingAnugaLayer:function(e){return{type:F,isCreatingAnugaLayer:e}},BUILD_ANUGA_SCENARIO:B,buildAnugaScenario:function(e){return{type:B,scenario:e}},SET_ANUGA_SCENARIO_IS_LOADED:V,setAnugaScenarioResultsLoaded:function(e,n){return{type:V,scenarioId:e,isLoaded:n}}}},88380:(e,n,t)=>{"use strict";t.d(n,{j:()=>E});var r=t(24852),o=t.n(r),a=t(71703),i=t(80416),u=(t(29944),t(51288)),l=t(95797),c=t(33528);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,n){return(f=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function d(e,n){return!n||"object"!==s(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v,y,m,b=t(45697),A=t(85552),h=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&f(e,n)}(u,e);var n,t,r,a,i=(r=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=g(r);if(a){var t=g(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return d(this,e)});function u(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e)).state={},n}return n=u,(t=[{key:"render",value:function(){var e,n,t,r=this;return this.props.layer?o().createElement("div",{className:"row menu-row"},o().createElement("span",{className:"pull-left .menu-row-button"},o().createElement("span",{className:"btn glyphicon menu-row-glyph "+(null!==(e=this.props.layer)&&void 0!==e&&e.visibility?"glyphicon-ok":"glyphicon-remove"),style:{color:null!==(n=this.props.layer)&&void 0!==n&&n.visibility?"limegreen":"red"},onClick:function(){var e,n;r.props.toggleLayer(null===(e=r.props.layer)||void 0===e?void 0:e.id,null===(n=r.props.layer)||void 0===n?void 0:n.visibility)}}),this.props.canEdit?o().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-pencil",style:{color:"grey"},onClick:function(){r.props.setOpenMenuGroupId(null),r.props.setPermission({canEdit:!0}),r.props.svSelectLayer(r.props.layer),r.props.browseData(r.props.layer)}}):null,o().createElement("span",{className:"menu-row-text"},this.props.layer.title)),0===this.props.layer.opacity||this.props.layer.opacity?o().createElement("div",{className:"mapstore-slider dataset-transparency with-tooltip",onClick:function(e){e.stopPropagation()}},o().createElement(A,{step:1,start:100*(null===(t=this.props.layer)||void 0===t?void 0:t.opacity),range:{min:0,max:100},onChange:function(e){var n;r.props.setOpacity(null===(n=r.props.layer)||void 0===n?void 0:n.id,e)}})):null):o().createElement("div",{className:"row menu-row"},o().createElement("div",{className:"inline pull-left .menu-row-button"},o().createElement("div",{className:"h5 menu-row-text"},"No datasets here yet...")))}}])&&p(n.prototype,t),u}(o().Component);v=h,y="propTypes",m={layer:b.object,svSelectLayer:b.func,toggleLayer:b.func,setOpacity:b.func,setOpenMenuGroupId:b.func,canEdit:b.bool,editLayer:b.func,featureTypeSelected:b.func,browseData:b.func,setPermission:b.func},y in v?Object.defineProperty(v,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):v[y]=m;var E=(0,a.connect)((function(e){var n,t;return{canEdit:!["theswamm.com"].map((function(n){var t;return!(null!=e&&null!==(t=e.gnsettings)&&void 0!==t&&t.geonodeUrl.includes(n))})).includes(!1)&&(null==e||null===(n=e.gnresource)||void 0===n||null===(t=n.permissions)||void 0===t?void 0:t.canEdit)}}),(function(e){return{toggleLayer:function(n,t){return e((0,i.He)(n,{visibility:!t}))},svSelectLayer:function(n){return e((0,u.svSelectLayer)(n))},setOpacity:function(n,t){return e((0,i.He)(n,{opacity:.01*parseFloat(t)}))},setOpenMenuGroupId:function(n){return e((0,u.setOpenMenuGroupId)(n))},featureTypeSelected:function(n,t){return e((0,l.gT)(n,t))},browseData:function(n){return e((0,i.Qr)(n))},setPermission:function(n){return e((0,c.HT)(n))}}}))(h)},89876:(e,n,t)=>{(e.exports=t(9252)()).push([e.id,'.msgapi #anuga-container {\n    width:100%;\n    height:100%;\n    display: flex;\n    justify-content: center;\n    margin: 10px;\n    border: 1px solid #fff;\n    background-color: #ffffff;\n}\n\n.msgapi #anuga-chart {\n    z-index: 3000;\n    width: 98%;\n    height: 90%;\n    margin: 70px 20px 20px 0;\n    background-color: #ffffff;\n    font-size: 12px;\n    border-radius: 4px;\n    text-align: center;\n}\n\n.msgapi .chart-mainbody {\n    padding: 20px;\n    margin-top: 0;\n    height: 85%;\n    overflow: auto;\n}\n\n.msgapi .chart-header {\n    padding: 20px;\n    height: 60px;\n    border-bottom: 1px solid #DDD;\n    background-color: #ffffff;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.msgapi .chart-footer {\n    padding: 20px;\n    bottom: 0;\n    height: 80px;\n    background-color: #ffffff;\n    border-top: 1px solid #DDD;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.msgapi .chart-sidebar {\n    padding: 0 30px 0 30px;\n    min-height: 600px;\n    background-color: #f3f3f3;\n    border: 1px solid #c7c7c7;\n    border-radius: 3px;\n}\n\n.msgapi .scenario-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .data-title-input {\n    float: right;\n    margin-right: 8px;\n    margin-top: 3px;\n    font-size: 12px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .table-hover > tbody > tr:hover {\n    background-color: #ffffff45;\n}\n\n.msgapi .scenario-table {\n    margin-bottom: 0;\n}\n\n.msgapi .scenario-table-row {\n\n}\n\n.msgapi #new-scenario-button {\n    position: absolute;\n    right: 40px;\n    top: 11px;\n}\n\n.msgapi .scenario-select {\n    border-radius: 3px;\n    height: 22px;\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .add-data-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi #anuga-scenario-log-viewer-container {\n    position: absolute;\n    z-index: 2000;\n    top: 5%;\n    min-width: 800px;\n    min-height: 600px;\n    color: #333333;\n    background-color: #f2f2f2;\n    border: 2px solid #dddddd;\n    border-radius: 5px;\n}\n\n.msgapi #anuga-scenario-log-viewer {\n    overflow-y: scroll;\n    height: 70vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    line-height: 1.42857143;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: white;\n  opacity: 1; /* Firefox */\n}\n\n/*#mapstore-drawermenu {*/\n/*    display: none;*/\n/*}*/\n\n/*#identify-container {*/\n/*    display:none;*/\n/*}*/\n\n/*#navigationBar {*/\n/*    display:none;*/\n/*}*/\n\n/* this is really terrible and can lead to random stuff not showing, but it is the only way I can see to select the\ndiv that holds the feature-grid */\n.msgapi main > div[style*="1030"]:not([id]):not([role]):not([class]) {\n    display: none;\n}',""])},10899:(e,n,t)=>{var r=t(89876);"string"==typeof r&&(r=[[e.id,r,""]]),t(14246)(r,{}),r.locals&&(e.exports=r.locals)}}]);