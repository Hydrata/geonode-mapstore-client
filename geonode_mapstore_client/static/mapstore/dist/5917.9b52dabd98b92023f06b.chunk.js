(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5917],{33528:(e,t,r)=>{"use strict";r.d(t,{gJ:()=>n,Oj:()=>o,jp:()=>u,CM:()=>i,DU:()=>a,aO:()=>l,v6:()=>c,K8:()=>s,IN:()=>p,zh:()=>E,AH:()=>f,Ub:()=>y,_9:()=>S,JB:()=>d,oh:()=>R,AY:()=>m,yi:()=>_,SW:()=>T,Hk:()=>v,iQ:()=>b,dY:()=>A,$:()=>I,_u:()=>O,gG:()=>w,DI:()=>h,dZ:()=>D,qw:()=>g,f$:()=>U,bZ:()=>F,$O:()=>G,sF:()=>C,Gk:()=>P,vO:()=>N,ut:()=>L,MK:()=>Y,VV:()=>M,B8:()=>j,VM:()=>x,a3:()=>K,Xp:()=>H,DA:()=>V,sK:()=>W,yA:()=>X,r:()=>q,iB:()=>k,EH:()=>B,Yd:()=>Q,Hg:()=>z,Lz:()=>Z,ye:()=>J,Jb:()=>$,d:()=>ee,fT:()=>te,Ib:()=>re,Pl:()=>ne,UB:()=>oe,Uh:()=>ue,QT:()=>ie,oL:()=>ae,Ap:()=>le,KD:()=>ce,Z_:()=>se,Vw:()=>pe,sY:()=>Ee,kA:()=>fe,gr:()=>ye,pX:()=>Se,F5:()=>de,MO:()=>Re,dq:()=>me,DY:()=>_e,oO:()=>Te,uF:()=>ve,a8:()=>be,Pv:()=>Ae,an:()=>Ie,lg:()=>Oe,nY:()=>we,nG:()=>he,lx:()=>De,$S:()=>ge,gc:()=>Ue,Uz:()=>Fe,fO:()=>Ge,$E:()=>Ce,cE:()=>Pe,JK:()=>Ne,YV:()=>Le,t9:()=>Ye,YG:()=>Me,HT:()=>je,MY:()=>xe,ve:()=>Ke,hB:()=>He,Ox:()=>Ve,zd:()=>We,aT:()=>Xe,VH:()=>qe,Yb:()=>ke,Jr:()=>Be,pP:()=>Qe});var n="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",u="FEATUREGRID:DESELECT_FEATURES",i="FEATUREGRID:CLEAR_SELECTION",a="FEATUREGRID:SET_SELECTION_OPTIONS",l="FEATUREGRID:TOGGLE_MODE",c="FEATUREGRID:TOGGLE_FEATURES_SELECTION",s="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",E="FEATUREGRID:SAVE_CHANGES",f="FEATUREGRID:SAVING",y="FEATUREGRID:START_EDITING_FEATURE",S="FEATUREGRID:START_DRAWING_FEATURE",d="FEATUREGRID:DELETE_GEOMETRY",R="FEATUREGRID:DELETE_GEOMETRY_FEATURE",m="FEATUREGRID:SAVE_SUCCESS",_="FEATUREGRID:CLEAR_CHANGES",T="FEATUREGRID:SAVE_ERROR",v="FEATUREGRID:DELETE_SELECTED_FEATURES",b="SET_FEATURES",A="FEATUREGRID:SORT_BY",I="FEATUREGRID:SET_LAYER",O="QUERY:UPDATE_FILTER",w="FEATUREGRID:CHANGE_PAGE",h="FEATUREGRID:GEOMETRY_CHANGED",D="DOCK_SIZE_FEATURES",g="FEATUREGRID:TOGGLE_TOOL",U="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",F="ASK_CLOSE_FEATURE_GRID_CONFIRM",G="FEATUREGRID:OPEN_GRID",C="FEATUREGRID:CLOSE_GRID",P="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",N="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",L="FEATUREGRID:SET_PERMISSION",Y="FEATUREGRID:DISABLE_TOOLBAR",M="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",j="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",x="FEATUREGRID:ADVANCED_SEARCH",K="FEATUREGRID:ZOOM_ALL",H="FEATUREGRID:INIT_PLUGIN",V="FEATUREGRID:SIZE_CHANGE",W="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",X="FEATUREGRID:HIDE_SYNC_POPOVER",q="FEATUREGRID:UPDATE_EDITORS_OPTIONS",k="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",B={EDIT:"EDIT",VIEW:"VIEW"},Q="FEATUREGRID:START_SYNC_WMS",z="FEATUREGRID:STOP_SYNC_WMS",Z="STORE_ADVANCED_SEARCH_FILTER",J="LOAD_MORE_FEATURES",$="FEATUREGRID:QUERY_RESULT",ee="FEATUREGRID:SET_TIME_SYNC",te="FEATUREGRID:SET_PAGINATION";function re(){return{type:W}}function ne(){return{type:X}}function oe(e,t){return{type:$,features:e,pages:t}}function ue(e){return{type:Z,filterObj:e}}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:H,options:e}}function ae(){return{type:P}}function le(){return{type:N}}function ce(e,t){return{type:o,features:e,append:t}}function se(e){return{type:n,options:e}}function pe(e){return{type:h,features:e}}function Ee(){return{type:y}}function fe(){return{type:S}}function ye(e){return{type:u,features:e}}function Se(){return{type:d}}function de(e){return{type:R,features:e}}function Re(){return{type:i}}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,r=void 0!==t&&t;return{type:a,multiselect:r}}function _e(e,t){return{type:A,sortBy:e,sortOrder:t}}function Te(e,t){return{type:w,page:e,size:t}}function ve(e){return{type:I,id:e}}function be(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:O,update:e,append:t}}function Ae(e,t){return{type:g,tool:e,value:t}}function Ie(e,t,r){return{type:U,name:e,key:t,value:r}}function Oe(){return{type:l,mode:B.EDIT}}function we(){return{type:l,mode:B.VIEW}}function he(e,t){return{type:s,features:e,updated:t}}function De(e){return{type:p,features:e}}function ge(){return{type:E}}function Ue(){return{type:m}}function Fe(){return{type:v}}function Ge(){return{type:f}}function Ce(){return{type:_}}function Pe(){return{type:T}}function Ne(){return{type:F}}function Le(){return{type:C}}function Ye(){return{type:G}}function Me(e){return{type:Y,disabled:e}}function je(e){return{type:L,permission:e}}function xe(){return{type:x}}function Ke(){return{type:K}}function He(){return{type:Q}}function Ve(e,t){return{type:V,size:e,dockProps:t}}var We=function(e){return{type:J,pages:e}},Xe=function(e){return{type:M,activated:e}},qe=function(e){return{type:j,deactivated:e}},ke=function(e){return{type:ee,value:e}},Be=function(e){return{type:te,size:e}},Qe=function(e){return{type:k,updateFilterAction:e}}},21914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>u,Ih:()=>i,Xw:()=>a,Pn:()=>l,DZ:()=>c,e8:()=>s,E0:()=>p,F9:()=>E,X_:()=>f,pb:()=>y,qb:()=>S,Re:()=>d,ih:()=>R,xy:()=>m,jL:()=>_,oz:()=>T,ph:()=>v,lF:()=>b,gG:()=>A,cb:()=>I,GI:()=>O,B1:()=>w,fv:()=>h,gc:()=>D,zX:()=>g,ZF:()=>U,Zb:()=>F,Fm:()=>G,sV:()=>C,Mn:()=>P,LU:()=>N,XP:()=>L,WU:()=>Y,JB:()=>M,g:()=>j,ws:()=>x,HP:()=>K,aN:()=>H,Pg:()=>W,u0:()=>X,TM:()=>q,PM:()=>k,lK:()=>B,sv:()=>Q,MO:()=>z,oO:()=>Z,Mc:()=>J,Zw:()=>$,RA:()=>ee,am:()=>te,ZM:()=>re,wm:()=>ne,Y$:()=>oe});var n=r(47310),o="LOAD_FEATURE_INFO",u="ERROR_FEATURE_INFO",i="EXCEPTIONS_FEATURE_INFO",a="CHANGE_MAPINFO_STATE",l="NEW_MAPINFO_REQUEST",c="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",p="SHOW_MAPINFO_MARKER",E="HIDE_MAPINFO_MARKER",f="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",S="GET_VECTOR_INFO",d="NO_QUERYABLE_LAYERS",R="CLEAR_WARNING",m="FEATURE_INFO_CLICK",_="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",T="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",v="TOGGLE_MAPINFO_STATE",b="UPDATE_CENTER_TO_MARKER",A="IDENTIFY:CHANGE_PAGE",I="IDENTIFY:CLOSE_IDENTIFY",O="IDENTIFY:CHANGE_FORMAT",w="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",h="IDENTIFY:EDIT_LAYER_FEATURES",D="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",g="IDENTIFY:SET_MAP_TRIGGER",U="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",F="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function G(e,t,r,n,u){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:u}}function C(e,t,r,n){return{type:u,error:t,reqId:e,requestParams:r,layerMetadata:n}}function P(e,t,r,n){return{type:i,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function N(){return{type:d}}function L(){return{type:R}}function Y(e,t){return{type:l,reqId:e,request:t}}function M(e,t,r,n){return{type:S,layer:e,request:t,metadata:r,queryableLayers:n}}function j(){return{type:c}}function x(e){return{type:s,infoFormat:e}}function K(){return{type:p}}function H(){return{type:E}}function V(e){return{type:f,reverseGeocodeData:e.data}}function W(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(V(e))})).catch((function(e){t(V(e))}))}}function X(){return{type:y}}function q(){return{type:v}}function k(e){return{type:b,status:e}}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:m,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function Q(e){return{type:_,point:e}}function z(e){return{type:T,enabled:e}}function Z(e){return{type:A,index:e}}var J=function(){return{type:I}},$=function(e){return{type:O,format:e}},ee=function(e){return{type:w,showCoordinateEditor:e}},te=function(e){return{type:h,layer:e}},re=function(e){return{type:D,query:e}},ne=function(e){return{type:g,trigger:e}},oe=function(e){return{type:F,value:e}}},95797:(e,t,r)=>{"use strict";r.d(t,{DR:()=>n,S0:()=>o,u7:()=>u,lj:()=>i,yz:()=>a,lN:()=>l,zW:()=>c,Yx:()=>s,VN:()=>p,Hu:()=>E,VT:()=>f,RD:()=>y,Qq:()=>S,R1:()=>d,_T:()=>R,vO:()=>m,XO:()=>_,jG:()=>T,Xc:()=>v,gT:()=>b,rG:()=>A,t3:()=>I,Fs:()=>O,w_:()=>w,Lm:()=>h,rh:()=>D,rP:()=>g,IO:()=>U,zc:()=>F}),r(75875);var n="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",u="FEATURE_TYPE_LOADED",i="FEATURE_LOADED",a="FEATURE_LOADING",l="FEATURE_TYPE_ERROR",c="FEATURE_ERROR",s="QUERY_CREATE",p="QUERY:UPDATE_QUERY",E="QUERY_RESULT",f="QUERY_ERROR",y="RESET_QUERY",S="QUERY",d="INIT_QUERY_PANEL",R="QUERY:TOGGLE_SYNC_WMS",m="QUERY:TOGGLE_LAYER_FILTER";function _(){return{type:R}}function T(){return{type:m}}function v(){return{type:d}}function b(e,t){return{type:o,url:e,typeName:t}}function A(e,t){return{type:u,typeName:e,featureType:t}}function I(e,t){return{type:l,typeName:e,error:t}}function O(e){return{type:a,isLoading:e}}function w(e,t,r,n,o){return{type:E,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function h(e){return{type:f,error:e}}function D(e,t){return{type:p,updates:e,reason:t}}function g(e,t){return{type:s,searchUrl:e,filterObj:t}}function U(e,t,r,n){return{type:S,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}function F(){return{type:y}}},47310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(75875),o=r.n(n),u=r(72500),i=r.n(u),a=r(27418),l=r.n(a),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const s={geocode:function(e,t){var r=l()({q:e},c,t||{}),n=i().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=l()({lat:e.lat,lon:e.lng},t||{},c),n=i().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},95917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Q});var n=r(22843),o=r(96828);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={currentSwampId:null,currentSwampData:null},c=r(24852),s=r.n(c),p=r(71703),E=r(23885);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(u.push(n.value),!t||u.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(87649);var v=r(45697),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,r,n,o,u=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(n);if(o){var r=_(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=u.call(this,e)).state={},t}return t=i,(r=[{key:"render",value:function(){var e,t,r,n,o,u=this;return s().createElement("div",{id:"swamps-chart"},s().createElement("div",{className:"chart-header"},s().createElement("h2",{style:{display:"inline"}},"id: ",null===(e=this.props.currentSwampId)||void 0===e?void 0:e.split(".")[1]),s().createElement("span",{className:"pull-right btn glyphicon glyphicon-remove",style:{color:"red",right:"-10px",top:"-10px"},onClick:function(){u.props.clearCurrentSwamp(),u.props.setVisibleSwampsChart(!1)}})),s().createElement("div",{className:"chart-mainbody"},s().createElement(E.Grid,null,s().createElement(E.Col,{sm:2},null!==(t=this.props.currentSwampData)&&void 0!==t&&t.properties?Object.entries(null===(r=this.props.currentSwampData)||void 0===r?void 0:r.properties).map((function(e){var t=y(e,2),r=t[0],n=t[1];return s().createElement("div",{style:{textAlign:"left"}},r,": ",n)})):null,null!==(n=this.props.currentSwampData)&&void 0!==n&&n.sites?Object.entries(null===(o=this.props.currentSwampData)||void 0===o?void 0:o.sites).map((function(e){var t=y(e,2),r=t[0],n=t[1];return s().createElement("div",{style:{textAlign:"left"}},r,": ",s().createElement("pre",null,JSON.stringify(n)))})):null),s().createElement(E.Col,{sm:10},"data"))),s().createElement("div",{className:"chart-footer"},"Footer"))}}])&&d(t.prototype,r),i}(s().Component);T(b,"propTypes",{setVisibleSwampsChart:v.func,setCurrentSwampId:v.func,clearCurrentSwamp:v.func,visibleSwampsChart:v.bool,currentSwampId:v.string,currentSwampData:v.object,lineChartData:v.array,setSelectedXKey:v.func,setSelectedYKey:v.func,availableXKeys:v.array,availableYKeys:v.array,selectedXKey:v.string,selectedYKey:v.string}),T(b,"defaultProps",{});const A=(0,p.connect)((function(e){var t,r,n,o,u,i,a,l,c,s,p,E,f,y,S,d,R;return{currentSwampId:null==e||null===(t=e.swamps)||void 0===t?void 0:t.currentSwampId,currentSwampData:null==e||null===(r=e.swamps)||void 0===r?void 0:r.currentSwampData,visibleSwampsChart:null==e||null===(n=e.swamps)||void 0===n?void 0:n.visibleSwampsChart,selectedXKey:(null==e||null===(o=e.swamps)||void 0===o?void 0:o.selectedXKey)||"time",selectedYKey:(null==e||null===(u=e.swamps)||void 0===u?void 0:u.selectedYKey)||"",availableXKeys:(null==e||null===(i=e.swamps)||void 0===i||null===(a=i.processedSwampsSurveyData)||void 0===a||null===(l=a[null==e||null===(c=e.swamps)||void 0===c?void 0:c.currentSwampsSurveySiteId])||void 0===l?void 0:l.availableXKeys)||["time"],availableYKeys:(null==e||null===(s=e.swamps)||void 0===s||null===(p=s.processedSwampsSurveyData)||void 0===p||null===(E=p[null==e||null===(f=e.swamps)||void 0===f?void 0:f.currentSwampsSurveySiteId])||void 0===E?void 0:E.availableYKeys)||[],lineChartData:(null==e||null===(y=e.swamps)||void 0===y||null===(S=y.processedSwampsSurveyData)||void 0===S||null===(d=S[null==e||null===(R=e.swamps)||void 0===R?void 0:R.currentSwampsSurveySiteId])||void 0===d?void 0:d.data)||[]}}),(function(e){return{setVisibleSwampsChart:function(t){return e((0,o.setVisibleSwampsChart)(t))},setCurrentSwampId:function(t){return e((0,o.setCurrentSwampId)(t))},clearCurrentSwamp:function(){return e((0,o.clearCurrentSwamp)())},setSelectedXKey:function(t){return e((0,o.setSelectedXKey)(t))},setSelectedYKey:function(t){return e((0,o.setSelectedYKey)(t))}}}))(b);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U=r(45697),F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,r,n,o,u=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(n);if(o){var r=D(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return h(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=u.call(this,e)).state={},t}return t=i,(r=[{key:"render",value:function(){var e=this;return s().createElement(s().Fragment,null,s().createElement("div",{id:"swamps-controls",className:"simple-view-panel",style:{top:70*this.props.swampGroupLength,width:"480px"}},s().createElement("div",{className:"menu-rows-container"},s().createElement("div",{className:"row menu-row pull-left",style:{width:"480px",textAlign:"left"}},s().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){e.props.refreshSwamps()}},"Refresh Monitoring Data")))))}}])&&O(t.prototype,r),i}(s().Component);g(F,"propTypes",{refreshSwamps:U.func,swampGroupLength:U.number}),g(F,"defaultProps",{});const G=(0,p.connect)((function(e){var t,r,n,o;return{swampGroupLength:null==e||null===(t=e.layers)||void 0===t||null===(r=t.groups)||void 0===r||null===(n=r.filter((function(e){return"Swamps"===e.title}))[0])||void 0===n||null===(o=n.nodes)||void 0===o?void 0:o.length}}),(function(e){return{refreshSwamps:function(){return e((0,o.refreshSwamps)())}}}))(F);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=r(45697),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(i,e);var t,r,n,o,u=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Y(n);if(o){var r=Y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return L(this,e)});function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),u.call(this,e)}return t=i,(r=[{key:"componentDidMount",value:function(){this.props.initSwamps()}},{key:"render",value:function(){return s().createElement("div",{id:"swamps-container"},this.props.visibleSwampsChart?s().createElement(A,null):null,this.props.viewSwampsGroupId===this.props.openMenuGroupId?s().createElement("div",null,s().createElement(G,null)):null)}}])&&P(t.prototype,r),i}(s().Component);M(x,"propTypes",{visibleSwampsChart:j.bool,initSwamps:j.func,viewSwampsGroupId:j.string,openMenuGroupId:j.string}),M(x,"defaultProps",{});const K=(0,p.connect)((function(e){var t,r,n,o,u;return{visibleSwampsChart:null==e||null===(t=e.swamps)||void 0===t?void 0:t.visibleSwampsChart,viewSwampsGroupId:null==e||null===(r=e.mapConfigRawData)||void 0===r||null===(n=r.map)||void 0===n||null===(o=n.groups.filter((function(e){return"Swamps"===e.title}))[0])||void 0===o?void 0:o.id,openMenuGroupId:null==e||null===(u=e.simpleView)||void 0===u?void 0:u.openMenuGroupId}}),(function(e){return{initSwamps:function(){return e((0,o.initSwamps)())}}}))(x);var H=r(49977),V=r.n(H),W=r(21914),X=r(33528),q=r(95797),k=r(75875),B=r.n(k);const Q=(0,n.rx)("Swamps",{component:K,reducers:{swamps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.SET_CURRENT_SWAMP_ID:return i(i({},e),{},{currentSwampId:t.currentSwampId});case o.CLEAR_CURRENT_SWAMP:return i(i({},e),{},{currentSwampId:null,currentSwampData:null});case o.SAVE_SWAMP_QUERY_TO_STORE:return i(i({},e),{},{currentSwampData:t.currentSwampData});case o.SET_VISIBLE_SWAMPS_CHART:return i(i({},e),{},{visibleSwampsChart:t.visible});case o.PROCESS_SURVEY_SITES:return i(i({},e),{},{surveySites:t.surveySites});case o.SET_SELECTED_X_KEY:return i(i({},e),{},{selectedXKey:t.selectedXKey});case o.SET_SELECTED_Y_KEY:return i(i({},e),{},{selectedYKey:t.selectedYKey});case o.REFRESH_SWAMPS:default:return e}}},epics:{initSwampsEpic:function(e){return e.ofType(o.INIT_SWAMPS).mergeMap((function(){return V().Observable.from(B().get("/swamps/api/survey-site"))})).mergeMap((function(e){return e?V().Observable.of((0,o.processSurveySites)(e.data)):null}))},refreshSwampsEpic:function(e){return e.ofType(o.REFRESH_SWAMPS).mergeMap((function(){return V().Observable.from(B().get("/swamps/api/update-from-airtables"))})).mergeMap((function(e){return console.log("refreshSwampsEpic Exhaust",e),e?V().Observable.of(window.location.reload(!1)):null}))},queryLayerAttributesToStoreStep1:function(e,t){return e.ofType(W.XL).filter((function(e){var t,r,n,o;return null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(r=t.features)&&void 0!==r&&null!==(n=r[0])&&void 0!==n&&null!==(o=n.id)&&void 0!==o&&o.includes("bluemountains_thpss")?(console.log("queryLayerAttributesToStoreStep1",e),e):null})).mergeMap((function(e){var r,n,u,i,a,l,c,s;return V().Observable.merge(V().Observable.of((0,o.setVisibleSwampsChart)(!0)),V().Observable.of((0,o.setCurrentSwampId)(null==e||null===(r=e.data)||void 0===r||null===(n=r.features)||void 0===n||null===(u=n[0])||void 0===u?void 0:u.id)),V().Observable.of((0,W.Mc)()),V().Observable.of((0,X.uF)(null==e?void 0:e.layer.id)),V().Observable.of((0,q.gT)((null===(i=t.getState())||void 0===i||null===(a=i.gnsettings)||void 0===a?void 0:a.geoserverUrl)+"/wfs","geonode:"+(null==e||null===(l=e.data)||void 0===l||null===(c=l.features)||void 0===c||null===(s=c[0])||void 0===s?void 0:s.id.split(".")[0]))))}))},queryLayerAttributesToStoreStep2:function(e,t){return e.ofType(q.u7,q.S0).filter((function(e){var t;return null!=e&&null!==(t=e.typeName)&&void 0!==t&&t.includes("bluemountains_thpss")?(console.log("queryLayerAttributesToStoreStep2",e),e):null})).mergeMap((function(e){var r,n;return V().Observable.of((0,q.IO)((null===(r=t.getState())||void 0===r||null===(n=r.gnsettings)||void 0===n?void 0:n.geoserverUrl)+"/ows",{featureTypeName:e.typeName,filterType:"OGC",ogcVersion:"1.1.0",pagination:{startIndex:0,maxFeatures:2e3}},{},"swamps: get bluemountains_thpss data"))}))},queryLayerAttributesToStoreStep3:function(e,t){return e.ofType(q.Hu).filter((function(e){return"swamps: get bluemountains_thpss data"===(null==e?void 0:e.reason)})).mergeMap((function(e){var r,n,u;console.log("queryLayerAttributesToStoreStep3",e);var i=null===(r=t.getState().swamps)||void 0===r?void 0:r.currentSwampId,a=parseInt(i.split(".")[1],10),l=e.result.features.filter((function(e){return e.id===i}))[0];return l.sites=null===(n=t.getState().swamps)||void 0===n||null===(u=n.surveySites)||void 0===u?void 0:u.filter((function(e){return(null==e?void 0:e.swamp)===a})),V().Observable.of((0,o.saveSwampQueryToStore)(l))}))}}})},96828:e=>{var t="INIT_SWAMPS",r="SET_VISIBLE_SWAMPS_CHART",n="PROCESS_SURVEY_SITES",o="SAVE_SWAMP_QUERY_TO_STORE",u="SET_CURRENT_SWAMP_ID",i="CLEAR_CURRENT_SWAMP",a="SET_SELECTED_X_KEY",l="SET_SELECTED_Y_KEY",c="REFRESH_SWAMPS";e.exports={INIT_SWAMPS:t,initSwamps:function(){return{type:t}},PROCESS_SURVEY_SITES:n,processSurveySites:function(e){return{type:n,surveySites:e}},REFRESH_SWAMPS:c,refreshSwamps:function(){return{type:c}},SET_VISIBLE_SWAMPS_CHART:r,setVisibleSwampsChart:function(e){return{type:r,visible:e}},SET_CURRENT_SWAMP_ID:u,setCurrentSwampId:function(e){return{type:u,currentSwampId:e}},CLEAR_CURRENT_SWAMP:i,clearCurrentSwamp:function(){return{type:i}},SAVE_SWAMP_QUERY_TO_STORE:o,saveSwampQueryToStore:function(e){return{type:o,currentSwampData:e}},SET_SELECTED_X_KEY:a,setSelectedXKey:function(e){return{type:a,selectedXKey:e}},SET_SELECTED_Y_KEY:l,setSelectedYKey:function(e){return{type:l,selectedYKey:e}}}},55181:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,".msgapi #swamps-container {\r\n    width:100%;\r\n    height:100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    margin: 10px;\r\n    border: 1px solid #fff;\r\n    background-color: #ffffff;\r\n}\r\n\r\n.msgapi #swamps-chart {\r\n    z-index: 3000;\r\n    width: 98%;\r\n    height: 90%;\r\n    margin: 70px 20px 20px 0;\r\n    background-color: #ffffff;\r\n    font-size: 12px;\r\n    border-radius: 4px;\r\n    text-align: center;\r\n}\r\n\r\n.msgapi .chart-mainbody {\r\n    padding: 20px;\r\n    margin-top: 0;\r\n    height: 85%;\r\n    overflow: auto;\r\n}\r\n\r\n.msgapi .chart-header {\r\n    padding: 20px;\r\n    height: 80px;\r\n    top: 80px;\r\n    border-bottom: 1px solid #DDD;\r\n    background-color: #ffffff;\r\n    border-top-left-radius: 5px;\r\n    border-top-right-radius: 5px;\r\n}\r\n\r\n.msgapi .chart-footer {\r\n    padding: 20px;\r\n    bottom: 0;\r\n    height: 80px;\r\n    background-color: #ffffff;\r\n    border-top: 1px solid #DDD;\r\n    border-bottom-left-radius: 5px;\r\n    border-bottom-right-radius: 5px;\r\n}\r\n",""])},87649:(e,t,r)=>{var n=r(55181);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)}}]);