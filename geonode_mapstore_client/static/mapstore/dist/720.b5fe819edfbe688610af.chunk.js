(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[720],{21262:(e,t,n)=>{var r=n(46553);e.exports=function(e,t,n){for(var u=-1,o=e.length;++u<o;){var i=e[u],a=t(i);if(null!=a&&(void 0===s?a==a&&!r(a):n(a,s)))var s=a,l=i}return l}},85812:e=>{e.exports=function(e,t){return e<t}},77820:(e,t,n)=>{var r=n(59130),u=n(71445);e.exports=function(e,t){var n=-1,o=u(e)?Array(e.length):[];return r(e,(function(e,r,u){o[++n]=t(e,r,u)})),o}},84847:(e,t,n)=>{var r=n(54528),u=n(83733),o=n(77820),i=n(65491),a=n(75542),s=n(80961),l=n(70475);e.exports=function(e,t,n){var c=-1;t=r(t.length?t:[l],a(u));var E=o(e,(function(e,n,u){return{criteria:r(t,(function(t){return t(e)})),index:++c,value:e}}));return i(E,(function(e,t){return s(e,t,n)}))}},65491:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},57312:(e,t,n)=>{var r=n(46553);e.exports=function(e,t){if(e!==t){var n=void 0!==e,u=null===e,o=e==e,i=r(e),a=void 0!==t,s=null===t,l=t==t,c=r(t);if(!s&&!c&&!i&&e>t||i&&a&&l&&!s&&!c||u&&a&&l||!n&&l||!o)return 1;if(!u&&!i&&!c&&e<t||c&&n&&o&&!u&&!i||s&&n&&o||!a&&o||!l)return-1}return 0}},80961:(e,t,n)=>{var r=n(57312);e.exports=function(e,t,n){for(var u=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++u<a;){var l=r(o[u],i[u]);if(l)return u>=s?l:l*("desc"==n[u]?-1:1)}return e.index-t.index}},33398:(e,t,n)=>{var r=n(94753),u=n(84847),o=n(98554),i=n(85270),a=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),u(e,r(t,1),[])}));e.exports=a},33528:(e,t,n)=>{"use strict";n.d(t,{gJ:()=>r,Oj:()=>u,jp:()=>o,CM:()=>i,DU:()=>a,aO:()=>s,v6:()=>l,K8:()=>c,IN:()=>E,zh:()=>f,AH:()=>p,Ub:()=>y,_9:()=>S,JB:()=>v,oh:()=>R,AY:()=>T,yi:()=>_,SW:()=>d,Hk:()=>A,iQ:()=>I,dY:()=>m,$:()=>O,_u:()=>D,gG:()=>b,DI:()=>U,dZ:()=>F,qw:()=>w,f$:()=>G,bZ:()=>h,$O:()=>C,sF:()=>g,Gk:()=>N,vO:()=>Y,ut:()=>P,MK:()=>L,VV:()=>M,B8:()=>K,VM:()=>x,a3:()=>V,Xp:()=>j,DA:()=>H,sK:()=>X,yA:()=>W,r:()=>q,iB:()=>Q,EH:()=>k,Yd:()=>B,Hg:()=>z,Lz:()=>Z,ye:()=>J,Jb:()=>$,d:()=>ee,fT:()=>te,Ib:()=>ne,Pl:()=>re,UB:()=>ue,Uh:()=>oe,QT:()=>ie,oL:()=>ae,Ap:()=>se,KD:()=>le,Z_:()=>ce,Vw:()=>Ee,sY:()=>fe,kA:()=>pe,gr:()=>ye,pX:()=>Se,F5:()=>ve,MO:()=>Re,dq:()=>Te,DY:()=>_e,oO:()=>de,uF:()=>Ae,a8:()=>Ie,Pv:()=>me,an:()=>Oe,lg:()=>De,nY:()=>be,nG:()=>Ue,lx:()=>Fe,$S:()=>we,gc:()=>Ge,Uz:()=>he,fO:()=>Ce,$E:()=>ge,cE:()=>Ne,JK:()=>Ye,YV:()=>Pe,t9:()=>Le,YG:()=>Me,HT:()=>Ke,MY:()=>xe,ve:()=>Ve,hB:()=>je,Ox:()=>He,zd:()=>Xe,aT:()=>We,VH:()=>qe,Yb:()=>Qe,Jr:()=>ke,pP:()=>Be});var r="FEATUREGRID:SET_UP",u="FEATUREGRID:SELECT_FEATURES",o="FEATUREGRID:DESELECT_FEATURES",i="FEATUREGRID:CLEAR_SELECTION",a="FEATUREGRID:SET_SELECTION_OPTIONS",s="FEATUREGRID:TOGGLE_MODE",l="FEATUREGRID:TOGGLE_FEATURES_SELECTION",c="FEATUREGRID:FEATURES_MODIFIED",E="FEATUREGRID:NEW_FEATURE",f="FEATUREGRID:SAVE_CHANGES",p="FEATUREGRID:SAVING",y="FEATUREGRID:START_EDITING_FEATURE",S="FEATUREGRID:START_DRAWING_FEATURE",v="FEATUREGRID:DELETE_GEOMETRY",R="FEATUREGRID:DELETE_GEOMETRY_FEATURE",T="FEATUREGRID:SAVE_SUCCESS",_="FEATUREGRID:CLEAR_CHANGES",d="FEATUREGRID:SAVE_ERROR",A="FEATUREGRID:DELETE_SELECTED_FEATURES",I="SET_FEATURES",m="FEATUREGRID:SORT_BY",O="FEATUREGRID:SET_LAYER",D="QUERY:UPDATE_FILTER",b="FEATUREGRID:CHANGE_PAGE",U="FEATUREGRID:GEOMETRY_CHANGED",F="DOCK_SIZE_FEATURES",w="FEATUREGRID:TOGGLE_TOOL",G="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",h="ASK_CLOSE_FEATURE_GRID_CONFIRM",C="FEATUREGRID:OPEN_GRID",g="FEATUREGRID:CLOSE_GRID",N="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",Y="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",P="FEATUREGRID:SET_PERMISSION",L="FEATUREGRID:DISABLE_TOOLBAR",M="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",K="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",x="FEATUREGRID:ADVANCED_SEARCH",V="FEATUREGRID:ZOOM_ALL",j="FEATUREGRID:INIT_PLUGIN",H="FEATUREGRID:SIZE_CHANGE",X="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",W="FEATUREGRID:HIDE_SYNC_POPOVER",q="FEATUREGRID:UPDATE_EDITORS_OPTIONS",Q="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",k={EDIT:"EDIT",VIEW:"VIEW"},B="FEATUREGRID:START_SYNC_WMS",z="FEATUREGRID:STOP_SYNC_WMS",Z="STORE_ADVANCED_SEARCH_FILTER",J="LOAD_MORE_FEATURES",$="FEATUREGRID:QUERY_RESULT",ee="FEATUREGRID:SET_TIME_SYNC",te="FEATUREGRID:SET_PAGINATION";function ne(){return{type:X}}function re(){return{type:W}}function ue(e,t){return{type:$,features:e,pages:t}}function oe(e){return{type:Z,filterObj:e}}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:j,options:e}}function ae(){return{type:N}}function se(){return{type:Y}}function le(e,t){return{type:u,features:e,append:t}}function ce(e){return{type:r,options:e}}function Ee(e){return{type:U,features:e}}function fe(){return{type:y}}function pe(){return{type:S}}function ye(e){return{type:o,features:e}}function Se(){return{type:v}}function ve(e){return{type:R,features:e}}function Re(){return{type:i}}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:a,multiselect:n}}function _e(e,t){return{type:m,sortBy:e,sortOrder:t}}function de(e,t){return{type:b,page:e,size:t}}function Ae(e){return{type:O,id:e}}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:D,update:e,append:t}}function me(e,t){return{type:w,tool:e,value:t}}function Oe(e,t,n){return{type:G,name:e,key:t,value:n}}function De(){return{type:s,mode:k.EDIT}}function be(){return{type:s,mode:k.VIEW}}function Ue(e,t){return{type:c,features:e,updated:t}}function Fe(e){return{type:E,features:e}}function we(){return{type:f}}function Ge(){return{type:T}}function he(){return{type:A}}function Ce(){return{type:p}}function ge(){return{type:_}}function Ne(){return{type:d}}function Ye(){return{type:h}}function Pe(){return{type:g}}function Le(){return{type:C}}function Me(e){return{type:L,disabled:e}}function Ke(e){return{type:P,permission:e}}function xe(){return{type:x}}function Ve(){return{type:V}}function je(){return{type:B}}function He(e,t){return{type:H,size:e,dockProps:t}}var Xe=function(e){return{type:J,pages:e}},We=function(e){return{type:M,activated:e}},qe=function(e){return{type:K,deactivated:e}},Qe=function(e){return{type:ee,value:e}},ke=function(e){return{type:te,size:e}},Be=function(e){return{type:Q,updateFilterAction:e}}},21914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>u,km:()=>o,Ih:()=>i,Xw:()=>a,Pn:()=>s,DZ:()=>l,e8:()=>c,E0:()=>E,F9:()=>f,X_:()=>p,pb:()=>y,qb:()=>S,Re:()=>v,ih:()=>R,xy:()=>T,jL:()=>_,oz:()=>d,ph:()=>A,lF:()=>I,gG:()=>m,cb:()=>O,GI:()=>D,B1:()=>b,fv:()=>U,gc:()=>F,zX:()=>w,ZF:()=>G,Zb:()=>h,Fm:()=>C,sV:()=>g,Mn:()=>N,LU:()=>Y,XP:()=>P,WU:()=>L,JB:()=>M,g:()=>K,ws:()=>x,HP:()=>V,aN:()=>j,Pg:()=>X,u0:()=>W,TM:()=>q,PM:()=>Q,lK:()=>k,sv:()=>B,MO:()=>z,oO:()=>Z,Mc:()=>J,Zw:()=>$,RA:()=>ee,am:()=>te,ZM:()=>ne,wm:()=>re,Y$:()=>ue});var r=n(47310),u="LOAD_FEATURE_INFO",o="ERROR_FEATURE_INFO",i="EXCEPTIONS_FEATURE_INFO",a="CHANGE_MAPINFO_STATE",s="NEW_MAPINFO_REQUEST",l="PURGE_MAPINFO_RESULTS",c="CHANGE_MAPINFO_FORMAT",E="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",p="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",S="GET_VECTOR_INFO",v="NO_QUERYABLE_LAYERS",R="CLEAR_WARNING",T="FEATURE_INFO_CLICK",_="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",d="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",A="TOGGLE_MAPINFO_STATE",I="UPDATE_CENTER_TO_MARKER",m="IDENTIFY:CHANGE_PAGE",O="IDENTIFY:CLOSE_IDENTIFY",D="IDENTIFY:CHANGE_FORMAT",b="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",U="IDENTIFY:EDIT_LAYER_FEATURES",F="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",w="IDENTIFY:SET_MAP_TRIGGER",G="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",h="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function C(e,t,n,r,o){return{type:u,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:o}}function g(e,t,n,r){return{type:o,error:t,reqId:e,requestParams:n,layerMetadata:r}}function N(e,t,n,r){return{type:i,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function Y(){return{type:v}}function P(){return{type:R}}function L(e,t){return{type:s,reqId:e,request:t}}function M(e,t,n,r){return{type:S,layer:e,request:t,metadata:n,queryableLayers:r}}function K(){return{type:l}}function x(e){return{type:c,infoFormat:e}}function V(){return{type:E}}function j(){return{type:f}}function H(e){return{type:p,reverseGeocodeData:e.data}}function X(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(H(e))})).catch((function(e){t(H(e))}))}}function W(){return{type:y}}function q(){return{type:A}}function Q(e){return{type:I,status:e}}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:T,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:u}}function B(e){return{type:_,point:e}}function z(e){return{type:d,enabled:e}}function Z(e){return{type:m,index:e}}var J=function(){return{type:O}},$=function(e){return{type:D,format:e}},ee=function(e){return{type:b,showCoordinateEditor:e}},te=function(e){return{type:U,layer:e}},ne=function(e){return{type:F,query:e}},re=function(e){return{type:w,trigger:e}},ue=function(e){return{type:h,value:e}}},95797:(e,t,n)=>{"use strict";n.d(t,{DR:()=>r,S0:()=>u,u7:()=>o,lj:()=>i,yz:()=>a,lN:()=>s,zW:()=>l,Yx:()=>c,VN:()=>E,Hu:()=>f,VT:()=>p,RD:()=>y,Qq:()=>S,R1:()=>v,_T:()=>R,vO:()=>T,XO:()=>_,jG:()=>d,Xc:()=>A,gT:()=>I,rG:()=>m,t3:()=>O,Fs:()=>D,w_:()=>b,Lm:()=>U,rh:()=>F,rP:()=>w,IO:()=>G,zc:()=>h}),n(75875);var r="LAYER_SELECTED_FOR_SEARCH",u="FEATURE_TYPE_SELECTED",o="FEATURE_TYPE_LOADED",i="FEATURE_LOADED",a="FEATURE_LOADING",s="FEATURE_TYPE_ERROR",l="FEATURE_ERROR",c="QUERY_CREATE",E="QUERY:UPDATE_QUERY",f="QUERY_RESULT",p="QUERY_ERROR",y="RESET_QUERY",S="QUERY",v="INIT_QUERY_PANEL",R="QUERY:TOGGLE_SYNC_WMS",T="QUERY:TOGGLE_LAYER_FILTER";function _(){return{type:R}}function d(){return{type:T}}function A(){return{type:v}}function I(e,t){return{type:u,url:e,typeName:t}}function m(e,t){return{type:o,typeName:e,featureType:t}}function O(e,t){return{type:s,typeName:e,error:t}}function D(e){return{type:a,isLoading:e}}function b(e,t,n,r,u){return{type:f,searchUrl:t,filterObj:n,result:e,queryOptions:r,reason:u}}function U(e){return{type:p,error:e}}function F(e,t){return{type:E,updates:e,reason:t}}function w(e,t){return{type:c,searchUrl:e,filterObj:t}}function G(e,t,n,r){return{type:S,searchUrl:e,filterObj:t,queryOptions:n,reason:r}}function h(){return{type:y}}},47310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(75875),u=n.n(r),o=n(72500),i=n.n(o),a=n(27418),s=n.n(a),l={format:"json",bounded:0,polygon_geojson:1,priority:5};const c={geocode:function(e,t){var n=s()({q:e},l,t||{}),r=i().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return u().get(r)},reverseGeocode:function(e,t){var n=s()({lat:e.lat,lon:e.lng},t||{},l),r=i().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return u().get(r)}}},25878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var r=n(22843),u=n(96828);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){var t={};return e.map((function(e){var n,r,u,o=null==e||null===(n=e.properties)||void 0===n?void 0:n.site_id;t[o]={data:[]};var i=[];null===(r=JSON.parse(null==e||null===(u=e.properties)||void 0===u?void 0:u.activities))||void 0===r||r.map((function(e){var n,r,u,a,s=null==e||null===(n=e.outputs)||void 0===n||null===(r=n[0])||void 0===r||null===(u=r.data)||void 0===u?void 0:u.dataList,l=s.map((function(e){return e.key}));l.indexOf("eventDate")>-1?a="eventDate":l.indexOf("surveyDate")>-1?a="surveyDate":l.indexOf("observationDate")>-1&&(a="observationDate");var c=s.filter((function(e){return e.key===a}))[0].value,E=Date.parse(c),f=t[o].data.filter((function(e){return e.time===E}))[0]||{};f.time=E,l.map((function(e){var t=s.filter((function(t){return t.key===e}))[0].value;parseFloat(t)&&(f[e]=parseFloat(t),-1===i.indexOf(e)&&i.push(e))})),t[o].data.push(f)})),t[o].availableXKeys=["time"],t[o].availableYKeys=i})),t},l=n(24852),c=n.n(l),E=n(71703);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(23885),n(30381),n(87649);var T=n(45697),_=n(48465),d=(_.ScatterChart,_.Scatter,_.LineChart,_.Line,_.CartesianGrid,_.Label,_.Pie,_.ResponsiveContainer,_.XAxis,_.YAxis,_.Legend,_.Tooltip,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,u,o=(r=i,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(u){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={},t}return t=i,(n=[{key:"render",value:function(){return c().createElement("div",{id:"swamps-chart"},c().createElement("h1",null,"Swamps"))}}])&&p(t.prototype,n),i}(c().Component));R(d,"propTypes",{setVisibleSwampsChart:T.func,setCurrentSwampsSurveySiteId:T.func,visibleSwampsChart:T.bool,currentSwampsSurveySiteId:T.string,currentSwampsSurveySite:T.object,swampsSurveyData:T.array,lineChartData:T.array,setSelectedXKey:T.func,setSelectedYKey:T.func,availableXKeys:T.array,availableYKeys:T.array,selectedXKey:T.string,selectedYKey:T.string}),R(d,"defaultProps",{});const A=(0,E.connect)((function(e){var t,n,r,u,o,i,a,s,l,c,E,f,p,y,S,v,R,T,_;return{currentSwampsSurveySiteId:null==e||null===(t=e.swamps)||void 0===t?void 0:t.currentSwampsSurveySiteId,currentSwampsSurveySite:null==e||null===(n=e.swamps)||void 0===n||null===(r=n.swampsSurveyData)||void 0===r?void 0:r.filter((function(t){var n;return t.properties.site_id===(null==e||null===(n=e.swamps)||void 0===n?void 0:n.currentSwampsSurveySiteId)}))[0],visibleSwampsChart:null==e||null===(u=e.swamps)||void 0===u?void 0:u.visibleSwampsChart,swampsSurveyData:null==e||null===(o=e.swamps)||void 0===o?void 0:o.swampsSurveyData,selectedXKey:(null==e||null===(i=e.swamps)||void 0===i?void 0:i.selectedXKey)||"time",selectedYKey:(null==e||null===(a=e.swamps)||void 0===a?void 0:a.selectedYKey)||"",availableXKeys:(null==e||null===(s=e.swamps)||void 0===s||null===(l=s.processedSwampsSurveyData)||void 0===l||null===(c=l[null==e||null===(E=e.swamps)||void 0===E?void 0:E.currentSwampsSurveySiteId])||void 0===c?void 0:c.availableXKeys)||["time"],availableYKeys:(null==e||null===(f=e.swamps)||void 0===f||null===(p=f.processedSwampsSurveyData)||void 0===p||null===(y=p[null==e||null===(S=e.swamps)||void 0===S?void 0:S.currentSwampsSurveySiteId])||void 0===y?void 0:y.availableYKeys)||[],lineChartData:(null==e||null===(v=e.swamps)||void 0===v||null===(R=v.processedSwampsSurveyData)||void 0===R||null===(T=R[null==e||null===(_=e.swamps)||void 0===_?void 0:_.currentSwampsSurveySiteId])||void 0===T?void 0:T.data)||[]}}),(function(e){return{setVisibleSwampsChart:function(t){return e((0,u.setVisibleSwampsChart)(t))},setCurrentSwampsSurveySiteId:function(t){return e((0,u.setCurrentSwampsSurveySiteId)(t))},setSelectedXKey:function(t){return e((0,u.setSelectedXKey)(t))},setSelectedYKey:function(t){return e((0,u.setSelectedYKey)(t))}}}))(d);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=n(45697),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,u,o=(r=i,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(u){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return D(this,e)});function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"render",value:function(){return c().createElement("div",{id:"swamps-container"},this.props.visibleSwampsChart?c().createElement(A,null):null)}}])&&m(t.prototype,n),i}(c().Component);U(w,"propTypes",{visibleSwampsChart:F.bool}),U(w,"defaultProps",{});const G=(0,E.connect)((function(e){var t;return console.log("state for Swamps:",e),{visibleSwampsChart:null==e||null===(t=e.swamps)||void 0===t?void 0:t.visibleSwampsChart}}),(function(e){return{}}))(w);var h=n(49977),C=n.n(h),g=n(21914),N=n(33528),Y=n(95797);const P=(0,r.rx)("Swamps",{component:G,reducers:{swamps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case u.SET_CURRENT_SWAMPS_SURVEY_SITE_ID:return i(i({},e),{},{currentSwampsSurveySiteId:t.currentSwampsSurveySiteId});case u.SAVE_SWAMPS_SURVEY_QUERY_TO_STORE:return i(i({},e),{},{swampsSurveyData:t.swampsSurveyData,processedSwampsSurveyData:s(t.swampsSurveyData)});case u.SET_VISIBLE_SWAMPS_CHART:return i(i({},e),{},{visibleSwampsChart:t.visible});case u.SET_SELECTED_X_KEY:return i(i({},e),{},{selectedXKey:t.selectedXKey});case u.SET_SELECTED_Y_KEY:return i(i({},e),{},{selectedYKey:t.selectedYKey});default:return e}}},epics:{queryLayerAttributesToStoreStep1:function(e,t){return e.ofType(g.XL).filter((function(e){var t,n,r,u;return null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.features)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&null!==(u=r.id)&&void 0!==u&&u.includes("bluemountains_thpss")?e:null})).mergeMap((function(e){var n,r,o,i,a,s;return C().Observable.merge(C().Observable.of((0,u.setVisibleSwampsChart)(!0)),C().Observable.of((0,u.setCurrentSwampsSurveySiteId)(null==e||null===(n=e.data)||void 0===n||null===(r=n.features)||void 0===r||null===(o=r[0])||void 0===o||null===(i=o.properties)||void 0===i?void 0:i.site_id)),C().Observable.of((0,g.Mc)()),C().Observable.of((0,N.uF)(null==e?void 0:e.layer.id)),C().Observable.of((0,Y.gT)((null===(a=t.getState())||void 0===a||null===(s=a.gnsettings)||void 0===s?void 0:s.geoserverUrl)+"/wfs","geonode:swamps_surveysite")))}))},queryLayerAttributesToStoreStep2:function(e,t){return e.ofType(Y.u7).filter((function(e){var t;return null!=e&&null!==(t=e.typeName)&&void 0!==t&&t.includes("bluemountains_thpss")?e:null})).mergeMap((function(e){var n,r;return C().Observable.of((0,Y.IO)((null===(n=t.getState())||void 0===n||null===(r=n.gnsettings)||void 0===r?void 0:r.geoserverUrl)+"/ows",{featureTypeName:e.typeName,filterType:"OGC",ogcVersion:"1.1.0",pagination:{startIndex:0,maxFeatures:2e3}},{},"swamps: get swamps_surveysite data"))}))},queryLayerAttributesToStoreStep3:function(e,t){return e.ofType(Y.Hu).filter((function(e){return"swamps: get bluemountains_thpss data"===(null==e?void 0:e.reason)})).mergeMap((function(e){return C().Observable.of((0,u.saveSwampsQueryToStore)(e.result.features))}))}}})},96828:e=>{var t="SET_VISIBLE_SWAMPS_CHART",n="SAVE_SWAMPS_SURVEY_QUERY_TO_STORE",r="SET_CURRENT_SWAMPS_SURVEY_SITE_ID",u="SET_SELECTED_X_KEY",o="SET_SELECTED_Y_KEY";e.exports={SET_VISIBLE_SWAMPS_CHART:t,setVisibleSwampsChart:function(e){return{type:t,visible:e}},SET_CURRENT_SWAMPS_SURVEY_SITE_ID:r,setCurrentSwampsSurveySiteId:function(e){return{type:r,currentSwampsSurveySiteId:e}},SAVE_SWAMPS_SURVEY_QUERY_TO_STORE:n,saveSwampsQueryToStore:function(e){return{type:n,swampsSurveyData:e}},SET_SELECTED_X_KEY:u,setSelectedXKey:function(e){return{type:u,selectedXKey:e}},SET_SELECTED_Y_KEY:o,setSelectedYKey:function(e){return{type:o,selectedYKey:e}}}},34088:e=>{e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},55181:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #swamps-container {\n    width:100%;\n    height:100%;\n    display: flex;\n    justify-content: center;\n}\n\n.msgapi #swamps-chart {\n    z-index: 3000;\n    width: 98%;\n    height: 94%;\n    margin: 20px;\n    background-color: #ffffff;\n    font-size: 12px;\n    border-radius: 4px;\n    text-align: center;\n}\n",""])},45177:(e,t,n)=>{"use strict";var r=n(29059);t.__esModule=!0,t.default=void 0;var u,o=r(n(50139)),i="clearTimeout",a=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-l)),r=setTimeout(e,n);return l=t,r},s=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o.default&&["","webkit","moz","o","ms"].some((function(e){var t=s(e,"request");if(t in window)return i=s(e,"cancel"),a=function(e){return window[t](e)}}));var l=(new Date).getTime();(u=function(e){return a(e)}).cancel=function(e){window[i]&&"function"==typeof window[i]&&window[i](e)};var c=u;t.default=c,e.exports=t.default},73759:e=>{"use strict";e.exports=function(e,t,n,r,u,o,i,a){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,u,o,i,a],c=0;(s=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},87649:(e,t,n)=>{var r=n(55181);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)}}]);