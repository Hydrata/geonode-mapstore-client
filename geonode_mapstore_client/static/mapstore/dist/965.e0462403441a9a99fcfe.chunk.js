(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[965],{98140:(e,t,n)=>{var r=n(67460),o=n(33716);e.exports=function(e,t,n){var i=!0,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,u="trailing"in n?!!n.trailing:u),r(e,t,{leading:i,maxWait:t,trailing:u})}},33528:(e,t,n)=>{"use strict";n.d(t,{gJ:()=>r,Oj:()=>o,jp:()=>i,CM:()=>u,DU:()=>l,aO:()=>a,v6:()=>s,K8:()=>c,IN:()=>p,zh:()=>f,AH:()=>d,Ub:()=>E,_9:()=>y,JB:()=>S,oh:()=>v,AY:()=>m,yi:()=>T,SW:()=>_,Hk:()=>b,iQ:()=>R,dY:()=>I,$:()=>A,_u:()=>h,gG:()=>O,DI:()=>w,dZ:()=>g,qw:()=>D,f$:()=>F,bZ:()=>G,$O:()=>C,sF:()=>U,Gk:()=>P,vO:()=>L,ut:()=>Y,MK:()=>N,VV:()=>M,B8:()=>K,VM:()=>x,a3:()=>j,Xp:()=>V,DA:()=>H,sK:()=>k,yA:()=>W,r:()=>X,iB:()=>q,EH:()=>B,Yd:()=>Q,Hg:()=>z,Lz:()=>Z,ye:()=>$,Jb:()=>J,d:()=>ee,fT:()=>te,Ib:()=>ne,Pl:()=>re,UB:()=>oe,Uh:()=>ie,QT:()=>ue,oL:()=>le,Ap:()=>ae,KD:()=>se,Zk:()=>ce,Z_:()=>pe,Vw:()=>fe,sY:()=>de,kA:()=>Ee,gr:()=>ye,pX:()=>Se,F5:()=>ve,MO:()=>me,dq:()=>Te,DY:()=>_e,oO:()=>be,uF:()=>Re,a8:()=>Ie,Pv:()=>Ae,an:()=>he,lg:()=>Oe,nY:()=>we,nG:()=>ge,lx:()=>De,$S:()=>Fe,gc:()=>Ge,Uz:()=>Ce,fO:()=>Ue,$E:()=>Pe,cE:()=>Le,JK:()=>Ye,YV:()=>Ne,t9:()=>Me,YG:()=>Ke,HT:()=>xe,MY:()=>je,ve:()=>Ve,hB:()=>He,Ox:()=>ke,zd:()=>We,aT:()=>Xe,VH:()=>qe,Yb:()=>Be,Jr:()=>Qe,pP:()=>ze});var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",l="FEATUREGRID:SET_SELECTION_OPTIONS",a="FEATUREGRID:TOGGLE_MODE",s="FEATUREGRID:TOGGLE_FEATURES_SELECTION",c="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",f="FEATUREGRID:SAVE_CHANGES",d="FEATUREGRID:SAVING",E="FEATUREGRID:START_EDITING_FEATURE",y="FEATUREGRID:START_DRAWING_FEATURE",S="FEATUREGRID:DELETE_GEOMETRY",v="FEATUREGRID:DELETE_GEOMETRY_FEATURE",m="FEATUREGRID:SAVE_SUCCESS",T="FEATUREGRID:CLEAR_CHANGES",_="FEATUREGRID:SAVE_ERROR",b="FEATUREGRID:DELETE_SELECTED_FEATURES",R="SET_FEATURES",I="FEATUREGRID:SORT_BY",A="FEATUREGRID:SET_LAYER",h="QUERY:UPDATE_FILTER",O="FEATUREGRID:CHANGE_PAGE",w="FEATUREGRID:GEOMETRY_CHANGED",g="DOCK_SIZE_FEATURES",D="FEATUREGRID:TOGGLE_TOOL",F="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",G="ASK_CLOSE_FEATURE_GRID_CONFIRM",C="FEATUREGRID:OPEN_GRID",U="FEATUREGRID:CLOSE_GRID",P="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",L="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",Y="FEATUREGRID:SET_PERMISSION",N="FEATUREGRID:DISABLE_TOOLBAR",M="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",K="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",x="FEATUREGRID:ADVANCED_SEARCH",j="FEATUREGRID:ZOOM_ALL",V="FEATUREGRID:INIT_PLUGIN",H="FEATUREGRID:SIZE_CHANGE",k="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",W="FEATUREGRID:HIDE_SYNC_POPOVER",X="FEATUREGRID:UPDATE_EDITORS_OPTIONS",q="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",B={EDIT:"EDIT",VIEW:"VIEW"},Q="FEATUREGRID:START_SYNC_WMS",z="FEATUREGRID:STOP_SYNC_WMS",Z="STORE_ADVANCED_SEARCH_FILTER",$="LOAD_MORE_FEATURES",J="FEATUREGRID:QUERY_RESULT",ee="FEATUREGRID:SET_TIME_SYNC",te="FEATUREGRID:SET_PAGINATION";function ne(){return{type:k}}function re(){return{type:W}}function oe(e,t){return{type:J,features:e,pages:t}}function ie(e){return{type:Z,filterObj:e}}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:V,options:e}}function le(){return{type:P}}function ae(){return{type:L}}function se(e,t){return{type:o,features:e,append:t}}var ce=function(e){return{type:X,payload:e}};function pe(e){return{type:r,options:e}}function fe(e){return{type:w,features:e}}function de(){return{type:E}}function Ee(){return{type:y}}function ye(e){return{type:i,features:e}}function Se(){return{type:S}}function ve(e){return{type:v,features:e}}function me(){return{type:u}}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:l,multiselect:n}}function _e(e,t){return{type:I,sortBy:e,sortOrder:t}}function be(e,t){return{type:O,page:e,size:t}}function Re(e){return{type:A,id:e}}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:h,update:e,append:t}}function Ae(e,t){return{type:D,tool:e,value:t}}function he(e,t,n){return{type:F,name:e,key:t,value:n}}function Oe(){return{type:a,mode:B.EDIT}}function we(){return{type:a,mode:B.VIEW}}function ge(e,t){return{type:c,features:e,updated:t}}function De(e){return{type:p,features:e}}function Fe(){return{type:f}}function Ge(){return{type:m}}function Ce(){return{type:b}}function Ue(){return{type:d}}function Pe(){return{type:T}}function Le(){return{type:_}}function Ye(){return{type:G}}function Ne(){return{type:U}}function Me(){return{type:C}}function Ke(e){return{type:N,disabled:e}}function xe(e){return{type:Y,permission:e}}function je(){return{type:x}}function Ve(){return{type:j}}function He(){return{type:Q}}function ke(e,t){return{type:H,size:e,dockProps:t}}var We=function(e){return{type:$,pages:e}},Xe=function(e){return{type:M,activated:e}},qe=function(e){return{type:K,deactivated:e}},Be=function(e){return{type:ee,value:e}},Qe=function(e){return{type:te,size:e}},ze=function(e){return{type:q,updateFilterAction:e}}},21914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>o,km:()=>i,Ih:()=>u,Xw:()=>l,Pn:()=>a,DZ:()=>s,e8:()=>c,E0:()=>p,F9:()=>f,X_:()=>d,pb:()=>E,qb:()=>y,Re:()=>S,ih:()=>v,xy:()=>m,jL:()=>T,oz:()=>_,ph:()=>b,lF:()=>R,gG:()=>I,cb:()=>A,GI:()=>h,B1:()=>O,fv:()=>w,gc:()=>g,zX:()=>D,ZF:()=>F,Zb:()=>G,Fm:()=>C,sV:()=>U,Mn:()=>P,LU:()=>L,XP:()=>Y,WU:()=>N,JB:()=>M,g:()=>K,ws:()=>x,HP:()=>j,aN:()=>V,Pg:()=>k,u0:()=>W,TM:()=>X,PM:()=>q,lK:()=>B,sv:()=>Q,MO:()=>z,oO:()=>Z,Mc:()=>$,Zw:()=>J,RA:()=>ee,am:()=>te,ZM:()=>ne,wm:()=>re,Y$:()=>oe});var r=n(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",u="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",a="NEW_MAPINFO_REQUEST",s="PURGE_MAPINFO_RESULTS",c="CHANGE_MAPINFO_FORMAT",p="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",E="HIDE_REVERSE_GEOCODE",y="GET_VECTOR_INFO",S="NO_QUERYABLE_LAYERS",v="CLEAR_WARNING",m="FEATURE_INFO_CLICK",T="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",_="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",b="TOGGLE_MAPINFO_STATE",R="UPDATE_CENTER_TO_MARKER",I="IDENTIFY:CHANGE_PAGE",A="IDENTIFY:CLOSE_IDENTIFY",h="IDENTIFY:CHANGE_FORMAT",O="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",w="IDENTIFY:EDIT_LAYER_FEATURES",g="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",D="IDENTIFY:SET_MAP_TRIGGER",F="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",G="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function C(e,t,n,r,i){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:i}}function U(e,t,n,r){return{type:i,error:t,reqId:e,requestParams:n,layerMetadata:r}}function P(e,t,n,r){return{type:u,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function L(){return{type:S}}function Y(){return{type:v}}function N(e,t){return{type:a,reqId:e,request:t}}function M(e,t,n,r){return{type:y,layer:e,request:t,metadata:n,queryableLayers:r}}function K(){return{type:s}}function x(e){return{type:c,infoFormat:e}}function j(){return{type:p}}function V(){return{type:f}}function H(e){return{type:d,reverseGeocodeData:e.data}}function k(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(H(e))})).catch((function(e){t(H(e))}))}}function W(){return{type:E}}function X(){return{type:b}}function q(e){return{type:R,status:e}}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:m,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}}function Q(e){return{type:T,point:e}}function z(e){return{type:_,enabled:e}}function Z(e){return{type:I,index:e}}var $=function(){return{type:A}},J=function(e){return{type:h,format:e}},ee=function(e){return{type:O,showCoordinateEditor:e}},te=function(e){return{type:w,layer:e}},ne=function(e){return{type:g,query:e}},re=function(e){return{type:D,trigger:e}},oe=function(e){return{type:G,value:e}}},95797:(e,t,n)=>{"use strict";n.d(t,{DR:()=>r,S0:()=>o,u7:()=>i,lj:()=>u,yz:()=>l,lN:()=>a,zW:()=>s,Yx:()=>c,VN:()=>p,Hu:()=>f,VT:()=>d,RD:()=>E,Qq:()=>y,R1:()=>S,_T:()=>v,vO:()=>m,XO:()=>T,jG:()=>_,Xc:()=>b,gT:()=>R,rG:()=>I,t3:()=>A,Fs:()=>h,w_:()=>O,Lm:()=>w,rh:()=>g,rP:()=>D,IO:()=>F,zc:()=>G}),n(75875);var r="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",u="FEATURE_LOADED",l="FEATURE_LOADING",a="FEATURE_TYPE_ERROR",s="FEATURE_ERROR",c="QUERY_CREATE",p="QUERY:UPDATE_QUERY",f="QUERY_RESULT",d="QUERY_ERROR",E="RESET_QUERY",y="QUERY",S="INIT_QUERY_PANEL",v="QUERY:TOGGLE_SYNC_WMS",m="QUERY:TOGGLE_LAYER_FILTER";function T(){return{type:v}}function _(){return{type:m}}function b(){return{type:S}}function R(e,t){return{type:o,url:e,typeName:t}}function I(e,t){return{type:i,typeName:e,featureType:t}}function A(e,t){return{type:a,typeName:e,error:t}}function h(e){return{type:l,isLoading:e}}function O(e,t,n,r,o){return{type:f,searchUrl:t,filterObj:n,result:e,queryOptions:r,reason:o}}function w(e){return{type:d,error:e}}function g(e,t){return{type:p,updates:e,reason:t}}function D(e,t){return{type:c,searchUrl:e,filterObj:t}}function F(e,t,n,r){return{type:y,searchUrl:e,filterObj:t,queryOptions:n,reason:r}}function G(){return{type:E}}},47310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(75875),o=n.n(r),i=n(72500),u=n.n(i),l=n(27418),a=n.n(l),s={format:"json",bounded:0,polygon_geojson:1,priority:5};const c={geocode:function(e,t){var n=a()({q:e},s,t||{}),r=u().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=a()({lat:e.lat,lon:e.lng},t||{},s),r=u().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},95917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>se});var r=n(22843),o=n(30381),i=n.n(o),u=n(96828);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,l=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={selectedSwampId:null,selectedSwampData:null,availableSites:[],selectedSiteIds:[],selectedSurveyIds:[],availableSurveyTypeKeys:[],selectedSurveyTypeKeys:[],availableActivityFields:[],selectedActivityField:null},S=n(24852),v=n.n(S),m=n(71703),T=n(23885);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(87649);var w=n(45697),g=n(48465),D=g.LineChart,F=g.Line,G=g.CartesianGrid,C=g.ResponsiveContainer,U=g.XAxis,P=g.YAxis,L=(g.Legend,g.Tooltip),Y=function(e){R(a,e);var t,n,r,o,u,l=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=h(t);if(n){var o=h(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return A(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=l.call(this,e)).state={},t}return r=a,(o=[{key:"render",value:function(){var e,t,n,r,o,u,l=this;return v().createElement("div",{id:"swamps-chart"},v().createElement("div",{className:"chart-header"},v().createElement("h2",{style:{display:"inline"}},"Swamp ID: ",null===(e=this.props.selectedSwampId)||void 0===e?void 0:e.split(".")[1]," ",null===(t=this.props.selectedSwampData)||void 0===t?void 0:t.name),v().createElement("span",{className:"pull-right btn glyphicon glyphicon-remove",style:{color:"red",right:"-10px",top:"-10px"},onClick:function(){l.props.clearSelectedSwamp(),l.props.setVisibleSwampsChart(!1)}})),v().createElement("div",{className:"chart-mainbody"},this.props.selectedSwampData?0===(null===(n=this.props.selectedSwampData)||void 0===n||null===(r=n.sites)||void 0===r?void 0:r.length)?v().createElement("div",null,"No Data"):v().createElement(T.Grid,{style:{width:"100%"}},v().createElement(T.Col,{sm:2,className:"chart-sidebar",style:{maxWidth:"250px"}},v().createElement(T.Row,null,v().createElement("h4",{style:{marginTop:"20px"}},"Select Survey Sites:"),this.props.availableSites.map((function(e){var t;return v().createElement(T.Button,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:null!==(t=l.props.selectedSiteIds)&&void 0!==t&&t.includes(e.site_id)?"#175582ff":"#175582aa",borderColor:"#175582ff",marginTop:"4px",fontSize:"x-small",borderRadius:"3px"},onClick:function(){return l.props.toggleSelectionOfSiteId(null==e?void 0:e.site_id)}},null==e?void 0:e.name)})),(null===(o=this.props.availableSurveyTypeKeys)||void 0===o?void 0:o.length)>0?v().createElement("h4",{style:{marginTop:"20px"}},"Select Survey Types:"):null,this.props.availableSurveyTypeKeys.map((function(e){var t;return v().createElement(T.Button,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:null!==(t=l.props.selectedSurveyTypeKeys)&&void 0!==t&&t.includes(e)?"#175582ff":"#175582aa",borderColor:"#175582ff",marginTop:"4px",fontSize:"x-small",borderRadius:"3px"},onClick:function(){return l.props.toggleSelectionOfSurveyTypeKey(e)}},e)})),(null===(u=this.props.availableActivityFields)||void 0===u?void 0:u.length)>0?v().createElement("h4",{style:{marginTop:"20px"}},"Select Survey Attribute:"):null,this.props.availableActivityFields.map((function(e){return v().createElement(T.Button,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:l.props.selectedYKey===e?"#175582ff":"#175582aa",borderColor:"#175582ff",marginTop:"4px",fontSize:"x-small",borderRadius:"3px"},onClick:function(){return l.props.setSelectedYKey(e)}},e)})))),v().createElement(T.Col,{sm:10},"Photo"===this.props.selectedYKey?v().createElement(T.Carousel,null,this.props.selectedPhotos.map((function(e){return v().createElement(T.CarouselItem,null,v().createElement("img",{width:"80%",alt:"900x500",src:e.url}))}))):v().createElement(C,{width:"95%",height:600},v().createElement(D,{width:500,height:400,syncId:"swampCharts",data:this.props.selectedActivities},v().createElement(G,{stroke:"#ccc",strokeDasharray:"5 5"}),v().createElement(U,{dataKey:this.props.selectedXKey,domain:["auto","auto"],name:this.props.selectedXKey,tickFormatter:function(e){return i()(e).format("DD MMM YYYY")},tickCount:10,type:"number",unit:"time"}),v().createElement(P,{yAxisId:"left",type:"number",dataKey:this.props.selectedYKey,name:this.props.selectedYKey,orientation:"left",stroke:"#175582",label:"YAxisLabel"}),v().createElement(F,{yAxisId:"left",isAnimationActive:!1,dataKey:this.props.selectedYKey,strokeWidth:0,shape:"circle",fill:"#175582",lineType:"joint",name:this.props.selectedYKey}),v().createElement(L,{labelFormatter:function(e){return i()(e).format("DD MMM YYYY HH:MM:SS")}}))))):v().createElement("div",null,"loading...")),v().createElement("div",{className:"chart-footer"}))}}])&&b(r.prototype,o),u&&b(r,u),a}(v().Component);O(Y,"propTypes",{setVisibleSwampsChart:w.func,visibleSwampsChart:w.bool,setSelectedSwampId:w.func,clearSelectedSwamp:w.func,selectedSwampId:w.string,selectedSwampData:w.object,toggleSelectionOfSiteId:w.func,toggleSelectionOfSurveyTypeKey:w.func,availableSites:w.array,availableSurveyTypeKeys:w.array,selectedSurveyTypeKeys:w.array,selectedSiteIds:w.array,selectedActivities:w.object,availableActivityFields:w.array,selectedActivityFields:w.array,selectedActivites:w.array,selectedPhotos:w.array,setSelectedXKey:w.func,setSelectedYKey:w.func,availableXKeys:w.array,availableYKeys:w.array,selectedXKey:w.string,selectedYKey:w.string,data1:w.array,data2:w.array,data3:w.array}),O(Y,"defaultProps",{});const N=(0,m.connect)((function(e){var t,n,r,o,i,u,l,a,s,c,p,f,d,E,y,S,v,m,T,_,b,R,I,A=["status","location","entry_date","survey_date_time","fields","id"],h=["template"],O=null==e||null===(t=e.swamps)||void 0===t||null===(n=t.selectedActivities)||void 0===n?void 0:n.reduce((function(e,t){return console.log("currentValue",t),t.Photo?e.concat(t.Photo):e}),[]);return{selectedSwampId:null==e||null===(r=e.swamps)||void 0===r?void 0:r.selectedSwampId,selectedSwampData:null==e||null===(o=e.swamps)||void 0===o?void 0:o.selectedSwampData,visibleSwampsChart:null==e||null===(i=e.swamps)||void 0===i?void 0:i.visibleSwampsChart,selectedXKey:(null==e||null===(u=e.swamps)||void 0===u?void 0:u.selectedXKey)||"js_survey_date_time",selectedYKey:(null==e||null===(l=e.swamps)||void 0===l?void 0:l.selectedYKey)||"value1",availableXKeys:(null==e||null===(a=e.swamps)||void 0===a||null===(s=a.processedSwampsSurveyData)||void 0===s||null===(c=s[null==e||null===(p=e.swamps)||void 0===p?void 0:p.currentSwampsSurveySiteId])||void 0===c?void 0:c.availableXKeys)||["time"],availableYKeys:(null==e||null===(f=e.swamps)||void 0===f||null===(d=f.processedSwampsSurveyData)||void 0===d||null===(E=d[null==e||null===(y=e.swamps)||void 0===y?void 0:y.currentSwampsSurveySiteId])||void 0===E?void 0:E.availableYKeys)||[],availableSites:(null==e||null===(S=e.swamps)||void 0===S||null===(v=S.selectedSwampData)||void 0===v?void 0:v.sites)||[],selectedSiteIds:(null==e||null===(m=e.swamps)||void 0===m?void 0:m.selectedSiteIds)||[],availableSurveyTypeKeys:(null==e||null===(T=e.swamps)||void 0===T?void 0:T.availableSurveyTypeKeys.filter((function(e){return!h.includes(e)})))||[],selectedSurveyTypeKeys:(null==e||null===(_=e.swamps)||void 0===_?void 0:_.selectedSurveyTypeKeys)||[],selectedActivities:(null==e||null===(b=e.swamps)||void 0===b?void 0:b.selectedActivities)||[],availableActivityFields:(null==e||null===(R=e.swamps)||void 0===R?void 0:R.availableActivityFields.filter((function(e){return!A.includes(e)})))||[],selectedActivityFields:(null==e||null===(I=e.swamps)||void 0===I?void 0:I.selectedActivityFields)||[],selectedPhotos:O}}),(function(e){return{setVisibleSwampsChart:function(t){return e((0,u.setVisibleSwampsChart)(t))},setSelectedSwampId:function(t){return e((0,u.setSelectedSwampId)(t))},clearSelectedSwamp:function(){return e((0,u.clearSelectedSwamp)())},setSelectedXKey:function(t){return e((0,u.setSelectedXKey)(t))},setSelectedYKey:function(t){return e((0,u.setSelectedYKey)(t))},toggleSelectionOfSiteId:function(t){return e((0,u.toggleSelectionOfSiteId)(t))},toggleSelectionOfSurveyTypeKey:function(t){return e((0,u.toggleSelectionOfSurveyTypeKey)(t))}}}))(Y);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}v().PureComponent;var k=n(45697),W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={},t}return t=u,(n=[{key:"render",value:function(){var e=this;return v().createElement(v().Fragment,null,v().createElement("div",{id:"swamps-controls",className:"simple-view-panel",style:{top:70*this.props.swampGroupLength,width:"480px"}},v().createElement("div",{className:"menu-rows-container"},v().createElement("div",{className:"row menu-row pull-left",style:{width:"480px",textAlign:"left"}},v().createElement(T.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){e.props.refreshSwamps()}},"Refresh Monitoring Data")))))}}])&&K(t.prototype,n),u}(v().Component);H(W,"propTypes",{refreshSwamps:k.func,swampGroupLength:k.number}),H(W,"defaultProps",{});const X=(0,m.connect)((function(e){var t,n,r,o;return{swampGroupLength:null==e||null===(t=e.layers)||void 0===t||null===(n=t.groups)||void 0===n||null===(r=n.filter((function(e){return"Swamps"===e.title}))[0])||void 0===r||null===(o=r.nodes)||void 0===o?void 0:o.length}}),(function(e){return{refreshSwamps:function(){return e((0,u.refreshSwamps)())}}}))(W);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=n(45697),ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Z(r);if(o){var n=Z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return z(this,e)});function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.initSwamps()}},{key:"render",value:function(){return v().createElement("div",{id:"swamps-container"},this.props.visibleSwampsChart?v().createElement(N,null):null,this.props.openMenuGroupId&&this.props.viewSwampsGroupId===this.props.openMenuGroupId?v().createElement("div",null,v().createElement(X,null)):null)}}])&&B(t.prototype,n),u}(v().Component);$(ee,"propTypes",{visibleSwampsChart:J.bool,initSwamps:J.func,viewSwampsGroupId:J.string,openMenuGroupId:J.string}),$(ee,"defaultProps",{});const te=(0,m.connect)((function(e){var t,n,r,o,i,u;return{visibleSwampsChart:null==e||null===(t=e.swamps)||void 0===t?void 0:t.visibleSwampsChart,viewSwampsGroupId:null==e||null===(n=e.mapConfigRawData)||void 0===n||null===(r=n.map)||void 0===r||null===(o=r.groups)||void 0===o||null===(i=o.filter((function(e){return"Swamps"===e.title}))[0])||void 0===i?void 0:i.id,openMenuGroupId:null==e||null===(u=e.simpleView)||void 0===u?void 0:u.openMenuGroupId}}),(function(e){return{initSwamps:function(){return e((0,u.initSwamps)())}}}))(ee);var ne=n(49977),re=n.n(ne),oe=n(21914),ie=n(33528),ue=n(95797),le=n(75875),ae=n.n(le);const se=(0,r.rx)("Swamps",{component:te,reducers:{swamps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=function(){var n;switch(t.type){case u.SET_SELECTED_SWAMP_ID:return{v:d(d({},e),{},{selectedSwampId:t.selectedSwampId})};case u.CLEAR_SELECTED_SWAMP:return{v:d(d({},e),{},{selectedSwampId:null,selectedSwampData:null,selectedSiteIds:[],availableSurveyTypeKeys:[],availableSurveySites:[],selectedSurveyTypeKeys:[],selectedActivities:[],availableActivityFields:[]})};case u.SAVE_SWAMP_QUERY_TO_STORE:return{v:d(d({},e),{},{selectedSwampData:t.selectedSwampData})};case u.TOGGLE_SELECTION_OF_SITE_ID:var r;r=null!==(n=e.selectedSiteIds)&&void 0!==n&&n.includes(t.selectedSiteId)?e.selectedSiteIds.filter((function(e){return e!==t.selectedSiteId})):[].concat(s(e.selectedSiteIds),[t.selectedSiteId]);var o=e.surveySites.filter((function(e){var t;return null===(t=r)||void 0===t?void 0:t.includes(e.site_id)})),i=o.map((function(e){return Object.keys(e.activities)})),l=s(new Set([].concat.apply([],i)));return{v:d(d({},e),{},{selectedSiteIds:r,availableSurveyTypeKeys:l,availableSurveySites:o,selectedSurveyTypeKeys:[],selectedActivities:[],availableActivityFields:[]})};case u.TOGGLE_SELECTION_OF_SURVEY_TYPE_KEY:var c;c=e.selectedSurveyTypeKeys.includes(t.selectedSurveyTypeKey)?e.selectedSurveyTypeKeys.filter((function(e){return e!==t.selectedSurveyTypeKey})):[].concat(s(e.selectedSurveyTypeKeys),[t.selectedSurveyTypeKey]);var p={},f={};c.map((function(t){f[t]=e.availableSurveySites.map((function(e){return e.activities[t]}))})),Object.entries(f).forEach((function(e){var t=a(e,2),n=t[0],r=t[1].filter((function(e){return void 0!==e}));p[n]=s(new Set([].concat.apply([],r)))}));var E=[],y=[];for(var S in p)p.hasOwnProperty(S)&&(y=p[S].map((function(e){for(var t in e.fields)e.fields.hasOwnProperty(t)&&(e[t]=e.fields[t],E.includes(t)||E.push(t));return e.js_survey_date_time=new Date(e.survey_date_time).getTime(),e})));return{v:d(d({},e),{},{selectedSurveyTypeKeys:c,selectedActivities:y,availableActivityFields:E})};case u.SET_VISIBLE_SWAMPS_CHART:return{v:d(d({},e),{},{visibleSwampsChart:t.visible})};case u.PROCESS_SURVEY_SITES:return{v:d(d({},e),{},{surveySites:t.surveySites})};case u.SET_SELECTED_X_KEY:return{v:d(d({},e),{},{selectedXKey:t.selectedXKey})};case u.SET_SELECTED_Y_KEY:return{v:d(d({},e),{},{selectedYKey:t.selectedYKey})};case u.REFRESH_SWAMPS:default:return{v:e}}}();if("object"===l(n))return n.v}},epics:{initSwampsEpic:function(e){return e.ofType(u.INIT_SWAMPS).mergeMap((function(){return re().Observable.from(ae().get("/swamps/api/survey-site"))})).mergeMap((function(e){return e?re().Observable.of((0,u.processSurveySites)(e.data)):null}))},refreshSwampsEpic:function(e){return e.ofType(u.REFRESH_SWAMPS).mergeMap((function(){return re().Observable.from(ae().get("/swamps/api/update-from-airtables"))})).mergeMap((function(e){return console.log("refreshSwampsEpic Exhaust",e),e?re().Observable.of(window.location.reload(!1)):null}))},queryLayerAttributesToStoreStep1:function(e,t){return e.ofType(oe.XL).filter((function(e){var t,n,r,o;return null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.features)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&null!==(o=r.id)&&void 0!==o&&o.includes("bluemountains_thpss")?(console.log("queryLayerAttributesToStoreStep1",e),e):null})).mergeMap((function(e){var n,r,o,i,l,a,s,c;return re().Observable.merge(re().Observable.of((0,u.setVisibleSwampsChart)(!0)),re().Observable.of((0,u.setSelectedSwampId)(null==e||null===(n=e.data)||void 0===n||null===(r=n.features)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.id)),re().Observable.of((0,oe.Mc)()),re().Observable.of((0,ie.uF)(null==e?void 0:e.layer.id)),re().Observable.of((0,ue.gT)((null===(i=t.getState())||void 0===i||null===(l=i.gnsettings)||void 0===l?void 0:l.geoserverUrl)+"/wfs","geonode:"+(null==e||null===(a=e.data)||void 0===a||null===(s=a.features)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.id.split(".")[0]))))}))},queryLayerAttributesToStoreStep2:function(e,t){return e.ofType(ue.u7,ue.S0).filter((function(e){var t;return null!=e&&null!==(t=e.typeName)&&void 0!==t&&t.includes("bluemountains_thpss")?(console.log("queryLayerAttributesToStoreStep2",e),e):null})).mergeMap((function(e){var n,r;return re().Observable.of((0,ue.IO)((null===(n=t.getState())||void 0===n||null===(r=n.gnsettings)||void 0===r?void 0:r.geoserverUrl)+"/ows",{featureTypeName:e.typeName,filterType:"OGC",ogcVersion:"1.1.0",pagination:{startIndex:0,maxFeatures:2e3}},{},"swamps: get bluemountains_thpss data"))}))},queryLayerAttributesToStoreStep3:function(e,t){return e.ofType(ue.Hu).filter((function(e){return"swamps: get bluemountains_thpss data"===(null==e?void 0:e.reason)})).mergeMap((function(e){var n,r,o;console.log("queryLayerAttributesToStoreStep3",e);var i=null===(n=t.getState().swamps)||void 0===n?void 0:n.selectedSwampId,l=parseInt(i.split(".")[1],10),a=e.result.features.filter((function(e){return e.id===i}))[0];return a.sites=null===(r=t.getState().swamps)||void 0===r||null===(o=r.surveySites)||void 0===o?void 0:o.filter((function(e){return(null==e?void 0:e.swamp)===l})),re().Observable.of((0,u.saveSwampQueryToStore)(a))}))}}})},96828:e=>{var t="INIT_SWAMPS",n="SET_VISIBLE_SWAMPS_CHART",r="PROCESS_SURVEY_SITES",o="SAVE_SWAMP_QUERY_TO_STORE",i="SET_SELECTED_SWAMP_ID",u="CLEAR_SELECTED_SWAMP",l="SET_SELECTED_X_KEY",a="SET_SELECTED_Y_KEY",s="REFRESH_SWAMPS",c="TOGGLE_SELECTION_OF_SITE_ID",p="TOGGLE_SELECTION_OF_SURVEY_TYPE_KEY";e.exports={INIT_SWAMPS:t,initSwamps:function(){return{type:t}},PROCESS_SURVEY_SITES:r,processSurveySites:function(e){return{type:r,surveySites:e}},REFRESH_SWAMPS:s,refreshSwamps:function(){return{type:s}},SET_VISIBLE_SWAMPS_CHART:n,setVisibleSwampsChart:function(e){return{type:n,visible:e}},SET_SELECTED_SWAMP_ID:i,setSelectedSwampId:function(e){return{type:i,selectedSwampId:e}},CLEAR_SELECTED_SWAMP:u,clearSelectedSwamp:function(){return{type:u}},TOGGLE_SELECTION_OF_SITE_ID:c,toggleSelectionOfSiteId:function(e){return{type:c,selectedSiteId:e}},TOGGLE_SELECTION_OF_SURVEY_TYPE_KEY:p,toggleSelectionOfSurveyTypeKey:function(e){return{type:p,selectedSurveyTypeKey:e}},SAVE_SWAMP_QUERY_TO_STORE:o,saveSwampQueryToStore:function(e){return{type:o,selectedSwampData:e}},SET_SELECTED_X_KEY:l,setSelectedXKey:function(e){return{type:l,selectedXKey:e}},SET_SELECTED_Y_KEY:a,setSelectedYKey:function(e){return{type:a,selectedYKey:e}}}},34088:e=>{e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},55181:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #swamps-container {\n    width:100%;\n    height:100%;\n    display: flex;\n    justify-content: center;\n    margin: 10px;\n    border: 1px solid #fff;\n    background-color: #ffffff;\n}\n\n.msgapi #swamps-chart {\n    z-index: 3000;\n    width: 98%;\n    height: 90%;\n    margin: 70px 20px 20px 0;\n    background-color: #ffffff;\n    font-size: 12px;\n    border-radius: 4px;\n    text-align: center;\n}\n\n.msgapi .chart-mainbody {\n    padding: 20px;\n    margin-top: 0;\n    height: 85%;\n    overflow: auto;\n}\n\n.msgapi .chart-header {\n    padding: 20px;\n    height: 60px;\n    border-bottom: 1px solid #DDD;\n    background-color: #ffffff;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.msgapi .chart-footer {\n    padding: 20px;\n    bottom: 0;\n    height: 80px;\n    background-color: #ffffff;\n    border-top: 1px solid #DDD;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.msgapi .chart-sidebar {\n    padding: 0 30px 0 30px;\n    min-height: 600px;\n    background-color: #f3f3f3;\n    border: 1px solid #c7c7c7;\n    border-radius: 3px;\n}",""])},45177:(e,t,n)=>{"use strict";var r=n(29059);t.__esModule=!0,t.default=void 0;var o,i=r(n(50139)),u="clearTimeout",l=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),r=setTimeout(e,n);return s=t,r},a=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=a(e,"request");if(t in window)return u=a(e,"cancel"),l=function(e){return window[t](e)}}));var s=(new Date).getTime();(o=function(e){return l(e)}).cancel=function(e){window[u]&&"function"==typeof window[u]&&window[u](e)};var c=o;t.default=c,e.exports=t.default},73759:e=>{"use strict";e.exports=function(e,t,n,r,o,i,u,l){if(!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,u,l],c=0;(a=new Error(t.replace(/%s/g,(function(){return s[c++]})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},87649:(e,t,n)=>{var r=n(55181);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)}}]);