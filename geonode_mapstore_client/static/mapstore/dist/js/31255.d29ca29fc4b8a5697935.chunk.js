(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[31255],{285148:(r,t,e)=>{"use strict";e.d(t,{Qw:()=>v,jo:()=>b,m$:()=>h,AF:()=>O,WT:()=>w,ns:()=>j,RP:()=>D,aK:()=>S,oP:()=>P});var n=e(675110),u=e(55237),i=e(22222),o=e(227361),a=e.n(o),c=e(313311),f=e.n(c);function l(r){return function(r){if(Array.isArray(r))return d(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||s(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(r,t){if(r){if("string"==typeof r)return d(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(r,t):void 0}}function d(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function y(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function g(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?y(Object(e),!0).forEach((function(t){m(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}function m(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var v=function(r,t){return function(e){return a()(e,"dimension.data[".concat(t,"][").concat(r,"]"))}},p=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return f()(r.dimensions||[],{name:t})},b=function(r,t){return function(e){return v(r.id,t)(e)||p(r,t)}},h=function(r){return(0,n.l2)(r).reduce((function(t,e){var n=b(e,"time")(r);return n?g(g({},t),{},m({},e.id,n)):t}),{})},O=function(r){return(0,n.l2)(r).filter((function(r){return p(r,"time")}))},w=function(r){var t=a()(r,"dimension.currentTime");return t&&t.split("/")[0]},j=function(r){return a()(r,"dimension.offsetTime")},D=function(r){return!!j(r)},S=((0,i.P1)(h,(function(r){return Object.keys(r).reduce((function(t,e){return[].concat(l(t),l(r[e]&&r[e].values||[]))}),[]).sort()||[]})),function(r){return function(t){return l(a()(b(r,"time")(t),"values",[])).sort()}}),P=function(r,t){var e=v(t,"time")(r),n=e&&e.domain&&e.domain.split("--");if(n&&2===n.length)return n&&{start:n[0],end:n[1]};var i,o,a=e&&e.domain&&e.domain.split(",");if(a&&a.length>0){var c=(i=(0,u.tz)(a),o=2,function(r){if(Array.isArray(r))return r}(i)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,u,i=[],o=!0,a=!1;try{for(e=e.call(r);!(o=(n=e.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(r){a=!0,u=r}finally{try{o||null==e.return||e.return()}finally{if(a)throw u}}return i}}(i,o)||s(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{start:c[0],end:c[1]}}return null}},731255:(r,t,e)=>{"use strict";e.d(t,{u$:()=>j,Xh:()=>D,_w:()=>S,eO:()=>P,kG:()=>T,P3:()=>q,bq:()=>I,LB:()=>C,b4:()=>F,M0:()=>k,Li:()=>E,Rd:()=>x,g5:()=>L,Sj:()=>U,o:()=>_,eK:()=>z,jY:()=>G,ND:()=>H,OK:()=>N,tU:()=>K,ou:()=>$,DK:()=>Q,Gl:()=>R,uz:()=>B,Ci:()=>V,Ae:()=>W,gz:()=>Y,He:()=>X,P4:()=>J,kd:()=>Z,TC:()=>rr,nq:()=>tr,Vf:()=>er,lg:()=>nr});var n=e(91175),u=e.n(n),i=e(227361),o=e.n(i),a=e(513218),c=e.n(a),f=e(675110),l=e(378889),s=e(308316),d=e(552259),y=e(196958),g=e(285148),m=e(274621),v=e(93152),p=e(824260);function b(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function h(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?b(Object(e),!0).forEach((function(t){O(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):b(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}function O(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var w=f.CA,j=function(r){return o()(r,"featuregrid.selectedLayer")},D=function(r){return o()(r,"featuregrid.attributes")},S=function(r){return r&&r.featuregrid&&r.featuregrid.select},P=function(r){return r&&r.featuregrid&&r.featuregrid.changes},T=function(r){return r&&r.featuregrid&&r.featuregrid.newFeatures},q=function(r){return u()(S(r))},A=function(r){var t=(0,p.Qs)(r);if(t){var e=(0,l.findGeometryProperty)(t);return e&&e.localType}return null},M=["Geometry","GeometryCollection"],I=function(r){return!u()(M.filter((function(t){return A(r)===t})))},C=function(r){return P(r)&&P(r).length>0},F=function(r){return T(r)&&T(r).length>0},k=function(r){return r&&r.featuregrid&&r.featuregrid.filters},E=function(r){return w(r,j(r))},x=function(r){return r&&r.featuregrid&&r.featuregrid.open},L=function(r,t){return o()(k(r),t)},U=function(r){var t=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.title||r.name}(w(r,j(r)));return c()(t)?t[(0,s.Pz)(r)]||t.default||"":t},_=function(r){return((0,p.L)(r)||[]).map((function(t){var e=function(r,t){return o()(r,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))}(r,t);return e?h(h({},t),e):t}))},z=function(r){return r&&r.featuregrid&&r.featuregrid.mode},G=function(r){return(S(r)||[]).length},H=function(r){return(0,y.rK)(P(r))},N=function(r){return function(r){var t=q(r);if(t){var e=(0,y.rK)(P(r));return!((!e[t.id]||null===e[t.id].geometry)&&(e[t.id]&&null===e[t.id].geometry||t._new&&u()(T(r))&&null===u()(T(r)).geometry||(!t._new||!u()(T(r))||null===u()(T(r)).geometry)&&null===t.geometry))}return!1}(r)},K=function(r){return o()(r,"featuregrid.showAgain",!1)},$=function(r){if(o()(r,"featuregrid.showTimeSync",!1)){var t=j(r);return(0,g.jo)({id:t},"time")(r)}return null},Q=function(r){return o()(r,"featuregrid.timeSync",!1)},R=function(r){return o()(r,"featuregrid.showPopoverSync",!0)},B=function(r){return r&&r.featuregrid&&r.featuregrid.saving},V=function(r){return r&&r.featuregrid&&r.featuregrid.saved},W=function(r){return r&&r.featuregrid&&r.featuregrid.drawing},Y=function(r){return o()(r,"featuregrid.multiselect",!1)},X=function(r){return(0,d.isSimpleGeomType)(A(r))},J=function(r){return r.featuregrid&&r.featuregrid.dockSize},Z=function(r){var t=w(r,j(r));return t&&t.name||""},rr=function(r){var t=function(r){return o()(w(r,j(r)),"params")}(r);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},tr=function(r){var t=(0,m.L3)(r),e=function(r){return o()(r,"featuregrid.editingAllowedRoles",["ADMIN"])}(r)||["ADMIN"],n=function(r){return r&&r.featuregrid&&r.featuregrid.canEdit}(r);return(-1!==e.indexOf(t)||n)&&!(0,v.c0)(r)},er=function(r){return o()(r,"featuregrid.pagination")},nr=function(r){return o()(r,"featuregrid.useLayerFilter",!0)}},824260:(r,t,e)=>{"use strict";e.d(t,{qj:()=>b,Bu:()=>h,UM:()=>O,X1:()=>w,L:()=>j,HY:()=>D,Mz:()=>S,F0:()=>P,dc:()=>T,b0:()=>q,hk:()=>A,Qs:()=>M,gy:()=>I,M7:()=>C,VD:()=>F});var n=e(414293),u=e.n(n),i=e(227361),o=e.n(i),a=e(91175),c=e.n(a),f=e(701469),l=e.n(f),s=e(630998),d=e.n(s);function y(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.push.apply(e,n)}return e}function g(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?y(Object(e),!0).forEach((function(t){m(r,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}))}return r}function m(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var v=function(r){return o()(r,"query.filterObj.featureTypeName")},p=function(r){return function(t){return o()(t,'query.featureTypes["'.concat(r,'"]'))}},b=function(r,t){return o()(p(t)(r),"original")},h=function(r){return r&&r.query&&r.query.searchUrl},O=function(r){return r&&r.query&&r.query.url},w=function(r){return r&&r.query&&r.query.filterObj},j=function(r){return o()(p(v(r))(r),"attributes")},D=function(r){return o()(r,"query.typeName")},S=function(r){return o()(r,"query.result.features")},P=function(r){var t=o()(r,"query.result");return g(g({},t),{},{features:(t&&t.features||[]).filter((function(r){return!u()(r.geometry)}))})},T=function(r,t){var e=r&&r.query&&r.query.result&&r.query.result.features;return c()(e.filter((function(r){return r.id===t})))},q={startIndex:function(r){return o()(r,"query.filterObj.pagination.startIndex")},maxFeatures:function(r){return o()(r,"query.filterObj.pagination.maxFeatures")},resultSize:function(r){return o()(r,"query.result.features.length")},totalFeatures:function(r){return o()(r,"query.result.totalFeatures")}},A=function(r,t){var e=p(t)(r);return!!(e&&e.attributes&&e.geometry&&e.original)},M=function(r){return b(r,v(r))},I=function(r){return o()(r,"query.featureLoading")},C=function(r){return o()(r,"query.syncWmsFilter",!1)},F=function(r){var t=o()(r,"query.filterObj.crossLayerFilter"),e=o()(r,"query.filterObj.spatialField"),n=o()(r,"query.filterObj.filterFields");return!!(n&&c()(n)||e&&(e.method&&e.operation&&e.geometry||l()(e)&&d()(e,(function(r){return r.method&&r.operation&&r.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},274621:(r,t,e)=>{"use strict";e.d(t,{np:()=>n,L3:()=>u,jl:()=>i,y8:()=>o,qg:()=>a}),e(727418),e(227361);var n=function(r){return r&&r.security&&r.security.user},u=function(r){return n(r)&&n(r).role},i=function(r){return r&&r.security&&r.security.user},o=function(r){return r.security&&r.security.token},a=function(r){return"ADMIN"===u(r)}},55237:(r,t,e)=>{"use strict";e.d(t,{tr:()=>D,jb:()=>S,Xu:()=>P,un:()=>q,Qn:()=>A,_q:()=>M,og:()=>I,$4:()=>C,kN:()=>F,oD:()=>k,V$:()=>E,uH:()=>x,pC:()=>L,tz:()=>U,p:()=>_});var n=e(747037),u=e.n(n),i=e(647960),o=e.n(i),a=e(227361),c=e.n(a),f=e(984596),l=e.n(f),s=e(730381),d=e.n(s),y=e(86638);function g(r){return function(r){if(Array.isArray(r))return p(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||v(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var n,u,i=[],o=!0,a=!1;try{for(e=e.call(r);!(o=(n=e.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(r){a=!0,u=r}finally{try{o||null==e.return||e.return()}finally{if(a)throw u}}return i}}(r,t)||v(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(r,t){if(r){if("string"==typeof r)return p(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(r,t):void 0}}function p(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var b=/PT?[\d\.]+[YMWDHMS]/,h=function(r){return r?u()(r)?new Date(r).getTime():(o()(r)&&r.getTime(),r):null},O=function(r,t){return t?r.map((function(r){var e=m(r.split("/"),2);return{start:e[0],end:e[1]}[t]})):r},w=function(r,t){var e=h(t),n=1/0,u=-1;return r.forEach((function(r,t){var i=h(r),o=Math.abs(i-e);o<n&&(n=o,u=t)})),u},j=function(r){var t=r.start,e=r.end,n=r.duration,u=d().duration(n).asMilliseconds();return(new Date(e).getTime()-new Date(t).getTime())/u},D=function(r){for(var t=r.start,e=r.end,n=r.duration,u=d().duration(n).asMilliseconds(),i=[],o=new Date(t),a=new Date(e);o<=a;)i.push(new Date(o).toISOString()),o.setTime(o.getTime()+u);return i},S=function(r){var t=r.start,e=r.end,n=r.duration;return D({start:t,end:e,duration:n}).map((function(r){return{start:new Date(r),end:new Date(new Date(r).getTime()+d().duration(n).asMilliseconds())}}))},P=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.start,e=r.end,n=r.duration,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=u.start,o=u.end;if(!i||!o)return{count:j({start:t,end:e,duration:n}),start:t,end:e};var a=d().duration(n).asMilliseconds(),c=new Date(t).getTime(),f=new Date(e).getTime(),l=new Date(i).getTime(),s=new Date(o).getTime(),y=Math.ceil((l-c)/a),g=Math.floor((s-c)/a),m=Math.floor((f-c)/a);if(y>=0&&g<=m){var v=g-y;return{start:new Date(c+Math.max(0,y)*a),end:new Date(c+Math.min(m,g)*a),count:v}}return{count:j({start:t,end:e,duration:n}),start:t,end:e}},T=function(r){return r.match(b)[0]},q=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.start,e=r.end,n=arguments.length>1?arguments[1]:void 0,u=new Date(t),i=new Date(e),o=Math.floor(i.getTime()-u.getTime())/n,a=d().duration(o).toISOString(),c=T(a);return{range:{start:t,end:e},resolution:c}},A=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0,n=O(r,e);return n[w(n,t)]},M=function(r){return r&&r.indexOf&&r.indexOf("--")>0},I=function(r,t){var e=d()(r).diff(t);return{start:e>=0?t:r,end:e>=0?r:t}},C=function(r){return 6e4*r.getTimezoneOffset()},F=function(r){var t=r;!o()(r)&u()(r)&&(t=new Date(r));var e=t.getUTCHours();e=e<10?"0"+e:e;var n=t.getUTCMinutes();n=n<10?"0"+n:n;var i=t.getUTCSeconds();return i=i<10?"0"+i:i,"".concat(e,":").concat(n,":").concat(i)},k=function(r){var t=r;!o()(r)&u()(r)&&(t=new Date(r));var e=t.getUTCMonth()+1,n=t.getUTCDate();return e=e<10?"0"+e:e,n=n<10?"0"+n:n,"".concat(t.getUTCFullYear(),"-").concat(e,"-").concat(n)},E=function(r,t){var e=(0,y.mh)(r),n="HH:mm:SS";switch(t){case"time":return n;case"date":return e;default:return e+" "+n}},x=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.Domains,e=void 0===t?{}:t,n=arguments.length>1?arguments[1]:void 0,u=l()(e.DimensionDomain||[]).concat(),i=e["@version"]||e.version,o=c()(e,"SpaceDomain.BoundingBox");return o&&u.push({Identifier:"space",Domain:o}),u.map((function(r){var t=r.Identifier,e=r.Domain;return{source:{type:"multidim-extension",version:i,url:n},name:t,domain:e}}))},L=function(r,t,e){var n=h(t),u=h(e);return r.reduce((function(r,t){var e=h(t);return h(n)<e&&h(u)>e?[].concat(g(r),[t]):g(r)}),[])},U=function(r){var t=r.reduce((function(r,t){if(-1!==t.indexOf("/")){var e=m(t.split("/"),2),n=e[0],u=e[1];return[].concat(g(r),[n,u])}return[].concat(g(r),[t])}),[]).sort();return[t[0],t[t.length-1]]},_=function(r,t,e){var n=d()(r);return("add"===e?n.add(t,"seconds"):n.subtract(t,"seconds")).toISOString()}}}]);