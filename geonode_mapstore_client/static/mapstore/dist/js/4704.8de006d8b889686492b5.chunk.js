(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[4704],{55237:(t,e,n)=>{"use strict";n.d(e,{tr:()=>R,jb:()=>T,Xu:()=>h,un:()=>C,Qn:()=>U,_q:()=>I,og:()=>G,$4:()=>w,kN:()=>A,oD:()=>M,V$:()=>b,uH:()=>P,pC:()=>F,tz:()=>L,p:()=>B});var r=n(747037),o=n.n(r),u=n(647960),i=n.n(u),a=n(227361),c=n.n(a),E=n(984596),s=n.n(E),d=n(730381),f=n.n(d),l=n(86638);function O(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,u=[],i=!0,a=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(u.push(r.value),!e||u.length!==e);i=!0);}catch(t){a=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return u}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v=/PT?[\d\.]+[YMWDHMS]/,m=function(t){return t?o()(t)?new Date(t).getTime():(i()(t)&&t.getTime(),t):null},D=function(t,e){return e?t.map((function(t){var n=p(t.split("/"),2);return{start:n[0],end:n[1]}[e]})):t},_=function(t,e){var n=m(e),r=1/0,o=-1;return t.forEach((function(t,e){var u=m(t),i=Math.abs(u-n);i<r&&(r=i,o=e)})),o},g=function(t){var e=t.start,n=t.end,r=t.duration,o=f().duration(r).asMilliseconds();return(new Date(n).getTime()-new Date(e).getTime())/o},R=function(t){for(var e=t.start,n=t.end,r=t.duration,o=f().duration(r).asMilliseconds(),u=[],i=new Date(e),a=new Date(n);i<=a;)u.push(new Date(i).toISOString()),i.setTime(i.getTime()+o);return u},T=function(t){var e=t.start,n=t.end,r=t.duration;return R({start:e,end:n,duration:r}).map((function(t){return{start:new Date(t),end:new Date(new Date(t).getTime()+f().duration(r).asMilliseconds())}}))},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,n=t.end,r=t.duration,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.start,i=o.end;if(!u||!i)return{count:g({start:e,end:n,duration:r}),start:e,end:n};var a=f().duration(r).asMilliseconds(),c=new Date(e).getTime(),E=new Date(n).getTime(),s=new Date(u).getTime(),d=new Date(i).getTime(),l=Math.ceil((s-c)/a),O=Math.floor((d-c)/a),p=Math.floor((E-c)/a);if(l>=0&&O<=p){var y=O-l;return{start:new Date(c+Math.max(0,l)*a),end:new Date(c+Math.min(p,O)*a),count:y}}return{count:g({start:e,end:n,duration:r}),start:e,end:n}},N=function(t){return t.match(v)[0]},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,n=t.end,r=arguments.length>1?arguments[1]:void 0,o=new Date(e),u=new Date(n),i=Math.floor(u.getTime()-o.getTime())/r,a=f().duration(i).toISOString(),c=N(a);return{range:{start:e,end:n},resolution:c}},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=D(t,n);return r[_(r,e)]},I=function(t){return t&&t.indexOf&&t.indexOf("--")>0},G=function(t,e){var n=f()(t).diff(e);return{start:n>=0?e:t,end:n>=0?t:e}},w=function(t){return 6e4*t.getTimezoneOffset()},A=function(t){var e=t;!i()(t)&o()(t)&&(e=new Date(t));var n=e.getUTCHours();n=n<10?"0"+n:n;var r=e.getUTCMinutes();r=r<10?"0"+r:r;var u=e.getUTCSeconds();return u=u<10?"0"+u:u,"".concat(n,":").concat(r,":").concat(u)},M=function(t){var e=t;!i()(t)&o()(t)&&(e=new Date(t));var n=e.getUTCMonth()+1,r=e.getUTCDate();return n=n<10?"0"+n:n,r=r<10?"0"+r:r,"".concat(e.getUTCFullYear(),"-").concat(n,"-").concat(r)},b=function(t,e){var n=(0,l.mh)(t),r="HH:mm:SS";switch(e){case"time":return r;case"date":return n;default:return n+" "+r}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Domains,n=void 0===e?{}:e,r=arguments.length>1?arguments[1]:void 0,o=s()(n.DimensionDomain||[]).concat(),u=n["@version"]||n.version,i=c()(n,"SpaceDomain.BoundingBox");return i&&o.push({Identifier:"space",Domain:i}),o.map((function(t){var e=t.Identifier,n=t.Domain;return{source:{type:"multidim-extension",version:u,url:r},name:e,domain:n}}))},F=function(t,e,n){var r=m(e),o=m(n);return t.reduce((function(t,e){var n=m(e);return m(r)<n&&m(o)>n?[].concat(O(t),[e]):O(t)}),[])},L=function(t){var e=t.reduce((function(t,e){if(-1!==e.indexOf("/")){var n=p(e.split("/"),2),r=n[0],o=n[1];return[].concat(O(t),[r,o])}return[].concat(O(t),[e])}),[]).sort();return[e[0],e[e.length-1]]},B=function(t,e,n){var r=f()(t);return("add"===n?r.add(e,"seconds"):r.subtract(e,"seconds")).toISOString()}},643892:(t,e,n)=>{"use strict";n.d(e,{W:()=>r,Zf:()=>o,Eu:()=>u,Vy:()=>i,YB:()=>a,xm:()=>c,_f:()=>E,ek:()=>s,cd:()=>d,pt:()=>f,ww:()=>l,tR:()=>O,Js:()=>p,p2:()=>y,ZH:()=>S,eQ:()=>v,ql:()=>m,$X:()=>D,nS:()=>_,ih:()=>g,J5:()=>R,uA:()=>T,Pv:()=>h,_Z:()=>N,dh:()=>C,IH:()=>U,e3:()=>I,Oq:()=>G,Q$:()=>w,DF:()=>A,id:()=>M,Br:()=>b,bI:()=>P,U5:()=>F,e5:()=>L,b3:()=>B,mN:()=>H,QN:()=>x,HV:()=>k,xe:()=>j,vA:()=>Q,gw:()=>W,qs:()=>V,CB:()=>Z,vg:()=>$,Z0:()=>q,lf:()=>Y,jQ:()=>J,nk:()=>X,X7:()=>z,nO:()=>K,F4:()=>tt,EU:()=>et,Rk:()=>nt,V1:()=>rt});var r="GEONODE:RESOURCE_LOADING",o="GEONODE:SET_RESOURCE",u="GEONODE:RESOURCE_ERROR",i="GEONODE:UPDATE_RESOURCE_PROPERTIES",a="GEONODE:SET_RESOURCE_TYPE",c="GEONODE:SET_NEW_RESOURCE",E="GEONODE:SET_RESOURCE_ID",s="GEONODE:SET_RESOURCE_PERMISSIONS",d="GEONODE:EDIT_TITLE_RESOURCE",f="GEONODE:EDIT_ABSTRACT_RESOURCE",l="GEONODE:EDIT_THUMBNAIL_RESOURCE",O="GEONODE:SET_FAVORITE_RESOURCE",p="GEONODE:SET_MAP_THUMBNAIL",y="GEONODE:SET_SELECTED_DATASET_PERMISSIONS",S="GEONODE:REQUEST_RESOURCE_CONFIG",v="GEONODE:REQUEST_NEW_RESOURCE_CONFIG",m="GEONODE:LOADING_RESOURCE_CONFIG",D="GEONODE:RESET_RESOURCE_STATE",_="GEONODE:RESOURCE_CONFIG_ERROR",g="GEONODE:SET_RESOURCE_COMPACT_PERMISSIONS",R="GEONODE:UPDATE_RESOURCE_COMPACT_PERMISSIONS",T="GEONODE:RESET_GEO_LIMITS",h="GEONODE:PROCESS_RESOURCES",N="GEONODE_SET_RESOURCE_THUMBNAIL",C="GEONODE_ENABLE_MAP_THUMBNAIL_VIEWER",U="GEONODE_DOWNLOAD_RESOURCE",I="GEONODE_DOWNLOAD_COMPLETE",G="GEONODE_UPDATE_SINGLE_RESOURCE";function w(){return{type:r}}function A(t,e){return{type:o,data:t,pending:e}}function M(t){return{type:G,data:t}}function b(t){return{type:d,title:t}}function P(t){return{type:f,abstract:t}}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false";return{type:l,thumbnailUrl:t,thumbnailChanged:e}}function L(){return{type:N}}function B(t){return{type:a,resourceType:t}}function H(t){return{type:u,error:t}}function x(t){return{type:i,properties:t}}function k(){return{type:c}}function j(t){return{type:E,id:t}}function Q(t){return{type:y,permissions:t}}function W(t){return{type:O,favorite:t}}function V(t){return{type:C,enabled:t}}function Z(t){return{type:p,bbox:t}}function $(t,e,n){return{type:S,resourceType:t,pk:e,options:n}}function q(t){return{type:v,resourceType:t}}function Y(t){return{type:m,loading:t}}function J(t){return{type:_,message:t}}function X(){return{type:D}}function z(t){return{type:g,compactPermissions:t}}function K(t){return{type:R,compactPermissions:t}}function tt(){return{type:T}}function et(t,e,n){return{type:h,processType:t,resources:e,redirectTo:n}}function nt(t){return{type:U,resource:t}}function rt(t){return{type:I,resource:t}}},489514:(t,e,n)=>{"use strict";n.d(e,{B9:()=>l,dl:()=>O,jg:()=>p});var r=n(375875),o=n.n(r),u=n(686),i=n(169141),a=n(455877),c=n.n(a),E=new u.Z,s=new i.Z;function d(t){try{var e=t.features.reduce((function(t,e){var n;return"Polygon"===(null==e||null===(n=e.geometry)||void 0===n?void 0:n.type)&&t.geometry.coordinates.push(e.geometry.coordinates),t}),{type:"Feature",properties:{},geometry:{type:"MultiPolygon",coordinates:[]}}),n=s.readFeatures(e);return E.writeFeatures(n)}catch(t){return{}}}function f(t){try{var e,n,r=E.readFeatures(t),o=JSON.parse(s.writeFeatures(r)),u=null==o||null===(e=o.features)||void 0===e?void 0:e[0];return{type:"FeatureCollection",features:((null==u||null===(n=u.geometry)||void 0===n?void 0:n.coordinates)||[]).map((function(t){var e=c()();return{type:"Feature",properties:{id:e},id:e,geometry:{type:"Polygon",coordinates:t}}}))}}catch(t){return{type:"FeatureCollection",features:[]}}}var l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";return o().get("/security/geolimits/".concat(t,"?").concat(n,"_id=").concat(e)).then((function(t){return f(t.data)}))},O=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",r=arguments.length>3?arguments[3]:void 0,u=d(r);return o().post("/security/geolimits/".concat(t,"?").concat(n,"_id=").concat(e),u).then((function(t){return t.data}))},p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";return o().delete("/security/geolimits/".concat(t,"?").concat(n,"_id=").concat(e)).then((function(t){return t.data}))}}}]);