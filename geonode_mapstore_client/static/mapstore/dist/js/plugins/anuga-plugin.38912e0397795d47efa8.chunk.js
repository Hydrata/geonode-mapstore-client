(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[44995],{643892:(e,n,t)=>{"use strict";t.d(n,{W:()=>r,Zf:()=>o,Eu:()=>a,Vy:()=>i,YB:()=>l,xm:()=>u,_f:()=>c,ek:()=>s,cd:()=>p,pt:()=>d,ww:()=>f,tR:()=>g,Js:()=>m,p2:()=>h,ZH:()=>y,eQ:()=>v,ql:()=>b,$X:()=>E,nS:()=>w,ih:()=>S,J5:()=>A,uA:()=>x,Pv:()=>O,_Z:()=>N,dh:()=>T,IH:()=>R,e3:()=>k,Oq:()=>C,Q$:()=>M,DF:()=>P,id:()=>_,Br:()=>I,bI:()=>j,U5:()=>L,e5:()=>D,b3:()=>G,mN:()=>B,QN:()=>F,HV:()=>U,xe:()=>z,vA:()=>V,gw:()=>H,qs:()=>Q,CB:()=>W,vg:()=>Z,Z0:()=>Y,lf:()=>q,jQ:()=>X,nk:()=>$,X7:()=>J,nO:()=>K,F4:()=>ee,EU:()=>ne,Rk:()=>te,V1:()=>re});var r="GEONODE:RESOURCE_LOADING",o="GEONODE:SET_RESOURCE",a="GEONODE:RESOURCE_ERROR",i="GEONODE:UPDATE_RESOURCE_PROPERTIES",l="GEONODE:SET_RESOURCE_TYPE",u="GEONODE:SET_NEW_RESOURCE",c="GEONODE:SET_RESOURCE_ID",s="GEONODE:SET_RESOURCE_PERMISSIONS",p="GEONODE:EDIT_TITLE_RESOURCE",d="GEONODE:EDIT_ABSTRACT_RESOURCE",f="GEONODE:EDIT_THUMBNAIL_RESOURCE",g="GEONODE:SET_FAVORITE_RESOURCE",m="GEONODE:SET_MAP_THUMBNAIL",h="GEONODE:SET_SELECTED_DATASET_PERMISSIONS",y="GEONODE:REQUEST_RESOURCE_CONFIG",v="GEONODE:REQUEST_NEW_RESOURCE_CONFIG",b="GEONODE:LOADING_RESOURCE_CONFIG",E="GEONODE:RESET_RESOURCE_STATE",w="GEONODE:RESOURCE_CONFIG_ERROR",S="GEONODE:SET_RESOURCE_COMPACT_PERMISSIONS",A="GEONODE:UPDATE_RESOURCE_COMPACT_PERMISSIONS",x="GEONODE:RESET_GEO_LIMITS",O="GEONODE:PROCESS_RESOURCES",N="GEONODE_SET_RESOURCE_THUMBNAIL",T="GEONODE_ENABLE_MAP_THUMBNAIL_VIEWER",R="GEONODE_DOWNLOAD_RESOURCE",k="GEONODE_DOWNLOAD_COMPLETE",C="GEONODE_UPDATE_SINGLE_RESOURCE";function M(){return{type:r}}function P(e,n){return{type:o,data:e,pending:n}}function _(e){return{type:C,data:e}}function I(e){return{type:p,title:e}}function j(e){return{type:d,abstract:e}}function L(e){return{type:f,thumbnailUrl:e,thumbnailChanged:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false"}}function D(){return{type:N}}function G(e){return{type:l,resourceType:e}}function B(e){return{type:a,error:e}}function F(e){return{type:i,properties:e}}function U(){return{type:u}}function z(e){return{type:c,id:e}}function V(e){return{type:h,permissions:e}}function H(e){return{type:g,favorite:e}}function Q(e){return{type:T,enabled:e}}function W(e){return{type:m,bbox:e}}function Z(e,n,t){return{type:y,resourceType:e,pk:n,options:t}}function Y(e){return{type:v,resourceType:e}}function q(e){return{type:b,loading:e}}function X(e){return{type:w,message:e}}function $(){return{type:E}}function J(e){return{type:S,compactPermissions:e}}function K(e){return{type:A,compactPermissions:e}}function ee(){return{type:x}}function ne(e,n,t){return{type:O,processType:e,resources:n,redirectTo:t}}function te(e){return{type:R,resource:e}}function re(e){return{type:k,resource:e}}},73443:(e,n,t)=>{"use strict";t.d(n,{rs:()=>r,AY:()=>o,SW:()=>a,yB:()=>i,oG:()=>l,oz:()=>u,id:()=>c,gc:()=>s,cE:()=>p,rG:()=>d,Vj:()=>f,nY:()=>g});var r="GEONODE:SAVING_RESOURCE",o="GEONODE:SAVE_SUCCESS",a="GEONODE:SAVE_ERROR",i="GEONODE:CLEAR_SAVE",l="GEONODE:SAVE_CONTENT",u="GEONODE:SAVE_DIRECT_CONTENT";function c(){return{type:r}}function s(e){return{type:o,success:e}}function p(e){return{type:a,error:e}}function d(){return{type:i}}function f(e,n,t,r){return{type:l,id:e,metadata:n,reload:t,showNotifications:r}}function g(){return{type:u}}},185255:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>_e});var r=t(322843),o=t(375501),a=t(124852),i=t.n(a),l=t(171703),u=t(368658),c=t(926036),s=t(480681),p=t(893379),d=t.n(p),f=t(273454);d()(f.Z,{insert:"head",singleton:!1}),f.Z.locals,t(472619);var g=t(351288),m=t(388380),h=t(427995);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function b(e,n){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},b(e,n)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function w(e,n,t){return(n=S(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e){var n=function(e,n){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(n)?n:String(n)}var A=t(675263),x=t(472986),O=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&b(e,n)}(l,e);var n,t,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=E(r);if(o){var t=E(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===y(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,e)).state={showAdvanced:!1,boundaryTitle:"",frictionTitle:"",inflowTitle:"",structureTitle:"",meshRegionTitle:"",networkTitle:"",catchmentTitle:"",nodesTitle:"",linksTitle:""},n}return n=l,(t=[{key:"componentDidMount",value:function(){this.props.startAnugaModelCreationPolling(),this.props.startAnugaElevationPolling()}},{key:"componentWillUnmount",value:function(){this.props.stopAnugaModelCreationPolling(),this.props.stopAnugaElevationPolling()}},{key:"render",value:function(){var e,n,t,r,o,a,l,u,c,p,d,f,g,y,v,b,E,w,S=this;return i().createElement("div",{id:"anuga-input-menu",className:"simple-view-panel",style:{top:"70px",width:"560px"}},i().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},i().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},i().createElement("span",{className:"menu-row-text"},"Elevations"),i().createElement(s.OverlayTrigger,{placement:"right",overlay:i().createElement(s.Tooltip,null,"Upload a new *.tiff elevation")},i().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){S.props.setVisibleUploaderPanel(!0,"elevation",null),S.props.startAnugaElevationPolling()}}))),null===(e=this.props.elevationLayers)||void 0===e?void 0:e.map((function(e){return i().createElement(m.j,{layer:e})})),0===(null===(n=this.props.elevationLayers)||void 0===n?void 0:n.length)?i().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"No elevations available"):null),null!==(t=this.props.projectData)&&void 0!==t&&t.projection?i().createElement(i().Fragment,null,i().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},i().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},i().createElement("span",{className:"pull-left menu-row-text"},"Boundaries"),this.props.canEditAnugaMap?i().createElement(i().Fragment,null,i().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.boundaryTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaBoundary(S.state.boundaryTitle),S.setState({boundaryTitle:""})}}),this.props.isCreatingAnugaLayer?i().createElement("span",null,i().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):i().createElement("input",{id:"boundary-input",key:"boundary-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.boundaryTitle,onChange:function(e){return S.setState({boundaryTitle:e.target.value})}})):null),null===(r=this.props.boundaryLayers)||void 0===r?void 0:r.map((function(e){return i().createElement(m.j,{layer:e})})),0===(null===(o=this.props.boundaryLayers)||void 0===o?void 0:o.length)?i().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),i().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},i().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},i().createElement("span",{className:"pull-left menu-row-text"},"Inflows"),this.props.canEditAnugaMap?i().createElement(i().Fragment,null,i().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.inflowTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaInflow(S.state.inflowTitle),S.setState({inflowTitle:""})}}),this.props.isCreatingAnugaLayer?i().createElement("span",null,i().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):i().createElement("input",{id:"inflow-input",key:"inflow-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.inflowTitle,onChange:function(e){return S.setState({inflowTitle:e.target.value})}})):null),null===(a=this.props.inflowLayers)||void 0===a?void 0:a.map((function(e){return i().createElement(m.j,{layer:e})})),0===(null===(l=this.props.inflowLayers)||void 0===l?void 0:l.length)?i().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),i().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},i().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},i().createElement("span",{className:"pull-left menu-row-text"},"Advanced"),i().createElement("span",{className:"btn glyphicon menu-row-glyph ".concat(this.state.showAdvanced?"glyphicon-chevron-down":"glyphicon-chevron-right"),style:{color:"#325f93",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.setState((function(e){return{showAdvanced:!e.showAdvanced}}))}}))),this.state.showAdvanced?i().createElement("div",{id:"advancedInputs"},i().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},i().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},i().createElement("span",{className:"pull-left menu-row-text"},"Full Mesh")),null===(u=this.props.fullMeshLayers)||void 0===u?void 0:u.map((function(e){return i().createElement(m.j,{layer:e})})),0===(null===(c=this.props.fullMeshLayers)||void 0===c?void 0:c.length)?i().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"Mesh will appear here when a Scenario is built."):null),i().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},i().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},i().createElement("span",{className:"pull-left menu-row-text"},"Mesh Regions"),this.props.canEditAnugaMap?i().createElement(i().Fragment,null,i().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.meshRegionTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaMeshRegion(S.state.meshRegionTitle),S.setState({meshRegionTitle:""})}}),this.props.isCreatingAnugaLayer?i().createElement("span",null,i().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):i().createElement("input",{id:"mesh-region-input",key:"mesh-region-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.meshRegionTitle,onChange:function(e){return S.setState({meshRegionTitle:e.target.value})}})):null),null===(p=this.props.meshRegionLayers)||void 0===p?void 0:p.map((function(e){return i().createElement(m.j,{layer:e})})),0===(null===(d=this.props.meshRegionLayers)||void 0===d?void 0:d.length)?i().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),i().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},i().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},i().createElement("span",{className:"pull-left menu-row-text"},"Friction Maps"),this.props.canEditAnugaMap?i().createElement(i().Fragment,null,i().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.frictionTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaFriction(S.state.frictionTitle),S.setState({frictionTitle:""})}}),this.props.isCreatingAnugaLayer?i().createElement("span",null,i().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):i().createElement("input",{id:"friction-input",key:"friction-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.frictionTitle,onChange:function(e){return S.setState({frictionTitle:e.target.value})}})):null),null===(f=this.props.frictionLayers)||void 0===f?void 0:f.map((function(e){return i().createElement(m.j,{layer:e})})),0===(null===(g=this.props.frictionLayers)||void 0===g?void 0:g.length)?i().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),i().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},i().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},i().createElement("span",{className:"pull-left menu-row-text"},"Structures"),this.props.canEditAnugaMap?i().createElement(i().Fragment,null,i().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.structureTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaStructure(S.state.structureTitle),S.setState({structureTitle:""})}}),this.props.isCreatingAnugaLayer?i().createElement("span",null,i().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):i().createElement("input",{id:"structure-input",key:"structure-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.structureTitle,onChange:function(e){return S.setState({structureTitle:e.target.value})}})):null),null===(y=this.props.structureLayers)||void 0===y?void 0:y.map((function(e){return i().createElement(m.j,{layer:e})})),0===(null===(v=this.props.structureLayers)||void 0===v?void 0:v.length)?i().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),i().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},i().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},i().createElement("span",{className:"pull-left menu-row-text",style:{marginTop:"4px"}},"Networks"),i().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-cog",style:{color:"#325f93",fontSize:"smaller",textAlign:"right",marginLeft:"8px",float:"left"},onClick:function(){S.props.setNetworkMenu(!0),S.props.setAnugaInputMenu(!1)}}),this.props.canEditAnugaMap?i().createElement(i().Fragment,null,i().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.networkTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createNetwork(S.state.networkTitle),S.setState({networkTitle:""})}}),this.props.isCreatingAnugaLayer?i().createElement("span",null,i().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):i().createElement("input",{id:"network-input",key:"network-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.networkTitle,onChange:function(e){return S.setState({networkTitle:e.target.value})}})):null),i().createElement("div",null,i().createElement("div",{className:"menu-row-mini-container"},i().createElement("p",{className:"menu-row-mini-heading"},"Catchments"),null===(b=this.props.catchmentLayers)||void 0===b?void 0:b.map((function(e){return i().createElement(m.j,{layer:e})}))),i().createElement("div",{className:"menu-row-mini-container"},i().createElement("p",{className:"menu-row-mini-heading"},"Nodes"),null===(E=this.props.nodesLayers)||void 0===E?void 0:E.map((function(e){return i().createElement(m.j,{layer:e})}))),i().createElement("div",{className:"menu-row-mini-container"},i().createElement("p",{className:"menu-row-mini-heading"},"Links"),null===(w=this.props.linksLayers)||void 0===w?void 0:w.map((function(e){return i().createElement(m.j,{layer:e})})))))):null):null,i().createElement(h.h,{fileType:"elevation"}))}}])&&v(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),l}(i().Component);w(O,"propTypes",{projectData:A.object,setVisibleUploaderPanel:A.func,anugaGroupLength:A.number,elevationLayers:A.array,boundaryLayers:A.array,createAnugaBoundary:A.func,createAnugaFriction:A.func,createAnugaInflow:A.func,createAnugaStructure:A.func,createAnugaMeshRegion:A.func,createNetwork:A.func,createCatchment:A.func,createNodes:A.func,createLinks:A.func,frictionLayers:A.array,inflowLayers:A.array,structureLayers:A.array,fullMeshLayers:A.array,meshRegionLayers:A.array,catchmentLayers:A.array,nodesLayers:A.array,linksLayers:A.array,startAnugaElevationPolling:A.func,stopAnugaElevationPolling:A.func,startAnugaModelCreationPolling:A.func,stopAnugaModelCreationPolling:A.func,isCreatingAnugaLayer:A.bool,setCreatingAnugaLayer:A.func,canEditAnugaMap:A.func,addAnugaBoundary:A.func,addAnugaFriction:A.func,addAnugaInflow:A.func,addAnugaStructure:A.func,addAnugaFullMesh:A.func,addAnugaMeshRegion:A.func,addCatchment:A.func,addNodes:A.func,addLinks:A.func,networks:A.array,setNetworkMenu:A.func,boundaryModels:A.array,frictionModels:A.array,inflowModels:A.array,structureModels:A.array,fullMeshModels:A.array,meshRegionModels:A.array,catchmentModels:A.array,nodesModels:A.array,linksModels:A.array,setAnugaInputMenu:A.func}),w(O,"defaultProps",{});var N=(0,l.connect)((function(e){var n,t,r,o,a,i,l,u,s,p,d,f,g,m,h,y,v,b,E,w,S,A,x,O,N,T,R,k,C,M,P,_,I,j;return{projectData:null==e||null===(n=e.anuga)||void 0===n?void 0:n.projectData,elevationLayers:null==e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(e){return"Input Data.Elevations"===(null==e?void 0:e.group)})),boundaryLayers:null==e||null===(o=e.layers)||void 0===o||null===(a=o.flat)||void 0===a?void 0:a.filter((function(e){return"Input Data.Boundaries"===(null==e?void 0:e.group)})),inflowLayers:null==e||null===(i=e.layers)||void 0===i||null===(l=i.flat)||void 0===l?void 0:l.filter((function(e){return"Input Data.Inflows"===(null==e?void 0:e.group)})),frictionLayers:null==e||null===(u=e.layers)||void 0===u||null===(s=u.flat)||void 0===s?void 0:s.filter((function(e){return"Input Data.Friction Maps"===(null==e?void 0:e.group)})),structureLayers:null==e||null===(p=e.layers)||void 0===p||null===(d=p.flat)||void 0===d?void 0:d.filter((function(e){return"Input Data.Structures"===(null==e?void 0:e.group)})),fullMeshLayers:null==e||null===(f=e.layers)||void 0===f||null===(g=f.flat)||void 0===g?void 0:g.filter((function(e){return"Input Data.Full Mesh"===(null==e?void 0:e.group)})),meshRegionLayers:null==e||null===(m=e.layers)||void 0===m||null===(h=m.flat)||void 0===h?void 0:h.filter((function(e){return"Input Data.Mesh Regions"===(null==e?void 0:e.group)})),networkLayers:null==e||null===(y=e.layers)||void 0===y||null===(v=y.flat)||void 0===v?void 0:v.filter((function(e){return"Input Data.Networks"===(null==e?void 0:e.group)})),catchmentLayers:null==e||null===(b=e.layers)||void 0===b||null===(E=b.flat)||void 0===E?void 0:E.filter((function(e){return"Input Data.Catchments"===(null==e?void 0:e.group)})),nodesLayers:null==e||null===(w=e.layers)||void 0===w||null===(S=w.flat)||void 0===S?void 0:S.filter((function(e){return"Input Data.Nodes"===(null==e?void 0:e.group)})),linksLayers:null==e||null===(A=e.layers)||void 0===A||null===(x=A.flat)||void 0===x?void 0:x.filter((function(e){return"Input Data.Links"===(null==e?void 0:e.group)})),elevationModels:null==e||null===(O=e.anuga)||void 0===O?void 0:O.elevations,boundaryModels:null==e||null===(N=e.anuga)||void 0===N?void 0:N.boundaries,inflowModels:null==e||null===(T=e.anuga)||void 0===T?void 0:T.inflows,frictionModels:null==e||null===(R=e.anuga)||void 0===R?void 0:R.frictions,structureModels:null==e||null===(k=e.anuga)||void 0===k?void 0:k.structures,fullMeshModels:null==e||null===(C=e.anuga)||void 0===C?void 0:C.fullMeshes,meshRegionModels:null==e||null===(M=e.anuga)||void 0===M?void 0:M.meshRegions,catchmentModels:null==e||null===(P=e.anuga)||void 0===P?void 0:P.catchments,nodesModels:null==e||null===(_=e.anuga)||void 0===_?void 0:_.nodes,linksModels:null==e||null===(I=e.anuga)||void 0===I?void 0:I.links,isCreatingAnugaLayer:null==e||null===(j=e.anuga)||void 0===j?void 0:j.isCreatingAnugaLayer,canEditAnugaMap:(0,c.Dh)(e)}}),(function(e){return{addAnugaBoundary:function(){return e((0,u.addAnugaBoundary)())},addAnugaFriction:function(){return e((0,u.addAnugaFriction)())},addAnugaInflow:function(){return e((0,u.addAnugaInflow)())},addAnugaStructure:function(){return e((0,u.addAnugaStructure)())},addAnugaFullMesh:function(){return e((0,u.addAnugaFullMesh)())},addAnugaMeshRegion:function(){return e((0,u.addAnugaMeshRegion)())},addCatchment:function(){return e((0,u.addCatchment)())},setNetworkMenu:function(n){return e((0,u.setNetworkMenu)(n))},setAnugaInputMenu:function(n){return e((0,u.setAnugaInputMenu)(n))},addNetwork:function(){return e((0,u.addNetwork)())},addNodes:function(){return e((0,u.addNodes)())},addLinks:function(){return e((0,u.addLinks)())},startAnugaElevationPolling:function(){return e((0,u.startAnugaElevationPolling)())},stopAnugaElevationPolling:function(){return e((0,u.stopAnugaElevationPolling)())},startAnugaModelCreationPolling:function(){return e((0,u.startAnugaModelCreationPolling)())},stopAnugaModelCreationPolling:function(){return e((0,u.stopAnugaModelCreationPolling)())},setVisibleUploaderPanel:function(n,t,r){return e((0,g.setVisibleUploaderPanel)(n,t,r))},setCreatingAnugaLayer:function(n){return e((0,u.setCreatingAnugaLayer)(n))},createAnugaBoundary:function(n){return e((0,u.createAnugaBoundary)(n))},createAnugaInflow:function(n){return e((0,u.createAnugaInflow)(n))},createAnugaStructure:function(n){return e((0,u.createAnugaStructure)(n))},createAnugaFriction:function(n){return e((0,u.createAnugaFriction)(n))},createAnugaMeshRegion:function(n){return e((0,u.createAnugaMeshRegion)(n))},createNetwork:function(n){return e((0,u.createNetwork)(n))}}}))(O);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function R(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,n){if(e){if("string"==typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(e,n):void 0}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function M(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function P(e,n){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},P(e,n)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function j(e,n,t){return(n=L(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function L(e){var n=function(e,n){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(n)?n:String(n)}var D=t(675263),G=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&P(e,n)}(l,e);var n,t,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=I(r);if(o){var t=I(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===T(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function l(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),j(_(n=a.call(this,e)),"getSecondsFromHHMM",(function(e){console.log("userInputValue",e);var n,t,r=(n=e.split(":"),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],u=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(n,t)||k(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],i=Number(o),l=Number(a);return console.log("hoursNumber",i),console.log("minutesNumber",l),!isNaN(i)&&isNaN(l)?(console.log("returning:",60*i),60*i):isNaN(i)||isNaN(l)?0:(console.log("returning:",60*(60*i+l)),60*(60*i+l))})),j(_(n),"findScenarioStatus",(function(e){var n;return(null!=e&&e.latest_run_is_valid||"building server"!==e.status)&&(null!=e&&e.latest_run_is_valid||"error"===(null==e||null===(n=e.latest_run)||void 0===n?void 0:n.status))?e.latest_run.status:e.status})),j(_(n),"handleTextChange",(function(e,t){var r={};r[e.target.id]=e.target.value,n.props.updateAnugaScenario(t,r)})),j(_(n),"handleBoolChange",(function(e,t){var r={};r[e.target.id]=!t[e.target.id],n.props.updateAnugaScenario(t,r)})),j(_(n),"handleIntChange",(function(e,t){var r={};r[e.target.id]=parseInt(e.target.value,10),n.props.updateAnugaScenario(t,r)})),j(_(n),"handleNumberChange",(function(e,t){var r={};r[e.target.id]=parseFloat(e.target.value),n.props.updateAnugaScenario(t,r)})),j(_(n),"toHHMM",(function(e){if(!e)return"hh:mm";var n=parseInt(e.toString(),10);return[Math.floor(n/3600),Math.floor(n/60)%60,n%60].map((function(e){return e<10?"0".concat(e):e})).filter((function(e,n){return"00"!==e||n>0})).join(":").replace(/^0/,"").slice(0,-3)})),j(_(n),"handleTimeChange",(function(e,t){var r={tempTimeString:e.target.value};n.props.updateAnugaScenario(t,r)})),j(_(n),"handleTimeBlur",(function(e,t){var r=e.target.value;console.log("targetValue",r);var o=Math.max(0,n.getSecondsFromHHMM(r));console.log("seconds",o);var a={};a[e.target.id]=o,delete a.tempTimeString,n.props.updateAnugaScenario(t,a)})),n.state={scenarioTableTabs:["manage","compare"]},n.handleTextChange=n.handleTextChange.bind(_(n)),n.handleBoolChange=n.handleBoolChange.bind(_(n)),n.handleIntChange=n.handleIntChange.bind(_(n)),n.handleTimeChange=n.handleTimeChange.bind(_(n)),n.handleTimeBlur=n.handleTimeBlur.bind(_(n)),n}return n=l,(t=[{key:"render",value:function(){var e,n,t,r,o,a,l=this;return i().createElement("div",{id:"anuga-scenario-menu",className:"simple-view-panel",style:{top:"70px"}},i().createElement("div",{className:"menu-rows-container"},i().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},"Scenarios",i().createElement("span",{id:"scenario-tab-button-group"},i().createElement(s.Button,{bsSize:"medium",style:{margin:"2px 0 -17px 20px",borderRadius:"6px 6px 0 0",color:this.state.scenarioTableTabs.includes("manage")?"#3363a0":"white",backgroundColor:this.state.scenarioTableTabs.includes("manage")?"white":"#6085b5"},onClick:function(){return l.state.scenarioTableTabs.includes("manage")?l.setState((function(e){return{scenarioTableTabs:R(e.scenarioTableTabs.filter((function(e,n){return"manage"!==e})))}})):l.setState((function(e){return{scenarioTableTabs:[].concat(R(e.scenarioTableTabs),["manage"])}}))}},"Manage"),i().createElement(s.Button,{bsSize:"medium",style:{margin:"2px 0 -17px 8px",borderRadius:"6px 6px 0 0",color:this.state.scenarioTableTabs.includes("advanced")?"#3363a0":"white",backgroundColor:this.state.scenarioTableTabs.includes("advanced")?"white":"#6085b5"},onClick:function(){return l.state.scenarioTableTabs.includes("advanced")?l.setState((function(e){return{scenarioTableTabs:R(e.scenarioTableTabs.filter((function(e,n){return"advanced"!==e})))}})):l.setState((function(e){return{scenarioTableTabs:[].concat(R(e.scenarioTableTabs),["advanced"])}}))}},"Advanced"),i().createElement(s.Button,{bsSize:"medium",style:{margin:"2px 0 -17px 8px",borderRadius:"6px 6px 0 0",color:this.state.scenarioTableTabs.includes("compare")?"#3363a0":"white",backgroundColor:this.state.scenarioTableTabs.includes("compare")?"white":"#6085b5"},onClick:function(){return l.state.scenarioTableTabs.includes("compare")?l.setState((function(e){return{scenarioTableTabs:R(e.scenarioTableTabs.filter((function(e,n){return"compare"!==e})))}})):l.setState((function(e){return{scenarioTableTabs:[].concat(R(e.scenarioTableTabs),["compare"])}}))}},"Compare")),i().createElement("span",{id:"new-scenario-button"},i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){l.props.addAnugaScenario()}},"New Scenario")),i().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){l.props.setAnugaScenarioMenu(!1),l.props.stopAnugaScenarioPolling()}})),i().createElement(s.Table,{className:"scenario-table"},i().createElement("thead",null,i().createElement("tr",{className:"scenario-table-header"},i().createElement("th",null,"Id"),i().createElement("th",null,"Name"),null!==(e=this.state.scenarioTableTabs)&&void 0!==e&&e.includes("manage")?i().createElement(i().Fragment,null,i().createElement("th",null,"Elevation"),i().createElement("th",null,"Boundary"),i().createElement("th",null,"Inflow")):null,null!==(n=this.state.scenarioTableTabs)&&void 0!==n&&n.includes("advanced")?i().createElement(i().Fragment,null,i().createElement("th",null,"Friction Map"),i().createElement("th",null,"Structures"),i().createElement("th",null,"Mesh Regions"),i().createElement("th",null,"Network"),null!==(t=this.state.scenarioTableTabs)&&void 0!==t&&t.includes("manage")?null:i().createElement("th",null)):null,null!==(r=this.state.scenarioTableTabs)&&void 0!==r&&r.includes("manage")?i().createElement(i().Fragment,null,i().createElement("th",null,"Resolution(m2)"),i().createElement("th",null,"Duration"),i().createElement("th",null,"Status"),i().createElement("th",null),i().createElement("th",null),i().createElement("th",null),i().createElement("th",null)):null,null!==(o=this.state.scenarioTableTabs)&&void 0!==o&&o.includes("compare")?i().createElement(i().Fragment,null,i().createElement("th",null,i().createElement("span",{id:"depth-difference-button"},i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",className:this.props.readyToCompare?"":"disabled",style:{margin:"2px",borderRadius:"2px"},onClick:function(){l.props.compareScenarios(l.props.selectedScenarios)}},"Compare")))):null)),i().createElement("tbody",null,null===(a=this.props.scenarios)||void 0===a?void 0:a.map((function(e){var n,t,r,o,a,u,c,p,d,f,g,m;return i().createElement("tr",{className:"scenario-table-row"},i().createElement("td",null,e.id),i().createElement("td",null,i().createElement("input",{id:"name",key:"name-".concat(e.id),type:"text",className:"scenario-input",value:e.name,onChange:function(n){return l.handleTextChange(n,e)}})),null!==(n=l.state.scenarioTableTabs)&&void 0!==n&&n.includes("manage")?i().createElement(i().Fragment,null,i().createElement("td",null,i().createElement("select",{id:"elevation",key:"elevation-".concat(e.id),value:null==e?void 0:e.elevation,className:"scenario-select",onChange:function(n){return l.handleIntChange(n,e)}},i().createElement("option",{value:""},"-"),null===(t=l.props.elevations)||void 0===t?void 0:t.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),i().createElement("td",null,i().createElement("select",{id:"boundary",key:"boundary-".concat(e.id),value:null==e?void 0:e.boundary,className:"scenario-select",onChange:function(n){return l.handleIntChange(n,e)}},i().createElement("option",{value:""},"-"),null===(r=l.props.boundaries)||void 0===r?void 0:r.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),i().createElement("td",null,i().createElement("select",{id:"inflow",key:"inflow-".concat(e.id),value:null==e?void 0:e.inflow,className:"scenario-select",onChange:function(n){return l.handleIntChange(n,e)}},i().createElement("option",{value:""},"-"),null===(o=l.props.inflows)||void 0===o?void 0:o.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)}))))):null,null!==(a=l.state.scenarioTableTabs)&&void 0!==a&&a.includes("advanced")?i().createElement(i().Fragment,null,i().createElement("td",null,i().createElement("select",{id:"friction",key:"friction-".concat(e.id),value:null==e?void 0:e.friction,className:"scenario-select",onChange:function(n){return l.handleIntChange(n,e)}},i().createElement("option",{value:""},"-"),null===(u=l.props.frictions)||void 0===u?void 0:u.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),i().createElement("td",null,i().createElement("select",{id:"structure",key:"structure-".concat(e.id),value:null==e?void 0:e.structure,className:"scenario-select",onChange:function(n){return l.handleIntChange(n,e)}},i().createElement("option",{value:""},"-"),null===(c=l.props.structures)||void 0===c?void 0:c.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),i().createElement("td",null,i().createElement("select",{id:"mesh_region",key:"meshRegion-".concat(e.id),value:null==e?void 0:e.mesh_region,className:"scenario-select",onChange:function(n){return l.handleIntChange(n,e)}},i().createElement("option",{value:""},"-"),null===(p=l.props.meshRegions)||void 0===p?void 0:p.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),i().createElement("td",null,i().createElement("select",{id:"network",key:"network-".concat(e.id),value:null==e?void 0:e.network,className:"scenario-select",onChange:function(n){return l.handleIntChange(n,e)}},i().createElement("option",{value:""},"-"),null===(d=l.props.networks)||void 0===d?void 0:d.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),null!==(f=l.state.scenarioTableTabs)&&void 0!==f&&f.includes("manage")?null:i().createElement("td",null,i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:e.unsaved?null:"disabled",onClick:function(){l.props.saveAnugaScenario(e),l.props.setOpenMenuGroupId(null)}},"Build"))):null,null!==(g=l.state.scenarioTableTabs)&&void 0!==g&&g.includes("manage")?i().createElement(i().Fragment,null,i().createElement("td",null,i().createElement("input",{id:"resolution",key:"resolution-".concat(e.id),type:"number",className:"scenario-input",style:{width:"80px"},value:null==e?void 0:e.resolution,onChange:function(n){return l.handleNumberChange(n,e)}})),i().createElement("td",null,i().createElement("input",{id:"duration",key:"duration-".concat(e.id),type:"text",className:"scenario-input",style:{width:"80px"},value:e.tempTimeString||l.toHHMM(e.duration),onChange:function(n){return l.handleTimeChange(n,e)},onBlur:function(n){return l.handleTimeBlur(n,e)}})),i().createElement("td",null,l.findScenarioStatus(e)),i().createElement("td",null,i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:e.unsaved?null:"disabled",onClick:function(){l.props.saveAnugaScenario(e),l.props.setOpenMenuGroupId(null)}},"Build")),i().createElement("td",null,function(n){switch(l.findScenarioStatus(e)){case"built":return i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){l.props.setAnugaScenarioMenu(!1),l.props.selectAnugaScenario(e),l.props.showAnugaRunMenu(!0)}},"Run");case"complete":return i().createElement(s.Button,{download:!0,href:null==e||null===(n=e.latest_run)||void 0===n?void 0:n.s3_package_url,bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"}},i().createElement("span",{className:"glyphicon glyphicon-download","aria-hidden":"true"}));default:return i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",className:"disabled",style:{margin:"2px",borderRadius:"2px"}},"Run")}}()),i().createElement("td",null,i().createElement(s.Button,{bsStyle:"info",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){l.props.selectAnugaScenario(e),l.props.showAnugaScenarioLog(e.id)}},"Log")),i().createElement("td",null,i().createElement(s.Button,{bsStyle:"danger",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px",backgroundColor:"#622b2b"},onClick:l.findScenarioStatus(e).includes("%")?function(){confirm("Cancel Run?")&&l.props.cancelAnugaRun(e)}:function(){confirm("Delete Scenario?")&&l.props.deleteAnugaScenario(e)}},i().createElement("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"})))):null,null!==(m=l.state.scenarioTableTabs)&&void 0!==m&&m.includes("compare")?i().createElement(i().Fragment,null,i().createElement("td",null,i().createElement("span",{className:"btn glyphicon menu-row-glyph "+(null!=e&&e.selected?"glyphicon-ok":"glyphicon-remove"),style:{color:null!=e&&e.selected?"limegreen":"red",fontSize:"10px"},onClick:function(){l.props.toggleScenarioSelected(e)}}))):null)}))))))}}])&&M(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),l}(i().Component);j(G,"propTypes",{anugaGroupLength:D.number,scenarios:D.array,boundaries:D.array,elevations:D.array,frictions:D.array,inflows:D.array,structures:D.array,meshRegions:D.array,networks:D.array,setOpenMenuGroupId:D.func,saveAnugaScenario:D.func,runAnugaScenario:D.func,updateAnugaScenario:D.func,selectAnugaScenario:D.func,showAnugaScenarioLog:D.func,setAnugaScenarioMenu:D.func,stopAnugaScenarioPolling:D.func,addAnugaScenario:D.func,deleteAnugaScenario:D.func,cancelAnugaRun:D.func,showAnugaRunMenu:D.func,toggleScenarioSelected:D.func,selectedScenarios:D.array,compareScenarios:D.func,readyToCompare:D.number}),j(G,"defaultProps",{});var B=(0,l.connect)((function(e){var n,t,r,o,a,i,l,u,s;return{scenarios:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.scenarios)||void 0===t?void 0:t.sort((function(e,n){return e.id-n.id})),selectedScenarios:(0,c.mn)(e),readyToCompare:2===(0,c.mn)(e).length,boundaries:null==e||null===(r=e.anuga)||void 0===r?void 0:r.boundaries,elevations:null==e||null===(o=e.anuga)||void 0===o?void 0:o.elevations,frictions:null==e||null===(a=e.anuga)||void 0===a?void 0:a.frictions,inflows:null==e||null===(i=e.anuga)||void 0===i?void 0:i.inflows,structures:null==e||null===(l=e.anuga)||void 0===l?void 0:l.structures,meshRegions:null==e||null===(u=e.anuga)||void 0===u?void 0:u.meshRegions,networks:null==e||null===(s=e.anuga)||void 0===s?void 0:s.networks}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,g.setOpenMenuGroupId)(n))},setAnugaScenarioMenu:function(n){return e((0,u.setAnugaScenarioMenu)(n))},runAnugaScenario:function(n){return e((0,u.runAnugaScenario)(n))},saveAnugaScenario:function(n){return e((0,u.saveAnugaScenario)(n))},updateAnugaScenario:function(n,t){return e((0,u.updateAnugaScenario)(n,t))},selectAnugaScenario:function(n){return e((0,u.selectAnugaScenario)(n))},showAnugaScenarioLog:function(n){return e((0,u.showAnugaScenarioLog)(n))},stopAnugaScenarioPolling:function(){return e((0,u.stopAnugaScenarioPolling)())},addAnugaScenario:function(){return e((0,u.addAnugaScenario)())},deleteAnugaScenario:function(n){return e((0,u.deleteAnugaScenario)(n))},cancelAnugaRun:function(n){return e((0,u.cancelAnugaRun)(n))},showAnugaRunMenu:function(n){return e((0,u.showAnugaRunMenu)(n))},toggleScenarioSelected:function(n){return e((0,u.toggleScenarioSelected)(n))},compareScenarios:function(n){return e((0,u.compareScenarios)(n))}}}))(G);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function z(e,n){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},z(e,n)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function H(e,n,t){return(n=Q(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Q(e){var n=function(e,n){if("object"!=F(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==F(n)?n:String(n)}var W=t(675263),Z=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&z(e,n)}(l,e);var n,t,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=V(r);if(o){var t=V(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===F(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,e)).state={figureTitle:""},n}return n=l,(t=[{key:"render",value:function(){var e,n=this;return i().createElement("div",{id:"publication-panel",className:"simple-view-panel",style:{top:"70px"}},i().createElement("div",{className:"menu-rows-container"},i().createElement("div",{className:"row",style:{height:"20px",textAlign:"left",fontSize:"large"}},i().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){n.props.setPublicationPanel(!1)}})),null===(e=this.props.publications)||void 0===e?void 0:e.map((function(e){var t,r;return i().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},i().createElement("span",{style:{lineHeight:"40px"}},"Publish: ",null==e||null===(t=e.geostory)||void 0===t?void 0:t.title),i().createElement(s.Button,{bsStyle:"success",bsSize:"xlarge",style:{marginTop:"4px",borderRadius:"2px",float:"right",display:"inlineBlock"},onClick:function(){var n;window.open(null==e||null===(n=e.geostory)||void 0===n?void 0:n.detail_url,"_blank")}},"Edit Publication"),i().createElement("h3",{style:{display:"inlineBlock"}},"Figures"),null==e||null===(r=e.figures)||void 0===r?void 0:r.map((function(e){return i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{borderRadius:"2px",marginTop:"5px",display:"block",width:"375px",textAlign:"left"},onClick:function(){window.open(null==e?void 0:e.detail_url,"_blank")}},null==e?void 0:e.title)})),i().createElement("div",{style:{borderTop:"2px solid #ffffffad",paddingTop:"15px",marginTop:"5px",marginBottom:"10px"}},i().createElement("input",{id:"figure-input",key:"figure-input",className:"data-title-input",style:{width:"375px",marginTop:"3px",marginRight:"5px",float:"left"},type:"text",value:n.state.figureTitle,onChange:function(e){return n.setState({figureTitle:e.target.value})}}),i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px",float:"left"},onClick:function(){n.props.createFigure(n.state.figureTitle,e.id),n.setState({networkTitle:""})}},"Create Figure")))}))))}}])&&U(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),l}(i().Component);H(Z,"propTypes",{publications:W.array,setPublicationPanel:W.func,createFigure:W.func,geonodeUrl:W.string,figureTitle:W.string}),H(Z,"defaultProps",{});var Y=(0,l.connect)((function(e){var n,t;return{publications:(null==e||null===(n=e.anuga)||void 0===n?void 0:n.publications)||[],geonodeUrl:null==e||null===(t=e.gnsettings)||void 0===t?void 0:t.geonodeUrl}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,g.setOpenMenuGroupId)(n))},setPublicationPanel:function(n){return e((0,u.setPublicationPanel)(n))},createFigure:function(n,t){return e((0,u.createFigure)(n,t))}}}))(Z);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function X(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function $(e,n){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},$(e,n)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function K(e,n,t){return(n=ee(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ee(e){var n=function(e,n){if("object"!=q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q(n)?n:String(n)}var ne=t(675263),te=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&$(e,n)}(l,e);var n,t,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=J(r);if(o){var t=J(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===q(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,e)).state={},n}return n=l,(t=[{key:"render",value:function(){var e,n=this;return i().createElement("div",{id:"anuga-scenario-log-viewer-container"},i().createElement("h5",{style:{marginLeft:"9px"}},"Scenario: ",null===(e=this.props.selectedScenario)||void 0===e?void 0:e.name,i().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return n.props.showAnugaScenarioLog(!1)}})),i().createElement("pre",{id:"anuga-scenario-log-viewer",style:{color:"white",background:"black"}},this.props.logText))}}])&&X(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),l}(i().Component);K(te,"propTypes",{selectedScenario:ne.object,showAnugaScenarioLog:ne.func,logText:ne.string}),K(te,"defaultProps",{});var re=(0,l.connect)((function(e){var n;return{selectedScenario:null==e||null===(n=e.anuga)||void 0===n?void 0:n.selectedScenario}}),(function(e){return{showAnugaScenarioLog:function(n){return e((0,u.showAnugaScenarioLog)(n))}}}))(te);function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,se(r.key),r)}}function ie(e,n){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},ie(e,n)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function ce(e,n,t){return(n=se(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function se(e){var n=function(e,n){if("object"!=oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oe(n)?n:String(n)}var pe=t(675263),de=(t(472986),function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ie(e,n)}(l,e);var n,t,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=ue(r);if(o){var t=ue(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===oe(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}(this,e)});function l(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),ce(le(n=a.call(this,e)),"handleTextChange",(function(e,t){var r={};r[e.target.id]=e.target.value,n.props.updateNetwork(t,r)})),ce(le(n),"handleBoolChange",(function(e,t){var r={};r[e.target.id]=!t[e.target.id],n.props.updateNetwork(t,r)})),ce(le(n),"handleIntChange",(function(e,t){var r={};r[e.target.id]=parseInt(e.target.value,10),n.props.updateNetwork(t,r)})),ce(le(n),"handleNumberChange",(function(e,t){var r={};r[e.target.id]=parseFloat(e.target.value),n.props.updateNetwork(t,r)})),n.state={},n}return n=l,(t=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,n=this;return i().createElement("div",{id:"anuga-network-container",className:"simple-view-panel",style:{top:"70px",height:"80%",width:"80%"}},i().createElement("div",{className:"menu-rows-container"},i().createElement("div",{className:"row menu-row-header"},i().createElement("h3",null,"Hydrology"),i().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){n.props.setNetworkMenu(!1)}}),i().createElement("div",null,i().createElement(s.Table,{className:"network-table"},i().createElement("thead",null,i().createElement("tr",{className:"network-table-header"},i().createElement("th",null,"Id"),i().createElement("th",null,"Name"),i().createElement("th",null,"Elevation"),i().createElement("th",null,"Nodes"),i().createElement("th",null,"Links"),i().createElement("th",null,"Method"),i().createElement("th",null,"Inflow Dataset",i().createElement("br",null),"to Store Results"),i().createElement("th",null))),i().createElement("tbody",null,null===(e=this.props.networks)||void 0===e?void 0:e.map((function(e){var t,r,o,a;return i().createElement("tr",{className:"scenario-table-row"},i().createElement("td",null,e.id),i().createElement("td",null,e.title),i().createElement("td",null,i().createElement("select",{id:"elevation",key:"elevation-".concat(e.id),value:null==e?void 0:e.elevation,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},i().createElement("option",{value:""},"-"),null===(t=n.props.elevations)||void 0===t?void 0:t.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),i().createElement("td",null,i().createElement("select",{id:"node",key:"node-".concat(e.id),value:null==e?void 0:e.node,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},i().createElement("option",{value:""},"-"),null===(r=n.props.nodes)||void 0===r?void 0:r.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),i().createElement("td",null,i().createElement("select",{id:"links",key:"links-".concat(e.id),value:null==e?void 0:e.links,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},i().createElement("option",{value:""},"-"),null===(o=n.props.links)||void 0===o?void 0:o.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),i().createElement("td",null,i().createElement("select",{id:"method",key:"method",value:"rational",className:"scenario-select"},i().createElement("option",{value:"rational"},"rational"))),i().createElement("td",null,i().createElement("select",{id:"inflow",key:"inflow-".concat(e.id),value:null==e?void 0:e.inflow,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},i().createElement("option",{value:""},"-"),null===(a=n.props.inflows)||void 0===a?void 0:a.map((function(e){return i().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),i().createElement("td",null,i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){n.props.runNetwork(e)}},"Run")))}))))))))}}])&&ae(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),l}(i().Component));ce(de,"propTypes",{setNetworkMenu:pe.func,updateNetwork:pe.func,runNetwork:pe.func,nodes:pe.array,links:pe.array,inflows:pe.array,elevations:pe.array,networks:pe.array}),ce(de,"defaultProps",{});var fe=(0,l.connect)((function(e){var n,t,r,o,a,i;return{networks:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.networks)||void 0===t?void 0:t.sort((function(e,n){return e.id-n.id})),elevations:null==e||null===(r=e.anuga)||void 0===r?void 0:r.elevations,nodes:null==e||null===(o=e.anuga)||void 0===o?void 0:o.nodes,links:null==e||null===(a=e.anuga)||void 0===a?void 0:a.links,inflows:null==e||null===(i=e.anuga)||void 0===i?void 0:i.inflows}}),(function(e){return{setNetworkMenu:function(n){return e((0,u.setNetworkMenu)(n))},updateNetwork:function(n,t){return e((0,u.updateNetwork)(n,t))},runNetwork:function(n){return e((0,u.runNetwork)(n))}}}))(de);function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function me(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,be(r.key),r)}}function he(e,n){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},he(e,n)}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}function ve(e,n,t){return(n=be(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function be(e){var n=function(e,n){if("object"!=ge(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ge(n)?n:String(n)}var Ee=t(675263),we=(t(472986),function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&he(e,n)}(l,e);var n,t,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=ye(r);if(o){var t=ye(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===ge(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),(n=a.call(this,e)).state={},n}return n=l,(t=[{key:"componentDidMount",value:function(){this.props.updateComputeInstance()}},{key:"render",value:function(){var e,n,t=this;return i().createElement("div",{id:"anuga-run-menu-container",className:"simple-view-panel",style:{top:"70px"}},i().createElement("div",{className:"menu-rows-container"},i().createElement("div",{className:"row menu-row-header"},i().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){t.props.showAnugaRunMenu(!1),t.props.setAnugaScenarioMenu(!0)}}),i().createElement("div",null,i().createElement(s.Table,{className:"run-server-table"},i().createElement("thead",null,i().createElement("tr",{className:"run-server-table-header"},i().createElement("th",{style:{width:"200px",textAlign:"left"}},"Run Scenario"),i().createElement("th",{style:{width:"100px"}},"Available Hours"),i().createElement("th",{style:{width:"80px"}},"Run"),i().createElement("th",{style:{width:"80px"}},"Download"))),i().createElement("tbody",null,i().createElement("tr",{className:"run-server-table-row",style:{marginTop:"15px"}},i().createElement("td",{style:{textAlign:"left"}},this.props.selectedScenario.name),i().createElement("td",null,"200"),i().createElement("td",null,i().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){t.props.runAnugaScenario(t.props.selectedScenario,0),t.props.showAnugaRunMenu(!1),t.props.showAnugaScenarioLog(t.props.selectedScenario.id),t.props.setAnugaScenarioMenu(!0)}},"Run")),i().createElement("td",null,i().createElement(s.Button,{download:!0,href:null===(e=this.props.selectedScenario)||void 0===e||null===(n=e.latest_run)||void 0===n?void 0:n.s3_package_url,bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"}},i().createElement("span",{className:"glyphicon glyphicon-download","aria-hidden":"true"}))))))))),i().createElement(s.Button,{bsStyle:"success",bsSize:"small",style:{margin:"10px",borderRadius:"2px"},onClick:function(){t.props.showManageAccount(!0),t.props.showAnugaRunMenu(!1)}},"Manage Account"))}}])&&me(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),l}(i().Component));ve(we,"propTypes",{visibleAnugaRunMenu:Ee.object,showAnugaRunMenu:Ee.func,updateComputeInstance:Ee.func,computeInstances:Ee.array,selectedScenario:Ee.object,runAnugaScenario:Ee.func,setAnugaScenarioMenu:Ee.func,showAnugaScenarioLog:Ee.func,showManageAccount:Ee.func}),ve(we,"defaultProps",{});var Se=(0,l.connect)((function(e){var n,t;return{selectedScenario:null==e||null===(n=e.anuga)||void 0===n?void 0:n.selectedScenario,computeInstances:null==e||null===(t=e.anuga)||void 0===t?void 0:t.computeInstances}}),(function(e){return{showAnugaRunMenu:function(n){return e((0,u.showAnugaRunMenu)(n))},updateComputeInstance:function(){return e((0,u.updateComputeInstance)())},runAnugaScenario:function(n,t){return e((0,u.runAnugaScenario)(n,t))},setAnugaScenarioMenu:function(n){return e((0,u.setAnugaScenarioMenu)(n))},showAnugaScenarioLog:function(n){return e((0,u.showAnugaScenarioLog)(n))},showManageAccount:function(n){return e((0,u.showManageAccount)(n))}}}))(we);function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function xe(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Re(r.key),r)}}function Oe(e,n){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},Oe(e,n)}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}function Te(e,n,t){return(n=Re(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Re(e){var n=function(e,n){if("object"!=Ae(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ae(n)?n:String(n)}var ke=t(675263),Ce=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Oe(e,n)}(l,e);var n,t,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Ne(r);if(o){var t=Ne(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===Ae(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this,e)}return n=l,(t=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.props.gnResourceLoaded&&!this.props.isAnugaProject&&(console.log("componentDidUpdate initing Anuga"),this.props.initAnuga())}},{key:"render",value:function(){var e,n=this;return this.props.isAnugaProject?i().createElement("div",{id:"anuga-container"},i().createElement("div",{id:"anuga-inputs"},i().createElement("button",{key:"anuga-input-button",className:"simple-view-menu-button",style:{left:120},onClick:function(){n.props.setAnugaInputMenu(!n.props.showAnugaInputMenu),n.props.setOpenMenuGroupId(null)}},"Inputs")),this.props.showAnugaInputMenu?i().createElement(N,null):null,this.props.canEditAnugaMap&&this.props.hasEPSGset?i().createElement("div",{id:"anuga-scenario"},i().createElement("button",{key:"anuga-scenario-button",className:"simple-view-menu-button",style:{left:220},onClick:function(){n.props.setAnugaScenarioMenu(!n.props.showAnugaScenarioMenu),n.props.showAnugaScenarioMenu?n.props.stopAnugaScenarioPolling():n.props.startAnugaScenarioPolling(),n.props.setOpenMenuGroupId(null)}},"Scenarios"),this.props.showAnugaScenarioMenu?i().createElement(B,null):null):null,this.props.canViewAnugaMap&&this.props.hasEPSGset?i().createElement("button",{id:"anugaContainer-results-button-01",key:"anugaContainer-".concat(null===(e=this.props.resultsGroup)||void 0===e?void 0:e.title),className:"simple-view-menu-button",style:{left:320},onClick:function(){n.props.setOpenMenuGroupId("Results")}},"Results"):null,this.props.canEditAnugaMap&&this.props.hasEPSGset?i().createElement("div",{id:"publication-panel-container"},i().createElement("button",{key:"publication-panel-button",className:"simple-view-menu-button disabled",style:{left:420},onClick:function(){n.props.setPublicationPanel(!n.props.showPublicationPanel),n.props.setOpenMenuGroupId(null)}},"Publish"),this.props.showPublicationPanel?i().createElement(Y,null):null):null,this.props.visibleAnugaScenarioLogId?i().createElement(re,{logText:this.props.logText}):null,this.props.visibleAnugaRunMenu?i().createElement(Se,null):null,this.props.showNetworkMenu?i().createElement(fe,null):null):null}}])&&xe(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),l}(i().Component);Te(Ce,"propTypes",{initAnuga:ke.func,showAnugaInputMenu:ke.bool,setAnugaInputMenu:ke.func,showAnugaScenarioMenu:ke.bool,setAnugaScenarioMenu:ke.func,showAnugaResultMenu:ke.bool,setAnugaResultMenu:ke.func,showNetworkMenu:ke.bool,setReviewPanel:ke.func,showReviewPanel:ke.bool,setPublicationPanel:ke.func,showPublicationPanel:ke.bool,isAnugaMenuOpen:ke.bool,openMenuGroupId:ke.string,numberOfMenus:ke.number,setOpenMenuGroupId:ke.func,showAddAnugaElevationData:ke.bool,setAddAnugaElevation:ke.func,visibleAnugaScenarioLogId:ke.number,startAnugaScenarioPolling:ke.func,stopAnugaScenarioPolling:ke.func,updateCustomEditorsOptions:ke.func,logText:ke.string,gnResourceLoaded:ke.string,visibleAnugaRunMenu:ke.bool,canEditAnugaMap:ke.bool,canViewAnugaMap:ke.bool,hasEPSGset:ke.bool,resultsGroup:ke.object,isAnugaProject:ke.bool}),Te(Ce,"defaultProps",{});const Me=(0,l.connect)((function(e){var n,t,r,o,a,i,l,u,s,p,d,f,g,m,h,y,v,b,E,w,S,A,x,O,N,T,R,k,C;return console.log("state for Anuga:",e),{logText:(null==e||null===(n=e.anuga)||void 0===n||null===(t=n.selectedScenario)||void 0===t?void 0:t.latest_run_is_valid)?(null==e||null===(r=e.anuga)||void 0===r||null===(o=r.selectedScenario)||void 0===o||null===(a=o.latest_run)||void 0===a?void 0:a.log)||"-":(null==e||null===(i=e.anuga)||void 0===i||null===(l=i.selectedScenario)||void 0===l?void 0:l.log)||"-",gnResourceLoaded:null==e||null===(u=e.gnresource)||void 0===u?void 0:u.id,isAnugaProject:null==e||null===(s=e.anuga)||void 0===s||null===(p=s.projectData)||void 0===p?void 0:p.id,hasEPSGset:!(null==e||null===(d=e.anuga)||void 0===d||null===(f=d.projectData)||void 0===f||!f.projection),showAnugaInputMenu:null==e||null===(g=e.anuga)||void 0===g?void 0:g.showAnugaInputMenu,showAnugaScenarioMenu:null==e||null===(m=e.anuga)||void 0===m?void 0:m.showAnugaScenarioMenu,showAnugaResultMenu:null==e||null===(h=e.anuga)||void 0===h?void 0:h.showAnugaResultMenu,showReviewPanel:null==e||null===(y=e.anuga)||void 0===y?void 0:y.showReviewPanel,showPublicationPanel:null==e||null===(v=e.anuga)||void 0===v?void 0:v.showPublicationPanel,isAnugaMenuOpen:(null==e||null===(b=e.anuga)||void 0===b?void 0:b.showAnugaInputMenu)||(null==e||null===(E=e.anuga)||void 0===E?void 0:E.showAnugaScenarioMenu)||(null==e||null===(w=e.anuga)||void 0===w?void 0:w.showAnugaResultMenu),openMenuGroupId:null==e||null===(S=e.simpleView)||void 0===S?void 0:S.openMenuGroupId,numberOfMenus:(null==e||null===(A=e.layers)||void 0===A||null===(x=A.groups)||void 0===x?void 0:x.length)||1,showAddAnugaElevationData:null==e||null===(O=e.anuga)||void 0===O?void 0:O.showAddAnugaElevationData,visibleAnugaScenarioLogId:null==e||null===(N=e.anuga)||void 0===N?void 0:N.visibleAnugaScenarioLogId,visibleIntroduction:null==e||!e.simpleView.hasOwnProperty("visibleIntroduction")||(null==e||null===(T=e.simpleView)||void 0===T?void 0:T.visibleIntroduction),showNetworkMenu:null==e||null===(R=e.anuga)||void 0===R?void 0:R.showNetworkMenu,visibleNetworkMenu:null==e||null===(k=e.anuga)||void 0===k?void 0:k.visibleNetworkMenu,visibleAnugaRunMenu:null==e||null===(C=e.anuga)||void 0===C?void 0:C.visibleAnugaRunMenu,canEditAnugaMap:(0,c.Dh)(e),canViewAnugaMap:(0,c.rP)(e)}}),(function(e){return{initAnuga:function(){return e((0,u.initAnuga)())},setAnugaInputMenu:function(n){return e((0,u.setAnugaInputMenu)(n))},setAnugaScenarioMenu:function(n){return e((0,u.setAnugaScenarioMenu)(n))},setAnugaResultMenu:function(n){return e((0,u.setAnugaResultMenu)(n))},setReviewPanel:function(n){return e((0,u.setReviewPanel)(n))},setPublicationPanel:function(n){return e((0,u.setPublicationPanel)(n))},setOpenMenuGroupId:function(n){return e((0,g.setOpenMenuGroupId)(n))},startAnugaScenarioPolling:function(){return e((0,u.startAnugaScenarioPolling)())},stopAnugaScenarioPolling:function(){return e((0,u.stopAnugaScenarioPolling)())}}}))(Ce);var Pe=t(300806);const _e=(0,r.rx)("Anuga",{component:Me,reducers:{anuga:o.Z},epics:{initAnugaEpic:Pe.gE,cancelAnugaRunEpic:Pe.F7,pollAnugaElevationEpic:Pe.z1,runAnugaScenarioEpic:Pe.Rf,runNetworkEpic:Pe.sW,saveAnugaScenarioEpic:Pe.EE,pollAnugaScenarioEpic:Pe.Z6,deleteAnugaScenarioEpic:Pe.Zu,createAnugaBoundaryEpic:Pe.Ye,createAnugaFrictionEpic:Pe.As,createAnugaInflowEpic:Pe.T9,createAnugaStructureEpic:Pe.XO,createAnugaMeshRegionEpic:Pe.Qy,createNetworkEpic:Pe.BA,createCatchmentEpic:Pe.h2,createNodesEpic:Pe.bp,createLinksEpic:Pe.d,createFigureEpic:Pe.Og,addAnugaBoundaryEpic:Pe.dd,addAnugaFrictionEpic:Pe.lA,addAnugaInflowEpic:Pe.QH,addAnugaStructureEpic:Pe.Qc,addAnugaFullMeshEpic:Pe.Ok,addAnugaMeshRegionEpic:Pe.AC,addCatchmentEpic:Pe.Xv,addNodesEpic:Pe.yN,addLinksEpic:Pe.oq,prePopulateAnugaFeatureGridWithDefaults:Pe.YL,updateComputeInstanceEpic:Pe.E_,updateAnugaModelTitle:Pe.o$,pollAnugaModelCreationEpic:Pe.GM,compareScenarioEpic:Pe.ax,pollComparisonEpic:Pe.b2,addComparisonEpic:Pe.rJ,getAnugaResourcesEpic:Pe.HQ}})},273454:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var r=t(923645),o=t.n(r)()((function(e){return e[1]}));o.push([e.id,'.msgapi #anuga-container {\n    width:100%;\n    height:100%;\n    display: flex;\n    justify-content: center;\n    margin: 10px;\n    border: 1px solid #fff;\n    background-color: #ffffff;\n}\n\n.msgapi #anuga-chart {\n    z-index: 3000;\n    width: 98%;\n    height: 90%;\n    margin: 70px 20px 20px 0;\n    background-color: #ffffff;\n    font-size: 12px;\n    border-radius: 4px;\n    text-align: center;\n}\n\n.msgapi .chart-mainbody {\n    padding: 20px;\n    margin-top: 0;\n    height: 85%;\n    overflow: auto;\n}\n\n.msgapi .chart-header {\n    padding: 20px;\n    height: 60px;\n    border-bottom: 1px solid #DDD;\n    background-color: #ffffff;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.msgapi .chart-footer {\n    padding: 20px;\n    bottom: 0;\n    height: 80px;\n    background-color: #ffffff;\n    border-top: 1px solid #DDD;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.msgapi .chart-sidebar {\n    padding: 0 30px 0 30px;\n    min-height: 600px;\n    background-color: #f3f3f3;\n    border: 1px solid #c7c7c7;\n    border-radius: 3px;\n}\n\n.msgapi .scenario-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .table-hover > tbody > tr:hover {\n    background-color: #ffffff45;\n}\n\n.msgapi .scenario-table {\n    margin-bottom: 0;\n}\n\n.msgapi .scenario-table-header {\n    height: 45px;\n}\n\n.msgapi .scenario-table-header th {\n    text-align:center;\n}\n\n.msgapi .scenario-table-row {\n    height: 45px\n}\n\n.msgapi .network-table {\n    margin-bottom: 0;\n}\n\n.msgapi .network-table-header {\n    height: 45px;\n}\n\n.msgapi .network-table-header th {\n    text-align:center;\n}\n\n.msgapi .network-table-row {\n    height: 45px\n}\n\n.msgapi #new-scenario-button {\n    position: absolute;\n    right: 40px;\n    top: 11px;\n}\n\n.msgapi .scenario-select {\n    border-radius: 3px;\n    width: 100px;\n    height: 22px;\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .add-data-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi #anuga-scenario-log-viewer-container {\n    position: absolute;\n    z-index: 2000;\n    top: 5%;\n    width: 800px;\n    min-height: 600px;\n    color: #333333;\n    background-color: #f2f2f2;\n    border: 2px solid #dddddd;\n    border-radius: 5px;\n}\n\n.msgapi #anuga-scenario-log-viewer {\n    overflow-y: scroll;\n    height: 70vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    line-height: 1.42857143;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi #anuga-run-menu-container {\n    position: absolute;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    z-index: 2000;\n    top: 80px;\n    min-width: 800px;\n    min-height: 600px;\n    color: white;\n    background-color: #003c88cc;\n    border: 1px solid white;\n    border-radius: 5px;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n    text-align: left;\n}\n\n.msgapi #anuga-run-menu {\n    color: white;\n    background: #000000cc;\n    border-radius: 5px;\n    font-family: Monospace;\n    overflow-x: auto;\n    height: 100px;\n    padding: 10px;\n    margin: 20px 0 10px;\n}\n\n.msgapi #anuga-compute-instance-menu {\n    color: black;\n    background: white;\n    overflow-y: scroll;\n    overflow-x: auto;\n    height: 35vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi #anuga-scenario-menu {\n    overflow-y: hidden;\n    overflow-x: auto;\n    max-width: 98%;\n}\n\n.msgapi ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: white;\n  opacity: 1; /* Firefox */\n}\n\n.msgapi .run-server-table {\n    margin-bottom: 0;\n    text-align: center;\n}\n\n.msgapi .run-server-table-header {\n    height: 45px;\n}\n\n.msgapi .run-server-table-header > th {\n    text-align: center;\n}\n\n.msgapi .run-server-table-row {\n    height: 45px\n}\n\n.msgapi .run-server-table-row {\n    text-align: center;\n}\n\n/*#identify-container {*/\n/*    display:none;*/\n/*}*/\n\n/*#navigationBar {*/\n/*    display:none;*/\n/*}*/\n\n/* this is really terrible and can lead to random stuff not showing, but it is the only way I can see to select the\ndiv that holds the feature-grid */\n/*main > div[style*="1030"]:not([id]):not([role]):not([class]) {*/\n/*    display: none;*/\n/*}*/',""]);const a=o}}]);