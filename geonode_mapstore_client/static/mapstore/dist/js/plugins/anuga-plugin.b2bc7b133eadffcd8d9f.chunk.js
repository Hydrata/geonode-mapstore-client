(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[44995],{615402:(e,n,t)=>{"use strict";t.d(n,{Z:()=>m});var r=t(45697),o=t.n(r),a=t(124852),i=t.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,n){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function p(e,n){if(n&&("object"===l(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g=t(868195).FormattedHTMLMessage,v=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&s(e,n)}(l,e);var n,t,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=d(r);if(o){var t=d(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return p(this,e)});function l(){return u(this,l),a.apply(this,arguments)}return n=l,(t=[{key:"render",value:function(){return this.context.intl?i().createElement(g,{id:this.props.msgId,values:this.props.msgParams}):i().createElement("span",null,this.props.msgId||"")}}])&&c(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),l}(i().Component);f(v,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),f(v,"contextTypes",{intl:o().object});const m=v},838167:(e,n,t)=>{"use strict";t.d(n,{t6:()=>w,k9:()=>E,v0:()=>A,ZP:()=>_});var r=t(45697),o=t.n(r),a=t(124852),i=t.n(a),l=t(868195);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,n){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function f(e,n){if(n&&("object"===u(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var m=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&d(e,n)}(u,e);var n,t,r,o,a=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=g(r);if(o){var t=g(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return f(this,e)});function u(){return s(this,u),a.apply(this,arguments)}return n=u,(t=[{key:"render",value:function(){return this.context.intl?i().createElement(l.FormattedDate,c({value:this.props.value},this.props.dateParams)):i().createElement("span",null,this.props.value&&this.props.value.toString()||"")}}])&&p(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),u}(i().Component);v(m,"propTypes",{value:o().object,dateParams:o().object}),v(m,"contextTypes",{intl:o().object}),v(m,"defaultProps",{value:new Date});const b=m;var y=t(615402),h=t(805346),A=h.Z,E=y.Z,w=b;const _={Message:h.Z,HTML:E,DateFormat:w}},74433:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>Tn});var r=t(322843),o=t(368658),a=t(351288);function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p={showAddAnugaElevationData:!1,visibleAnugaScenarioLogId:!1,scenarios:[]},d=t(124852),f=t.n(d),g=t(171703);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var y=function(e){var n,t,r,o,a,i,l=null==e||null===(n=e.security)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.pk,u=null==e||null===(r=e.gnresource)||void 0===r||null===(o=r.compactPermissions)||void 0===o||null===(a=o.users)||void 0===a||null===(i=a.filter((function(e){return e.id===l}))[0])||void 0===i?void 0:i.permissions;return["view","edit","manage","owner"].includes(u)},h=function(e){var n,t,r,o,a,i,l=null==e||null===(n=e.security)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.pk,u=null==e||null===(r=e.gnresource)||void 0===r||null===(o=r.compactPermissions)||void 0===o||null===(a=o.users)||void 0===a||null===(i=a.filter((function(e){return e.id===l}))[0])||void 0===i?void 0:i.permissions;return["edit","manage","owner"].includes(u)},A=function(e){var n;return null==e||null===(n=e.anuga)||void 0===n?void 0:n.scenarios.filter((function(e){return null==e?void 0:e.selected}))},E=t(774141),w=t(893379),_=t.n(w),S=t(273454);_()(S.Z,{insert:"head",singleton:!1}),S.Z.locals,t(472619);var O=t(388380),N=t(855033),T=t.n(N);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,n){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function P(e,n){if(n&&("object"===R(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&C(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=x(r);if(o){var t=x(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return P(this,e)});function i(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this)).state={time:{},seconds:180},e.timer=0,e.startTimer=e.startTimer.bind(I(e)),e.countDown=e.countDown.bind(I(e)),e}return n=i,(t=[{key:"componentDidMount",value:function(){this.startTimer();var e=this.secondsToTime(this.state.seconds);this.setState({time:e})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return f().createElement(f().Fragment,null,this.state.time.m,":",this.state.time.s)}},{key:"secondsToTime",value:function(e){var n=e%3600,t=n%60;return{h:Math.floor(e/3600),m:Math.floor(n/60),s:String(Math.ceil(t)).padStart(2,"0")}}},{key:"startTimer",value:function(){0===this.timer&&this.state.seconds>0&&(this.timer=setInterval(this.countDown,1e3))}},{key:"countDown",value:function(){var e=this.state.seconds-1;this.setState({time:this.secondsToTime(e),seconds:e}),0===e&&clearInterval(this.timer)}}])&&M(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component),k=t(838167),U=t(375875),j=t.n(U);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,n){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function B(e,n){if(n&&("object"===L(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var V=t(45697),K=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&F(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=H(r);if(o){var t=H(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return B(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),W(z(n=a.call(this,e)),"humanFileSize",(function(e){var n=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,n)).toFixed(2)+" "+["B","kB","MB","GB","TB"][n]})),W(z(n),"uploadFile",(function(e,t){n.setState((function(n){return{itemList:n.uploaderFiles.map((function(n){return n.preview===e.preview?Object.assign(n,{status:"uploading"}):n}))}}));var r,o=new FormData;o.append(t,e),o.append("title",n.state.newTitle),r=n.props.serverUrl.includes("localhost")?"http://localhost:8081/":n.props.serverUrl,j().put("".concat(r,"anuga/api/").concat(n.props.projectId,"/elevation/upload/"),o,n.uploadConfig).then((function(t){n.setState((function(n){return{itemList:n.uploaderFiles.map((function(n){return n.preview===e.preview?Object.assign(n,{status:"complete"}):n}))}}))}))})),W(z(n),"uploadConfig",{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);n.props.updateUploadStatus(t)}}),n.state={uploaderFiles:[],newTitle:""},n.beginTooltip=f().createRef(),n}return n=i,(t=[{key:"render",value:function(){var e=this;return this.props.visibleUploaderPanel?f().createElement("div",{className:"simple-view-panel uploader-panel"},f().createElement("div",{className:"row h4 legend-heading"},"Upload GeoTiff File (*.tif)",f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return e.props.setVisibleUploaderPanel(!1)}})),this.state.uploaderFiles.length>0?f().createElement(E.Table,{bordered:!0,condensed:!0,hover:!0,ref:this.beginTooltip,style:{tableLayout:"fixed"}},f().createElement("thead",null,f().createElement("tr",null,f().createElement("th",{width:"155px",key:"hname"},"Title"),f().createElement("th",{width:"80px",key:"hname"},"Filename"),f().createElement("th",{width:"80px",key:"hsize"},"Filesize"),f().createElement("th",{width:"80px",key:"htype"},"Filetype"),f().createElement("th",{width:"80px",key:"hlast"},"Modified"),f().createElement("th",{width:"80px",key:"hstatus"},"Status"))),f().createElement("tbody",null,this.state.uploaderFiles&&this.state.uploaderFiles.map((function(n,t){return f().createElement("tr",{key:"row_"+t},f().createElement("td",{key:"title"},f().createElement("input",{id:"newTitle",key:"newTitle",className:"data-title-input",type:"text",value:e.state.newTitle,onChange:function(n){return e.setState({newTitle:n.target.value})}})),f().createElement("td",{key:"name",style:{wordWrap:"break-word"}},n.name),f().createElement("td",{key:"size"},e.humanFileSize(n.size)),f().createElement("td",{key:"type"},n.type),f().createElement("td",{key:"last"},f().createElement(k.t6,{value:n.lastModifiedDate})),f().createElement("td",{key:"status"},"begin"===n.status?e.state.newTitle?f().createElement(E.Button,{onClick:function(){return e.uploadFile(n,e.props.fileType||"file")},style:{borderRadius:"3px"},bsSize:"small",bsStyle:"success"},"Begin"):f().createElement(E.Button,{className:"disabled",style:{borderRadius:"3px"},bsSize:"small",bsStyle:"success"},"Begin"):f().createElement("span",null,f().createElement(E.ProgressBar,{active:!0,bsStyle:"success",now:parseInt(e.props.uploadStatus,10)}),100===parseInt(e.props.uploadStatus,10)?f().createElement("span",null,"importing: ",f().createElement(D,null)):e.props.uploadStatus,isNaN(parseInt(e.props.uploadStatus,10))||100===parseInt(e.props.uploadStatus,10)?"":"%")))})))):f().createElement(T(),{key:"dropzone",rejectClassName:"alert-danger",className:"alert alert-info",onDrop:function(n){return e.setState({uploaderFiles:n.map((function(e){return Object.defineProperty(e,"status",{value:"begin",writable:!0}),e}))})},style:this.props.dropZoneStyle,activeStyle:this.props.dropZoneActiveStyle},f().createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%",justifyContent:"center"}},f().createElement("span",{style:{width:"100px",height:"100px",textAlign:"center"}},f().createElement(E.Glyphicon,{glyph:"upload"}),f().createElement("br",null),"Drag files or",f().createElement("br",null),"click here")))):null}}])&&G(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component);W(K,"propTypes",{setVisibleUploaderPanel:V.func,updateUploaderFile:V.func,setUploaderFiles:V.func,uploaderFiles:V.object,updateUploadStatus:V.func,uploadStatus:V.string,visibleUploaderPanel:V.bool,serverUrl:V.string,projectId:V.number,newTitle:V.string,fileType:V.string});var Y=(0,g.connect)((function(e){var n,t,r,o,a;return{visibleUploaderPanel:null==e||null===(n=e.simpleView)||void 0===n?void 0:n.visibleUploaderPanel,serverUrl:null==e||null===(t=e.gnsettings)||void 0===t?void 0:t.geonodeUrl,projectId:null==e||null===(r=e.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,uploadStatus:(null==e||null===(a=e.simpleView)||void 0===a?void 0:a.uploadStatus)||0}}),(function(e){return{setVisibleUploaderPanel:function(n){return e((0,a.setVisibleUploaderPanel)(n))},updateUploadStatus:function(n){return e((0,a.updateUploadStatus)(n))}}}))(K);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,n){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function q(e,n){if(n&&("object"===Z(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ee=t(45697),ne=t(472986),te=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&J(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Q(r);if(o){var t=Q(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return q(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={showAdvanced:!1,boundaryTitle:"",frictionTitle:"",inflowTitle:"",structureTitle:"",meshRegionTitle:"",networkTitle:"",catchmentTitle:"",nodesTitle:"",linksTitle:""},n}return n=i,(t=[{key:"componentDidMount",value:function(){this.props.startAnugaModelCreationPolling(),this.props.startAnugaElevationPolling()}},{key:"componentWillUnmount",value:function(){this.props.stopAnugaModelCreationPolling(),this.props.stopAnugaElevationPolling()}},{key:"render",value:function(){var e,n,t,r,o,a,i,l,u,c,s,p,d,g,v,m,b,y,h=this;return f().createElement("div",{id:"anuga-input-menu",className:"simple-view-panel",style:{top:"70px",width:"480px"}},f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"menu-row-text"},"Elevations"),f().createElement(E.OverlayTrigger,{placement:"right",overlay:f().createElement(E.Tooltip,null,"Upload a new *.tiff elevation")},f().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){h.props.setVisibleUploaderPanel(!0),h.props.startAnugaElevationPolling()}}))),null===(e=this.props.elevationLayers)||void 0===e?void 0:e.map((function(e){return f().createElement(O.j,{layer:e})})),0===(null===(n=this.props.elevationLayers)||void 0===n?void 0:n.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"No elevations available"):null),null!==(t=this.props.projectData)&&void 0!==t&&t.projection?f().createElement(f().Fragment,null,f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Boundaries"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.boundaryTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){h.props.setCreatingAnugaLayer(!0),h.props.createAnugaBoundary(h.state.boundaryTitle),h.setState({boundaryTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(ne,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"boundary-input",key:"boundary-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.boundaryTitle,onChange:function(e){return h.setState({boundaryTitle:e.target.value})}})):null),null===(r=this.props.boundaryLayers)||void 0===r?void 0:r.map((function(e){return f().createElement(O.j,{layer:e})})),0===(null===(o=this.props.boundaryLayers)||void 0===o?void 0:o.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"None"):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Inflows"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.inflowTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){h.props.setCreatingAnugaLayer(!0),h.props.createAnugaInflow(h.state.inflowTitle),h.setState({inflowTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(ne,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"inflow-input",key:"inflow-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.inflowTitle,onChange:function(e){return h.setState({inflowTitle:e.target.value})}})):null),null===(a=this.props.inflowLayers)||void 0===a?void 0:a.map((function(e){return f().createElement(O.j,{layer:e})})),0===(null===(i=this.props.inflowLayers)||void 0===i?void 0:i.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"None"):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Advanced"),f().createElement("span",{className:"btn glyphicon menu-row-glyph ".concat(this.state.showAdvanced?"glyphicon-chevron-down":"glyphicon-chevron-right"),style:{color:"#325f93",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){h.setState((function(e){return{showAdvanced:!e.showAdvanced}}))}}))),this.state.showAdvanced?f().createElement("div",{id:"advancedInputs"},f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Full Mesh")),null===(l=this.props.fullMeshLayers)||void 0===l?void 0:l.map((function(e){return f().createElement(O.j,{layer:e})})),0===(null===(u=this.props.fullMeshLayers)||void 0===u?void 0:u.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"Mesh will appear here when a Scenario is built."):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Mesh Regions"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.meshRegionTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){h.props.setCreatingAnugaLayer(!0),h.props.createAnugaMeshRegion(h.state.meshRegionTitle),h.setState({meshRegionTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(ne,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"mesh-region-input",key:"mesh-region-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.meshRegionTitle,onChange:function(e){return h.setState({meshRegionTitle:e.target.value})}})):null),null===(c=this.props.meshRegionLayers)||void 0===c?void 0:c.map((function(e){return f().createElement(O.j,{layer:e})})),0===(null===(s=this.props.meshRegionLayers)||void 0===s?void 0:s.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"None"):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Friction Maps"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.frictionTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){h.props.setCreatingAnugaLayer(!0),h.props.createAnugaFriction(h.state.frictionTitle),h.setState({frictionTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(ne,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"friction-input",key:"friction-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.frictionTitle,onChange:function(e){return h.setState({frictionTitle:e.target.value})}})):null),null===(p=this.props.frictionLayers)||void 0===p?void 0:p.map((function(e){return f().createElement(O.j,{layer:e})})),0===(null===(d=this.props.frictionLayers)||void 0===d?void 0:d.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"None"):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Structures"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.structureTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){h.props.setCreatingAnugaLayer(!0),h.props.createAnugaStructure(h.state.structureTitle),h.setState({structureTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(ne,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"structure-input",key:"structure-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.structureTitle,onChange:function(e){return h.setState({structureTitle:e.target.value})}})):null),null===(g=this.props.structureLayers)||void 0===g?void 0:g.map((function(e){return f().createElement(O.j,{layer:e})})),0===(null===(v=this.props.structureLayers)||void 0===v?void 0:v.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"None"):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text",style:{marginTop:"4px"}},"Networks"),f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-cog",style:{color:"#325f93",fontSize:"smaller",textAlign:"right",marginLeft:"8px",float:"left"},onClick:function(){h.props.setNetworkMenu(!0),h.props.setAnugaInputMenu(!1)}}),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.networkTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){h.props.setCreatingAnugaLayer(!0),h.props.createNetwork(h.state.networkTitle),h.setState({networkTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(ne,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"network-input",key:"network-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.networkTitle,onChange:function(e){return h.setState({networkTitle:e.target.value})}})):null),f().createElement("div",null,f().createElement("div",{className:"menu-row-mini-container"},f().createElement("p",{className:"menu-row-mini-heading"},"Catchments"),null===(m=this.props.catchmentLayers)||void 0===m?void 0:m.map((function(e){return f().createElement(O.j,{layer:e})}))),f().createElement("div",{className:"menu-row-mini-container"},f().createElement("p",{className:"menu-row-mini-heading"},"Nodes"),null===(b=this.props.nodesLayers)||void 0===b?void 0:b.map((function(e){return f().createElement(O.j,{layer:e})}))),f().createElement("div",{className:"menu-row-mini-container"},f().createElement("p",{className:"menu-row-mini-heading"},"Links"),null===(y=this.props.linksLayers)||void 0===y?void 0:y.map((function(e){return f().createElement(O.j,{layer:e})})))))):null):null,f().createElement(Y,{fileType:"elevation"}))}}])&&$(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component);X(te,"propTypes",{projectData:ee.object,setVisibleUploaderPanel:ee.func,anugaGroupLength:ee.number,elevationLayers:ee.array,boundaryLayers:ee.array,createAnugaBoundary:ee.func,createAnugaFriction:ee.func,createAnugaInflow:ee.func,createAnugaStructure:ee.func,createAnugaMeshRegion:ee.func,createNetwork:ee.func,createCatchment:ee.func,createNodes:ee.func,createLinks:ee.func,frictionLayers:ee.array,inflowLayers:ee.array,structureLayers:ee.array,fullMeshLayers:ee.array,meshRegionLayers:ee.array,catchmentLayers:ee.array,nodesLayers:ee.array,linksLayers:ee.array,startAnugaElevationPolling:ee.func,stopAnugaElevationPolling:ee.func,startAnugaModelCreationPolling:ee.func,stopAnugaModelCreationPolling:ee.func,isCreatingAnugaLayer:ee.bool,setCreatingAnugaLayer:ee.func,canEditAnugaMap:ee.func,addAnugaBoundary:ee.func,addAnugaFriction:ee.func,addAnugaInflow:ee.func,addAnugaStructure:ee.func,addAnugaFullMesh:ee.func,addAnugaMeshRegion:ee.func,addCatchment:ee.func,addNodes:ee.func,addLinks:ee.func,networks:ee.array,setNetworkMenu:ee.func,boundaryModels:ee.array,frictionModels:ee.array,inflowModels:ee.array,structureModels:ee.array,fullMeshModels:ee.array,meshRegionModels:ee.array,catchmentModels:ee.array,nodesModels:ee.array,linksModels:ee.array,setAnugaInputMenu:ee.func}),X(te,"defaultProps",{});var re=(0,g.connect)((function(e){var n,t,r,o,a,i,l,u,c,s,p,d,f,g,v,m,b,y,A,E,w,_,S,O,N,T,R,M,C,P,I,x,D,k;return{projectData:null==e||null===(n=e.anuga)||void 0===n?void 0:n.projectData,elevationLayers:null==e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(e){return"Input Data.Elevations"===(null==e?void 0:e.group)})),boundaryLayers:null==e||null===(o=e.layers)||void 0===o||null===(a=o.flat)||void 0===a?void 0:a.filter((function(e){return"Input Data.Boundaries"===(null==e?void 0:e.group)})),inflowLayers:null==e||null===(i=e.layers)||void 0===i||null===(l=i.flat)||void 0===l?void 0:l.filter((function(e){return"Input Data.Inflows"===(null==e?void 0:e.group)})),frictionLayers:null==e||null===(u=e.layers)||void 0===u||null===(c=u.flat)||void 0===c?void 0:c.filter((function(e){return"Input Data.Friction Maps"===(null==e?void 0:e.group)})),structureLayers:null==e||null===(s=e.layers)||void 0===s||null===(p=s.flat)||void 0===p?void 0:p.filter((function(e){return"Input Data.Structures"===(null==e?void 0:e.group)})),fullMeshLayers:null==e||null===(d=e.layers)||void 0===d||null===(f=d.flat)||void 0===f?void 0:f.filter((function(e){return"Input Data.Full Mesh"===(null==e?void 0:e.group)})),meshRegionLayers:null==e||null===(g=e.layers)||void 0===g||null===(v=g.flat)||void 0===v?void 0:v.filter((function(e){return"Input Data.Mesh Regions"===(null==e?void 0:e.group)})),networkLayers:null==e||null===(m=e.layers)||void 0===m||null===(b=m.flat)||void 0===b?void 0:b.filter((function(e){return"Input Data.Networks"===(null==e?void 0:e.group)})),catchmentLayers:null==e||null===(y=e.layers)||void 0===y||null===(A=y.flat)||void 0===A?void 0:A.filter((function(e){return"Input Data.Catchments"===(null==e?void 0:e.group)})),nodesLayers:null==e||null===(E=e.layers)||void 0===E||null===(w=E.flat)||void 0===w?void 0:w.filter((function(e){return"Input Data.Nodes"===(null==e?void 0:e.group)})),linksLayers:null==e||null===(_=e.layers)||void 0===_||null===(S=_.flat)||void 0===S?void 0:S.filter((function(e){return"Input Data.Links"===(null==e?void 0:e.group)})),elevationModels:null==e||null===(O=e.anuga)||void 0===O?void 0:O.elevations,boundaryModels:null==e||null===(N=e.anuga)||void 0===N?void 0:N.boundaries,inflowModels:null==e||null===(T=e.anuga)||void 0===T?void 0:T.inflows,frictionModels:null==e||null===(R=e.anuga)||void 0===R?void 0:R.frictions,structureModels:null==e||null===(M=e.anuga)||void 0===M?void 0:M.structures,fullMeshModels:null==e||null===(C=e.anuga)||void 0===C?void 0:C.fullMeshes,meshRegionModels:null==e||null===(P=e.anuga)||void 0===P?void 0:P.meshRegions,catchmentModels:null==e||null===(I=e.anuga)||void 0===I?void 0:I.catchments,nodesModels:null==e||null===(x=e.anuga)||void 0===x?void 0:x.nodes,linksModels:null==e||null===(D=e.anuga)||void 0===D?void 0:D.links,isCreatingAnugaLayer:null==e||null===(k=e.anuga)||void 0===k?void 0:k.isCreatingAnugaLayer,canEditAnugaMap:h(e)}}),(function(e){return{addAnugaBoundary:function(){return e((0,o.addAnugaBoundary)())},addAnugaFriction:function(){return e((0,o.addAnugaFriction)())},addAnugaInflow:function(){return e((0,o.addAnugaInflow)())},addAnugaStructure:function(){return e((0,o.addAnugaStructure)())},addAnugaFullMesh:function(){return e((0,o.addAnugaFullMesh)())},addAnugaMeshRegion:function(){return e((0,o.addAnugaMeshRegion)())},addCatchment:function(){return e((0,o.addCatchment)())},setNetworkMenu:function(n){return e((0,o.setNetworkMenu)(n))},setAnugaInputMenu:function(n){return e((0,o.setAnugaInputMenu)(n))},addNetwork:function(){return e((0,o.addNetwork)())},addNodes:function(){return e((0,o.addNodes)())},addLinks:function(){return e((0,o.addLinks)())},startAnugaElevationPolling:function(){return e((0,o.startAnugaElevationPolling)())},startAnugaModelCreationPolling:function(){return e((0,o.startAnugaModelCreationPolling)())},stopAnugaModelCreationPolling:function(){return e((0,o.stopAnugaModelCreationPolling)())},setVisibleUploaderPanel:function(n){return e((0,a.setVisibleUploaderPanel)(n))},setCreatingAnugaLayer:function(n){return e((0,o.setCreatingAnugaLayer)(n))},createAnugaBoundary:function(n){return e((0,o.createAnugaBoundary)(n))},createAnugaInflow:function(n){return e((0,o.createAnugaInflow)(n))},createAnugaStructure:function(n){return e((0,o.createAnugaStructure)(n))},createAnugaFriction:function(n){return e((0,o.createAnugaFriction)(n))},createAnugaMeshRegion:function(n){return e((0,o.createAnugaMeshRegion)(n))},createNetwork:function(n){return e((0,o.createNetwork)(n))}}}))(te);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,n){if(e){if("string"==typeof e)return le(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?le(e,n):void 0}}function le(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ue(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,n){return(ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function se(e,n){if(n&&("object"===oe(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ge=t(45697),ve=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ce(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=de(r);if(o){var t=de(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return se(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),fe(pe(n=a.call(this,e)),"getSecondsFromHHMM",(function(e){console.log("userInputValue",e);var n,t,r=(n=e.split(":"),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(n,t)||ie(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],i=Number(o),l=Number(a);return console.log("hoursNumber",i),console.log("minutesNumber",l),!isNaN(i)&&isNaN(l)?(console.log("returning:",60*i),60*i):isNaN(i)||isNaN(l)?0:(console.log("returning:",60*(60*i+l)),60*(60*i+l))})),fe(pe(n),"findScenarioStatus",(function(e){var n;return"building server"===e.status?e.status:null!=e&&e.latest_run_is_valid||"error"===(null==e||null===(n=e.latest_run)||void 0===n?void 0:n.status)?e.latest_run.status:e.status})),fe(pe(n),"handleTextChange",(function(e,t){var r={};r[e.target.id]=e.target.value,n.props.updateAnugaScenario(t,r)})),fe(pe(n),"handleBoolChange",(function(e,t){var r={};r[e.target.id]=!t[e.target.id],n.props.updateAnugaScenario(t,r)})),fe(pe(n),"handleIntChange",(function(e,t){var r={};r[e.target.id]=parseInt(e.target.value,10),n.props.updateAnugaScenario(t,r)})),fe(pe(n),"handleNumberChange",(function(e,t){var r={};r[e.target.id]=parseFloat(e.target.value),n.props.updateAnugaScenario(t,r)})),fe(pe(n),"toHHMM",(function(e){if(!e)return"hh:mm";var n=parseInt(e.toString(),10);return[Math.floor(n/3600),Math.floor(n/60)%60,n%60].map((function(e){return e<10?"0".concat(e):e})).filter((function(e,n){return"00"!==e||n>0})).join(":").replace(/^0/,"").slice(0,-3)})),fe(pe(n),"handleTimeChange",(function(e,t){var r={tempTimeString:e.target.value};n.props.updateAnugaScenario(t,r)})),fe(pe(n),"handleTimeBlur",(function(e,t){var r=e.target.value;console.log("targetValue",r);var o=Math.max(0,n.getSecondsFromHHMM(r));console.log("seconds",o);var a={};a[e.target.id]=o,delete a.tempTimeString,n.props.updateAnugaScenario(t,a)})),n.state={scenarioTableTabs:["manage","compare"]},n.handleTextChange=n.handleTextChange.bind(pe(n)),n.handleBoolChange=n.handleBoolChange.bind(pe(n)),n.handleIntChange=n.handleIntChange.bind(pe(n)),n.handleTimeChange=n.handleTimeChange.bind(pe(n)),n.handleTimeBlur=n.handleTimeBlur.bind(pe(n)),n}return n=i,(t=[{key:"render",value:function(){var e,n,t,r,o,a,i=this;return f().createElement("div",{id:"anuga-scenario-menu",className:"simple-view-panel",style:{top:"70px"}},f().createElement("div",{className:"menu-rows-container"},f().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},"Scenarios",f().createElement("span",{id:"scenario-tab-button-group"},f().createElement(E.Button,{bsSize:"medium",style:{margin:"2px 0 -17px 20px",borderRadius:"6px 6px 0 0",color:this.state.scenarioTableTabs.includes("manage")?"#3363a0":"white",backgroundColor:this.state.scenarioTableTabs.includes("manage")?"white":"#6085b5"},onClick:function(){return i.state.scenarioTableTabs.includes("manage")?i.setState((function(e){return{scenarioTableTabs:ae(e.scenarioTableTabs.filter((function(e,n){return"manage"!==e})))}})):i.setState((function(e){return{scenarioTableTabs:[].concat(ae(e.scenarioTableTabs),["manage"])}}))}},"Manage"),f().createElement(E.Button,{bsSize:"medium",style:{margin:"2px 0 -17px 8px",borderRadius:"6px 6px 0 0",color:this.state.scenarioTableTabs.includes("advanced")?"#3363a0":"white",backgroundColor:this.state.scenarioTableTabs.includes("advanced")?"white":"#6085b5"},onClick:function(){return i.state.scenarioTableTabs.includes("advanced")?i.setState((function(e){return{scenarioTableTabs:ae(e.scenarioTableTabs.filter((function(e,n){return"advanced"!==e})))}})):i.setState((function(e){return{scenarioTableTabs:[].concat(ae(e.scenarioTableTabs),["advanced"])}}))}},"Advanced"),f().createElement(E.Button,{bsSize:"medium",style:{margin:"2px 0 -17px 8px",borderRadius:"6px 6px 0 0",color:this.state.scenarioTableTabs.includes("compare")?"#3363a0":"white",backgroundColor:this.state.scenarioTableTabs.includes("compare")?"white":"#6085b5"},onClick:function(){return i.state.scenarioTableTabs.includes("compare")?i.setState((function(e){return{scenarioTableTabs:ae(e.scenarioTableTabs.filter((function(e,n){return"compare"!==e})))}})):i.setState((function(e){return{scenarioTableTabs:[].concat(ae(e.scenarioTableTabs),["compare"])}}))}},"Compare")),f().createElement("span",{id:"new-scenario-button"},f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.addAnugaScenario()}},"New Scenario")),f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){i.props.setAnugaScenarioMenu(!1),i.props.stopAnugaScenarioPolling()}})),f().createElement(E.Table,{className:"scenario-table"},f().createElement("thead",null,f().createElement("tr",{className:"scenario-table-header"},f().createElement("th",null,"Id"),f().createElement("th",null,"Name"),null!==(e=this.state.scenarioTableTabs)&&void 0!==e&&e.includes("manage")?f().createElement(f().Fragment,null,f().createElement("th",null,"Elevation"),f().createElement("th",null,"Boundary"),f().createElement("th",null,"Inflow")):null,null!==(n=this.state.scenarioTableTabs)&&void 0!==n&&n.includes("advanced")?f().createElement(f().Fragment,null,f().createElement("th",null,"Friction Map"),f().createElement("th",null,"Structures"),f().createElement("th",null,"Mesh Regions"),f().createElement("th",null,"Network"),null!==(t=this.state.scenarioTableTabs)&&void 0!==t&&t.includes("manage")?null:f().createElement("th",null)):null,null!==(r=this.state.scenarioTableTabs)&&void 0!==r&&r.includes("manage")?f().createElement(f().Fragment,null,f().createElement("th",null,"Resolution(m2)"),f().createElement("th",null,"Duration"),f().createElement("th",null,"Status"),f().createElement("th",null),f().createElement("th",null),f().createElement("th",null),f().createElement("th",null)):null,null!==(o=this.state.scenarioTableTabs)&&void 0!==o&&o.includes("compare")?f().createElement(f().Fragment,null,f().createElement("th",null,f().createElement("span",{id:"depth-difference-button"},f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",className:this.props.readyToCompare?"":"disabled",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.compareScenarios(i.props.selectedScenarios)}},"Compare")))):null)),f().createElement("tbody",null,null===(a=this.props.scenarios)||void 0===a?void 0:a.map((function(e){var n,t,r,o,a,l,u,c,s,p,d,g;return f().createElement("tr",{className:"scenario-table-row"},f().createElement("td",null,e.id),f().createElement("td",null,f().createElement("input",{id:"name",key:"name-".concat(e.id),type:"text",className:"scenario-input",value:e.name,onChange:function(n){return i.handleTextChange(n,e)}})),null!==(n=i.state.scenarioTableTabs)&&void 0!==n&&n.includes("manage")?f().createElement(f().Fragment,null,f().createElement("td",null,f().createElement("select",{id:"elevation",key:"elevation-".concat(e.id),value:null==e?void 0:e.elevation,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},f().createElement("option",{value:""},"-"),null===(t=i.props.elevations)||void 0===t?void 0:t.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"boundary",key:"boundary-".concat(e.id),value:null==e?void 0:e.boundary,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},f().createElement("option",{value:""},"-"),null===(r=i.props.boundaries)||void 0===r?void 0:r.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"inflow",key:"inflow-".concat(e.id),value:null==e?void 0:e.inflow,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},f().createElement("option",{value:""},"-"),null===(o=i.props.inflows)||void 0===o?void 0:o.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)}))))):null,null!==(a=i.state.scenarioTableTabs)&&void 0!==a&&a.includes("advanced")?f().createElement(f().Fragment,null,f().createElement("td",null,f().createElement("select",{id:"friction",key:"friction-".concat(e.id),value:null==e?void 0:e.friction,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},f().createElement("option",{value:""},"-"),null===(l=i.props.frictions)||void 0===l?void 0:l.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"structure",key:"structure-".concat(e.id),value:null==e?void 0:e.structure,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},f().createElement("option",{value:""},"-"),null===(u=i.props.structures)||void 0===u?void 0:u.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"mesh_region",key:"meshRegion-".concat(e.id),value:null==e?void 0:e.mesh_region,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},f().createElement("option",{value:""},"-"),null===(c=i.props.meshRegions)||void 0===c?void 0:c.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"network",key:"network-".concat(e.id),value:null==e?void 0:e.network,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},f().createElement("option",{value:""},"-"),null===(s=i.props.networks)||void 0===s?void 0:s.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),null!==(p=i.state.scenarioTableTabs)&&void 0!==p&&p.includes("manage")?null:f().createElement("td",null,f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:e.unsaved?null:"disabled",onClick:function(){i.props.saveAnugaScenario(e),i.props.setOpenMenuGroupId(null)}},"Build"))):null,null!==(d=i.state.scenarioTableTabs)&&void 0!==d&&d.includes("manage")?f().createElement(f().Fragment,null,f().createElement("td",null,f().createElement("input",{id:"resolution",key:"resolution-".concat(e.id),type:"number",className:"scenario-input",style:{width:"80px"},value:null==e?void 0:e.resolution,onChange:function(n){return i.handleNumberChange(n,e)}})),f().createElement("td",null,f().createElement("input",{id:"duration",key:"duration-".concat(e.id),type:"text",className:"scenario-input",style:{width:"80px"},value:e.tempTimeString||i.toHHMM(e.duration),onChange:function(n){return i.handleTimeChange(n,e)},onBlur:function(n){return i.handleTimeBlur(n,e)}})),f().createElement("td",null,i.findScenarioStatus(e)),f().createElement("td",null,f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:e.unsaved?null:"disabled",onClick:function(){i.props.saveAnugaScenario(e),i.props.setOpenMenuGroupId(null)}},"Build")),f().createElement("td",null,function(){var n;switch(i.findScenarioStatus(e)){case"built":return f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.setAnugaScenarioMenu(!1),i.props.selectAnugaScenario(e),i.props.showAnugaRunMenu(!0)}},"Run");case"complete":return f().createElement(E.Button,{download:!0,href:null==e||null===(n=e.latest_run)||void 0===n?void 0:n.s3_package_url,bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"}},f().createElement("span",{className:"glyphicon glyphicon-download","aria-hidden":"true"}));default:return f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",className:"disabled",style:{margin:"2px",borderRadius:"2px"}},"Run")}}()),f().createElement("td",null,f().createElement(E.Button,{bsStyle:"info",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.selectAnugaScenario(e),i.props.showAnugaScenarioLog(e.id)}},"Log")),f().createElement("td",null,f().createElement(E.Button,{bsStyle:"danger",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px",backgroundColor:"#622b2b"},onClick:i.findScenarioStatus(e).includes("%")?function(){confirm("Cancel Run?")&&i.props.cancelAnugaRun(e)}:function(){confirm("Delete Scenario?")&&i.props.deleteAnugaScenario(e)}},f().createElement("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"})))):null,null!==(g=i.state.scenarioTableTabs)&&void 0!==g&&g.includes("compare")?f().createElement(f().Fragment,null,f().createElement("td",null,f().createElement("span",{className:"btn glyphicon menu-row-glyph "+(null!=e&&e.selected?"glyphicon-ok":"glyphicon-remove"),style:{color:null!=e&&e.selected?"limegreen":"red",fontSize:"10px"},onClick:function(){i.props.toggleScenarioSelected(e)}}))):null)}))))))}}])&&ue(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component);fe(ve,"propTypes",{anugaGroupLength:ge.number,scenarios:ge.array,boundaries:ge.array,elevations:ge.array,frictions:ge.array,inflows:ge.array,structures:ge.array,meshRegions:ge.array,networks:ge.array,setOpenMenuGroupId:ge.func,saveAnugaScenario:ge.func,runAnugaScenario:ge.func,updateAnugaScenario:ge.func,selectAnugaScenario:ge.func,showAnugaScenarioLog:ge.func,setAnugaScenarioMenu:ge.func,stopAnugaScenarioPolling:ge.func,addAnugaScenario:ge.func,deleteAnugaScenario:ge.func,cancelAnugaRun:ge.func,showAnugaRunMenu:ge.func,toggleScenarioSelected:ge.func,selectedScenarios:ge.array,compareScenarios:ge.func,readyToCompare:ge.number}),fe(ve,"defaultProps",{});var me=(0,g.connect)((function(e){var n,t,r,o,a,i,l,u,c;return{scenarios:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.scenarios)||void 0===t?void 0:t.sort((function(e,n){return e.id-n.id})),selectedScenarios:A(e),readyToCompare:2===A(e).length,boundaries:null==e||null===(r=e.anuga)||void 0===r?void 0:r.boundaries,elevations:null==e||null===(o=e.anuga)||void 0===o?void 0:o.elevations,frictions:null==e||null===(a=e.anuga)||void 0===a?void 0:a.frictions,inflows:null==e||null===(i=e.anuga)||void 0===i?void 0:i.inflows,structures:null==e||null===(l=e.anuga)||void 0===l?void 0:l.structures,meshRegions:null==e||null===(u=e.anuga)||void 0===u?void 0:u.meshRegions,networks:null==e||null===(c=e.anuga)||void 0===c?void 0:c.networks}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,a.setOpenMenuGroupId)(n))},setAnugaScenarioMenu:function(n){return e((0,o.setAnugaScenarioMenu)(n))},runAnugaScenario:function(n){return e((0,o.runAnugaScenario)(n))},saveAnugaScenario:function(n){return e((0,o.saveAnugaScenario)(n))},updateAnugaScenario:function(n,t){return e((0,o.updateAnugaScenario)(n,t))},selectAnugaScenario:function(n){return e((0,o.selectAnugaScenario)(n))},showAnugaScenarioLog:function(n){return e((0,o.showAnugaScenarioLog)(n))},stopAnugaScenarioPolling:function(){return e((0,o.stopAnugaScenarioPolling)())},addAnugaScenario:function(){return e((0,o.addAnugaScenario)())},deleteAnugaScenario:function(n){return e((0,o.deleteAnugaScenario)(n))},cancelAnugaRun:function(n){return e((0,o.cancelAnugaRun)(n))},showAnugaRunMenu:function(n){return e((0,o.showAnugaRunMenu)(n))},toggleScenarioSelected:function(n){return e((0,o.toggleScenarioSelected)(n))},compareScenarios:function(n){return e((0,o.compareScenarios)(n))}}}))(ve);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function he(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,n){return(Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function Ee(e,n){if(n&&("object"===be(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Se=t(45697),Oe=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ae(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=we(r);if(o){var t=we(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Ee(this,e)});function i(){return ye(this,i),a.apply(this,arguments)}return n=i,(t=[{key:"render",value:function(){var e=this;return f().createElement("div",{id:"publication-panel",className:"simple-view-panel",style:{top:"70px"}},f().createElement("div",{className:"menu-rows-container"},f().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},"-- Under development -- Model review process.",f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){e.props.setReviewPanel(!1)}})),f().createElement("div",null,"Content")))}}])&&he(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component);function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,n){return(Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function Me(e,n){if(n&&("object"===Ne(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}_e(Oe,"propTypes",{setReviewPanel:Se.func}),_e(Oe,"defaultProps",{}),(0,g.connect)((function(e){var n,t;return{review:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.projectData)||void 0===t?void 0:t.review}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,a.setOpenMenuGroupId)(n))},setReviewPanel:function(n){return e((0,o.setReviewPanel)(n))}}}))(Oe);var Ie=t(45697),xe=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Re(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Ce(r);if(o){var t=Ce(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Me(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={figureTitle:""},n}return n=i,(t=[{key:"render",value:function(){var e,n=this;return f().createElement("div",{id:"publication-panel",className:"simple-view-panel",style:{top:"70px"}},f().createElement("div",{className:"menu-rows-container"},f().createElement("div",{className:"row",style:{height:"20px",textAlign:"left",fontSize:"large"}},f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){n.props.setPublicationPanel(!1)}})),null===(e=this.props.publications)||void 0===e?void 0:e.map((function(e){var t,r;return f().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},f().createElement("span",{style:{lineHeight:"40px"}},"Publish: ",null==e||null===(t=e.geostory)||void 0===t?void 0:t.title),f().createElement(E.Button,{bsStyle:"success",bsSize:"xlarge",style:{marginTop:"4px",borderRadius:"2px",float:"right",display:"inlineBlock"},onClick:function(){var n;window.open(null==e||null===(n=e.geostory)||void 0===n?void 0:n.detail_url,"_blank")}},"Edit Publication"),f().createElement("h3",{style:{display:"inlineBlock"}},"Figures"),null==e||null===(r=e.figures)||void 0===r?void 0:r.map((function(e){return f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",style:{borderRadius:"2px",marginTop:"5px",display:"block",width:"375px",textAlign:"left"},onClick:function(){window.open(null==e?void 0:e.detail_url,"_blank")}},null==e?void 0:e.title)})),f().createElement("div",{style:{borderTop:"2px solid #ffffffad",paddingTop:"15px",marginTop:"5px",marginBottom:"10px"}},f().createElement("input",{id:"figure-input",key:"figure-input",className:"data-title-input",style:{width:"375px",marginTop:"3px",marginRight:"5px",float:"left"},type:"text",value:n.state.figureTitle,onChange:function(e){return n.setState({figureTitle:e.target.value})}}),f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px",float:"left"},onClick:function(){n.props.createFigure(n.state.figureTitle,e.id),n.setState({networkTitle:""})}},"Create Figure")))}))))}}])&&Te(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component);Pe(xe,"propTypes",{publications:Ie.array,setPublicationPanel:Ie.func,createFigure:Ie.func,geonodeUrl:Ie.string,figureTitle:Ie.string}),Pe(xe,"defaultProps",{});var De=(0,g.connect)((function(e){var n,t;return{publications:(null==e||null===(n=e.anuga)||void 0===n?void 0:n.publications)||[],geonodeUrl:null==e||null===(t=e.gnsettings)||void 0===t?void 0:t.geonodeUrl}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,a.setOpenMenuGroupId)(n))},setPublicationPanel:function(n){return e((0,o.setPublicationPanel)(n))},createFigure:function(n,t){return e((0,o.createFigure)(n,t))}}}))(xe);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,n){return(je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function Le(e,n){if(n&&("object"===ke(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Be=t(45697),ze=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&je(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Ge(r);if(o){var t=Ge(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Le(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={},n}return n=i,(t=[{key:"render",value:function(){var e,n=this;return f().createElement("div",{id:"anuga-scenario-log-viewer-container"},f().createElement("h5",{style:{marginLeft:"9px"}},"Scenario: ",null===(e=this.props.selectedScenario)||void 0===e?void 0:e.name,f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return n.props.showAnugaScenarioLog(!1)}})),f().createElement("pre",{id:"anuga-scenario-log-viewer",style:{color:"white",background:"black"}},this.props.logText))}}])&&Ue(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component);Fe(ze,"propTypes",{selectedScenario:Be.object,showAnugaScenarioLog:Be.func,logText:Be.string}),Fe(ze,"defaultProps",{});var He=(0,g.connect)((function(e){var n;return{selectedScenario:null==e||null===(n=e.anuga)||void 0===n?void 0:n.selectedScenario}}),(function(e){return{showAnugaScenarioLog:function(n){return e((0,o.showAnugaScenarioLog)(n))}}}))(ze);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,n){return(Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function Ye(e,n){if(n&&("object"===We(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Ze(e)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var qe=t(45697),Qe=(t(472986),function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ke(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=$e(r);if(o){var t=$e(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Ye(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),Je(Ze(n=a.call(this,e)),"handleTextChange",(function(e,t){var r={};r[e.target.id]=e.target.value,n.props.updateNetwork(t,r)})),Je(Ze(n),"handleBoolChange",(function(e,t){var r={};r[e.target.id]=!t[e.target.id],n.props.updateNetwork(t,r)})),Je(Ze(n),"handleIntChange",(function(e,t){var r={};r[e.target.id]=parseInt(e.target.value,10),n.props.updateNetwork(t,r)})),Je(Ze(n),"handleNumberChange",(function(e,t){var r={};r[e.target.id]=parseFloat(e.target.value),n.props.updateNetwork(t,r)})),n.state={},n}return n=i,(t=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,n=this;return f().createElement("div",{id:"anuga-network-container",className:"simple-view-panel",style:{top:"70px",height:"80%",width:"80%"}},f().createElement("div",{className:"menu-rows-container"},f().createElement("div",{className:"row menu-row-header"},f().createElement("h3",null,"Hydrology"),f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){n.props.setNetworkMenu(!1)}}),f().createElement("div",null,f().createElement(E.Table,{className:"network-table"},f().createElement("thead",null,f().createElement("tr",{className:"network-table-header"},f().createElement("th",null,"Id"),f().createElement("th",null,"Name"),f().createElement("th",null,"Elevation"),f().createElement("th",null,"Nodes"),f().createElement("th",null,"Links"),f().createElement("th",null,"Method"),f().createElement("th",null,"Inflow Dataset",f().createElement("br",null),"to Store Results"),f().createElement("th",null))),f().createElement("tbody",null,null===(e=this.props.networks)||void 0===e?void 0:e.map((function(e){var t,r,o,a;return f().createElement("tr",{className:"scenario-table-row"},f().createElement("td",null,e.id),f().createElement("td",null,e.title),f().createElement("td",null,f().createElement("select",{id:"elevation",key:"elevation-".concat(e.id),value:null==e?void 0:e.elevation,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(t=n.props.elevations)||void 0===t?void 0:t.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"node",key:"node-".concat(e.id),value:null==e?void 0:e.node,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(r=n.props.nodes)||void 0===r?void 0:r.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"links",key:"links-".concat(e.id),value:null==e?void 0:e.links,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(o=n.props.links)||void 0===o?void 0:o.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"method",key:"method",value:"rational",className:"scenario-select"},f().createElement("option",{value:"rational"},"rational"))),f().createElement("td",null,f().createElement("select",{id:"inflow",key:"inflow-".concat(e.id),value:null==e?void 0:e.inflow,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(a=n.props.inflows)||void 0===a?void 0:a.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){n.props.runNetwork(e)}},"Run")))}))))))))}}])&&Ve(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component));Je(Qe,"propTypes",{setNetworkMenu:qe.func,updateNetwork:qe.func,runNetwork:qe.func,nodes:qe.array,links:qe.array,inflows:qe.array,elevations:qe.array,networks:qe.array}),Je(Qe,"defaultProps",{});var Xe=(0,g.connect)((function(e){var n,t,r,o,a,i;return{networks:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.networks)||void 0===t?void 0:t.sort((function(e,n){return e.id-n.id})),elevations:null==e||null===(r=e.anuga)||void 0===r?void 0:r.elevations,nodes:null==e||null===(o=e.anuga)||void 0===o?void 0:o.nodes,links:null==e||null===(a=e.anuga)||void 0===a?void 0:a.links,inflows:null==e||null===(i=e.anuga)||void 0===i?void 0:i.inflows}}),(function(e){return{setNetworkMenu:function(n){return e((0,o.setNetworkMenu)(n))},updateNetwork:function(n,t){return e((0,o.updateNetwork)(n,t))},runNetwork:function(n){return e((0,o.runNetwork)(n))}}}))(Qe);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,n){return(tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function rn(e,n){if(n&&("object"===en(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ln=t(45697),un=(t(472986),function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&tn(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=on(r);if(o){var t=on(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return rn(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={},n}return n=i,(t=[{key:"componentDidMount",value:function(){this.props.updateComputeInstance()}},{key:"render",value:function(){var e,n,t=this;return f().createElement("div",{id:"anuga-run-menu-container",className:"simple-view-panel",style:{top:"70px"}},f().createElement("div",{className:"menu-rows-container"},f().createElement("div",{className:"row menu-row-header"},f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){t.props.showAnugaRunMenu(!1),t.props.setAnugaScenarioMenu(!0)}}),f().createElement("div",null,f().createElement(E.Table,{className:"run-server-table"},f().createElement("thead",null,f().createElement("tr",{className:"run-server-table-header"},f().createElement("th",{style:{width:"200px",textAlign:"left"}},"Run Scenario"),f().createElement("th",{style:{width:"100px"}},"Available Hours"),f().createElement("th",{style:{width:"80px"}},"Run"),f().createElement("th",{style:{width:"80px"}},"Download"))),f().createElement("tbody",null,f().createElement("tr",{className:"run-server-table-row",style:{marginTop:"15px"}},f().createElement("td",{style:{textAlign:"left"}},this.props.selectedScenario.name),f().createElement("td",null,"200"),f().createElement("td",null,f().createElement(E.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){t.props.runAnugaScenario(t.props.selectedScenario,0),t.props.showAnugaRunMenu(!1),t.props.showAnugaScenarioLog(t.props.selectedScenario.id),t.props.setAnugaScenarioMenu(!0)}},"Run")),f().createElement("td",null,f().createElement(E.Button,{download:!0,href:null===(e=this.props.selectedScenario)||void 0===e||null===(n=e.latest_run)||void 0===n?void 0:n.s3_package_url,bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"}},f().createElement("span",{className:"glyphicon glyphicon-download","aria-hidden":"true"}))))))))),f().createElement(E.Button,{bsStyle:"success",bsSize:"small",style:{margin:"10px",borderRadius:"2px"},onClick:function(){t.props.showManageAccount(!0),t.props.showAnugaRunMenu(!1)}},"Manage Account"))}}])&&nn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component));an(un,"propTypes",{visibleAnugaRunMenu:ln.object,showAnugaRunMenu:ln.func,updateComputeInstance:ln.func,computeInstances:ln.array,selectedScenario:ln.object,runAnugaScenario:ln.func,setAnugaScenarioMenu:ln.func,showAnugaScenarioLog:ln.func,showManageAccount:ln.func}),an(un,"defaultProps",{});var cn=(0,g.connect)((function(e){var n,t;return{selectedScenario:null==e||null===(n=e.anuga)||void 0===n?void 0:n.selectedScenario,computeInstances:null==e||null===(t=e.anuga)||void 0===t?void 0:t.computeInstances}}),(function(e){return{showAnugaRunMenu:function(n){return e((0,o.showAnugaRunMenu)(n))},updateComputeInstance:function(){return e((0,o.updateComputeInstance)())},runAnugaScenario:function(n,t){return e((0,o.runAnugaScenario)(n,t))},setAnugaScenarioMenu:function(n){return e((0,o.setAnugaScenarioMenu)(n))},showAnugaScenarioLog:function(n){return e((0,o.showAnugaScenarioLog)(n))},showManageAccount:function(n){return e((0,o.showManageAccount)(n))}}}))(un);function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,n){return(dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function fn(e,n){if(n&&("object"===sn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var mn=t(45697),bn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&dn(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=gn(r);if(o){var t=gn(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return fn(this,e)});function i(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),a.call(this,e)}return n=i,(t=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.props.gnResourceLoaded&&!this.props.isAnugaProject&&(console.log("componentDidUpdate initing Anuga"),this.props.initAnuga())}},{key:"render",value:function(){var e,n=this;return this.props.isAnugaProject?f().createElement("div",{id:"anuga-container"},f().createElement("div",{id:"anuga-inputs"},f().createElement("button",{key:"anuga-input-button",className:"simple-view-menu-button",style:{left:120},onClick:function(){n.props.setAnugaInputMenu(!n.props.showAnugaInputMenu),n.props.setOpenMenuGroupId(null)}},"Inputs")),this.props.showAnugaInputMenu?f().createElement(re,null):null,this.props.canEditAnugaMap&&this.props.hasEPSGset?f().createElement("div",{id:"anuga-scenario"},f().createElement("button",{key:"anuga-scenario-button",className:"simple-view-menu-button",style:{left:220},onClick:function(){n.props.setAnugaScenarioMenu(!n.props.showAnugaScenarioMenu),n.props.showAnugaScenarioMenu?n.props.stopAnugaScenarioPolling():n.props.startAnugaScenarioPolling(),n.props.setOpenMenuGroupId(null)}},"Scenarios"),this.props.showAnugaScenarioMenu?f().createElement(me,null):null):null,this.props.canViewAnugaMap&&this.props.hasEPSGset?f().createElement("button",{id:"anugaContainer-results-button-01",key:"anugaContainer-".concat(null===(e=this.props.resultsGroup)||void 0===e?void 0:e.title),className:"simple-view-menu-button",style:{left:320},onClick:function(){n.props.setOpenMenuGroupId("Results")}},"Results"):null,this.props.canEditAnugaMap&&this.props.hasEPSGset?f().createElement("div",{id:"publication-panel-container"},f().createElement("button",{key:"publication-panel-button",className:"simple-view-menu-button disabled",style:{left:420},onClick:function(){n.props.setPublicationPanel(!n.props.showPublicationPanel),n.props.setOpenMenuGroupId(null)}},"Publish"),this.props.showPublicationPanel?f().createElement(De,null):null):null,this.props.visibleAnugaScenarioLogId?f().createElement(He,{logText:this.props.logText}):null,this.props.visibleAnugaRunMenu?f().createElement(cn,null):null,this.props.showNetworkMenu?f().createElement(Xe,null):null):null}}])&&pn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(f().Component);vn(bn,"propTypes",{initAnuga:mn.func,showAnugaInputMenu:mn.bool,setAnugaInputMenu:mn.func,showAnugaScenarioMenu:mn.bool,setAnugaScenarioMenu:mn.func,showAnugaResultMenu:mn.bool,setAnugaResultMenu:mn.func,showNetworkMenu:mn.bool,setReviewPanel:mn.func,showReviewPanel:mn.bool,setPublicationPanel:mn.func,showPublicationPanel:mn.bool,isAnugaMenuOpen:mn.bool,openMenuGroupId:mn.string,numberOfMenus:mn.number,setOpenMenuGroupId:mn.func,showAddAnugaElevationData:mn.bool,setAddAnugaElevation:mn.func,visibleAnugaScenarioLogId:mn.number,startAnugaScenarioPolling:mn.func,stopAnugaScenarioPolling:mn.func,updateCustomEditorsOptions:mn.func,logText:mn.string,gnResourceLoaded:mn.string,visibleAnugaRunMenu:mn.bool,canEditAnugaMap:mn.bool,canViewAnugaMap:mn.bool,hasEPSGset:mn.bool,resultsGroup:mn.object,isAnugaProject:mn.bool}),vn(bn,"defaultProps",{});const yn=(0,g.connect)((function(e){var n,t,r,o,a,i,l,u,c,s,p,d,f,g,v,m,b,A,E,w,_,S,O,N,T,R,M,C,P,I,x,D,k;return console.log("state for Anuga:",e),{logText:(null==e||null===(n=e.anuga)||void 0===n||null===(t=n.selectedScenario)||void 0===t?void 0:t.latest_run_is_valid)?(null==e||null===(r=e.anuga)||void 0===r||null===(o=r.selectedScenario)||void 0===o||null===(a=o.latest_run)||void 0===a?void 0:a.log)||"-":(null==e||null===(i=e.anuga)||void 0===i||null===(l=i.selectedScenario)||void 0===l?void 0:l.log)||"-",gnResourceLoaded:null==e||null===(u=e.gnresource)||void 0===u?void 0:u.id,isAnugaProject:null==e||null===(c=e.anuga)||void 0===c||null===(s=c.projectData)||void 0===s?void 0:s.id,hasEPSGset:!(null==e||null===(p=e.anuga)||void 0===p||null===(d=p.projectData)||void 0===d||!d.projection),anugaInputMenuGroupId:null==e||null===(f=e.layers)||void 0===f||null===(g=f.groups)||void 0===g||null===(v=g.filter((function(e){return"Input Data"===e.name})))||void 0===v||null===(m=v[0])||void 0===m?void 0:m.id,showAnugaInputMenu:null==e||null===(b=e.anuga)||void 0===b?void 0:b.showAnugaInputMenu,showAnugaScenarioMenu:null==e||null===(A=e.anuga)||void 0===A?void 0:A.showAnugaScenarioMenu,showAnugaResultMenu:null==e||null===(E=e.anuga)||void 0===E?void 0:E.showAnugaResultMenu,showReviewPanel:null==e||null===(w=e.anuga)||void 0===w?void 0:w.showReviewPanel,showPublicationPanel:null==e||null===(_=e.anuga)||void 0===_?void 0:_.showPublicationPanel,isAnugaMenuOpen:(null==e||null===(S=e.anuga)||void 0===S?void 0:S.showAnugaInputMenu)||(null==e||null===(O=e.anuga)||void 0===O?void 0:O.showAnugaScenarioMenu)||(null==e||null===(N=e.anuga)||void 0===N?void 0:N.showAnugaResultMenu),openMenuGroupId:null==e||null===(T=e.simpleView)||void 0===T?void 0:T.openMenuGroupId,numberOfMenus:(null==e||null===(R=e.layers)||void 0===R||null===(M=R.groups)||void 0===M?void 0:M.length)||1,showAddAnugaElevationData:null==e||null===(C=e.anuga)||void 0===C?void 0:C.showAddAnugaElevationData,visibleAnugaScenarioLogId:null==e||null===(P=e.anuga)||void 0===P?void 0:P.visibleAnugaScenarioLogId,visibleIntroduction:null==e||!e.simpleView.hasOwnProperty("visibleIntroduction")||(null==e||null===(I=e.simpleView)||void 0===I?void 0:I.visibleIntroduction),showNetworkMenu:null==e||null===(x=e.anuga)||void 0===x?void 0:x.showNetworkMenu,visibleNetworkMenu:null==e||null===(D=e.anuga)||void 0===D?void 0:D.visibleNetworkMenu,visibleAnugaRunMenu:null==e||null===(k=e.anuga)||void 0===k?void 0:k.visibleAnugaRunMenu,canEditAnugaMap:h(e),canViewAnugaMap:y(e)}}),(function(e){return{initAnuga:function(){return e((0,o.initAnuga)())},setAnugaInputMenu:function(n){return e((0,o.setAnugaInputMenu)(n))},setAnugaScenarioMenu:function(n){return e((0,o.setAnugaScenarioMenu)(n))},setAnugaResultMenu:function(n){return e((0,o.setAnugaResultMenu)(n))},setReviewPanel:function(n){return e((0,o.setReviewPanel)(n))},setPublicationPanel:function(n){return e((0,o.setPublicationPanel)(n))},setOpenMenuGroupId:function(n){return e((0,a.setOpenMenuGroupId)(n))},startAnugaScenarioPolling:function(){return e((0,o.startAnugaScenarioPolling)())},stopAnugaScenarioPolling:function(){return e((0,o.stopAnugaScenarioPolling)())}}}))(bn);var hn=t(49977),An=t.n(hn),En=t(580416),wn=t(197395),_n=t(801550),Sn=t(73443),On=t(433528),Nn=function(e,n){var t;if(0===(null===(t=e.data)||void 0===t?void 0:t.length))return An().Observable.empty();var r=[(0,o.initAnuga)(),(0,o.setCreatingAnugaLayer)(!1)];return e.data.map((function(e){0===n.getState().layers.flat.filter((function(n){return n.name===(null==e?void 0:e.name)})).length&&(r.unshift((0,En.A4)(e)),r.push((0,wn.show)({message:"New layers added... You should save your project.",title:"Layers added",uid:1e3,position:"tc"})))})),An().Observable.from(r)};const Tn=(0,r.rx)("Anuga",{component:yn,reducers:{anuga:function(){var e,n,t,r,l,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,s=arguments.length>1?arguments[1]:void 0;switch(console.log("ACTION anuga:",s),s.type){case o.SET_CREATING_ANUGA_LAYER:return c(c({},u),{},{isCreatingAnugaLayer:s.isCreatingAnugaLayer});case o.UPDATE_ANUGA_SCENARIO:return c(c({},u),{},{scenarios:u.scenarios.map((function(e){return e.id===s.scenario.id?(s.scenario.unsaved=!0,s.scenario):e}))});case o.UPDATE_NETWORK:return c(c({},u),{},{networks:u.networks.map((function(e){return e.id===s.network.id?(s.network.unsaved=!0,s.network):e}))});case o.TOGGLE_SCENARIO_SELECTED:return c(c({},u),{},{scenarios:u.scenarios.map((function(e){return e.id===s.scenario.id?(s.scenario.selected=!e.selected,s.scenario):e}))});case o.SET_ANUGA_POLLING_DATA:var d=u.scenarios.map((function(e){var n=s.scenarios.filter((function(n){return e.id===n.id}))[0];return e.latest_run=c({},null==n?void 0:n.latest_run),e.status=(null==n?void 0:n.status)||"unsaved",e.latest_run_is_valid=null==n?void 0:n.latest_run_is_valid,e})),f=null===(e=u.scenarios)||void 0===e?void 0:e.map((function(e){return null==e?void 0:e.id})),g=null===(n=s.scenarios)||void 0===n||null===(t=n.filter((function(e){return!f.includes(e.id)})))||void 0===t?void 0:t[0];return g&&(d=[].concat(i(d),[g])),console.log("scenarios",d),c(c({},u),{},{scenarios:d,selectedScenario:s.scenarios.filter((function(e){return u.selectedScenarioId===e.id}))[0]});case o.ADD_ANUGA_SCENARIO:return c(c({},u),{},{scenarios:[].concat(i(u.scenarios),[{id:null,name:"",code:null,description:"",maximum_triangle_area:1e3,constant_rainfall:null,duration:null,status:"new",project:null==u||null===(r=u.projectData)||void 0===r?void 0:r.id,boundary:"",elevation:"",log:"log placeholder",unsaved:!1,selected:!1}])});case o.SET_ANUGA_SCENARIO_IS_LOADED:return c(c({},u),{},{scenarios:u.scenarios.map((function(e){return e.id===s.scenarioId?(e.isLoaded=s.isLoaded,e):e}))});case o.SHOW_ANUGA_SCENARIO_LOG:return c(c({},u),{},{visibleAnugaScenarioLogId:s.scenarioId});case o.SHOW_ANUGA_RUN_MENU:return c(c({},u),{},{visibleAnugaRunMenu:s.visible});case o.SAVE_ANUGA_SCENARIO_SUCCESS:return c(c({},u),{},{scenarios:u.scenarios.map((function(e){return e.id===s.scenario.id?(s.scenario.unsaved=!1,s.scenario):e.id?e:s.scenario}))});case o.SELECT_ANUGA_SCENARIO:return c(c({},u),{},{selectedScenarioId:s.scenario.id,selectedScenario:s.scenario});case o.SET_ANUGA_PROJECT_DATA:return c(c({},u),{},{projectData:s.data});case o.SET_ANUGA_SCENARIO_DATA:return 0===u.scenarios.length?c(c({},u),{},{scenarios:s.scenarios}):c(c({},u),{},{scenarios:null===(l=u.scenarios)||void 0===l?void 0:l.map((function(e){var n;return e.unsaved?c(c({},s.scenario),{},{unsaved:!0}):(null==e?void 0:e.id)===(null===(n=s.scenario)||void 0===n?void 0:n.id)?(s.scenario.unsaved=!1,s.scenario):e}))});case o.UPDATE_COMPUTE_INSTANCE_SUCCESS:return c(c({},u),{},{computeInstances:s.data});case o.SET_COMPARISON_DATA:return c(c({},u),{},{comparisons:s.data});case o.SET_ANUGA_INFLOW_DATA:return c(c({},u),{},{inflows:s.data});case o.SET_ANUGA_FRICTION_DATA:return c(c({},u),{},{frictions:s.data});case o.SET_ANUGA_STRUCTURE_DATA:return c(c({},u),{},{structures:s.data});case o.SET_ANUGA_BOUNDARY_DATA:return c(c({},u),{},{boundaries:s.data});case o.SET_ANUGA_ELEVATION_DATA:return c(c({},u),{},{elevations:s.data});case o.SET_ANUGA_FULL_MESH_DATA:return c(c({},u),{},{fullMeshes:s.data});case o.SET_ANUGA_MESH_REGION_DATA:return c(c({},u),{},{meshRegions:s.data});case o.SET_NETWORK_DATA:return c(c({},u),{},{networks:s.data});case o.SET_LUMPED_CATCHMENT_DATA:return c(c({},u),{},{catchments:s.data});case o.SET_ANUGA_NODES_DATA:return c(c({},u),{},{nodes:s.data});case o.SET_ANUGA_LINKS_DATA:return c(c({},u),{},{links:s.data});case o.SET_PUBLICATION_DATA:return c(c({},u),{},{publications:s.data});case a.SET_OPEN_MENU_GROUP_ID:return s.openMenuGroupId?c(c({},u),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1}):u;case o.SET_ANUGA_INPUT_MENU:return c(c({},u),{},{showAnugaInputMenu:s.visible,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1,showNetworkMenu:!1,showReviewPanel:!1,showPublicationPanel:!1});case o.SET_ANUGA_SCENARIO_MENU:return c(c({},u),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:s.visible,showAnugaResultMenu:!1,showNetworkMenu:!1,showReviewPanel:!1,showPublicationPanel:!1});case o.SET_ANUGA_RESULT_MENU:return c(c({},u),{},{showAnugaScenarioMenu:!1,showAnugaInputMenu:!1,showAnugaResultMenu:s.visible,showNetworkMenu:!1,showReviewPanel:!1,showPublicationPanel:!1});case o.SET_NETWORK_MENU:return c(c({},u),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1,showNetworkMenu:s.visible,showReviewPanel:!1,showPublicationPanel:!1});case o.SET_REVIEW_PANEL:return c(c({},u),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1,showNetworkMenu:!1,showReviewPanel:s.visible,showPublicationPanel:!1});case o.SET_PUBLICATION_PANEL:return c(c({},u),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1,showNetworkMenu:!1,showReviewPanel:!1,showPublicationPanel:s.visible});default:return u}}},epics:{initAnugaEpic:function(e,n){return e.ofType(o.INIT_ANUGA,a.UPDATE_DATASET_TITLE_SUCCESS).filter((function(){var e;return null===(e=n.getState())||void 0===e?void 0:e.gnresource.id})).switchMap((function(){var e;return An().Observable.from(j().post("/anuga/api/project/get_project_from_map_id/",{mapId:null===(e=n.getState())||void 0===e?void 0:e.gnresource.id}).catch((function(e){return console.log("**",e),"error"}))).filter((function(e){return(null==e?void 0:e.status)<=400})).filter((function(){var e,t;return!(null===(e=n.getState())||void 0===e||null===(t=e.security)||void 0===t||!t.user)})).switchMap((function(e){return An().Observable.from(j().get("/anuga/api/project/".concat(e.data.projectId,"/"))).switchMap((function(n){return An().Observable.of((0,o.setAnugaProjectData)(n.data)).concat(An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/scenario/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaScenarioData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/boundary/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaBoundaryData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/elevation/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaElevationData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/inflow/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaInflowData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/structure/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaStructureData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/friction/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaFrictionData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/full-mesh/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaFullMeshData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/mesh-region/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaMeshRegionData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/network/"))).switchMap((function(e){return An().Observable.of((0,o.setNetworkData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/catchment/"))).switchMap((function(e){return An().Observable.of((0,o.setCatchmentData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/nodes/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaNodesData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/links/"))).switchMap((function(e){return An().Observable.of((0,o.setAnugaLinksData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/comparison/"))).switchMap((function(e){return An().Observable.of((0,o.setComparisonData)(e.data))})),An().Observable.from(j().get("/anuga/api/".concat(e.data.projectId,"/publication/"))).switchMap((function(e){return An().Observable.of((0,o.setPublicationData)(e.data))})),An().Observable.of((0,o.startAnugaScenarioPolling)()))})).filter((function(e){return e}))}))})).filter((function(e){return e}))},cancelAnugaRunEpic:function(e,n){return e.ofType(o.CANCEL_ANUGA_RUN).concatMap((function(e){var t,r,o;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/scenario/").concat(e.scenario.id,"/run/"),e))})).concatMap((function(e){var t,r,o;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/scenario/").concat(e.scenario.id,"/cancel/"),{runId:e.scenario.latest_run.id}))})).concatMap((function(){return An().Observable.of((0,wn.show)({message:"cancelling..."},"warning"))}))},pollAnugaElevationEpic:function(e,n){return e.ofType(o.START_ANUGA_ELEVATION_POLLING).switchMap((function(){return An().Observable.timer(0,6e3).takeUntil(e.ofType(o.STOP_ANUGA_ELEVATION_POLLING)).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/elevation/available/"))).catch((function(e){return e}))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){var t,r,i,l,u,c;return(null===(t=e.data)||void 0===t?void 0:t.length)<2?An().Observable.empty():An().Observable.concat(An().Observable.of((0,o.stopAnugaElevationPolling)()),An().Observable.of((function(){var e,t,r,o=(null===(e=n.getState())||void 0===e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(e){return"wms"===e.type&&"background"!==e.group})))||[];return(0,En.oZ)(o)})),An().Observable.of((0,En.A4)(e.data[0])),An().Observable.of((0,En.A4)(null===(r=e.data)||void 0===r?void 0:r[1])),An().Observable.of((0,_n.Px)(null===(i=e.data[0])||void 0===i||null===(l=i.bbox)||void 0===l?void 0:l.bounds,null===(u=e.data[0])||void 0===u||null===(c=u.bbox)||void 0===c?void 0:c.crs,20)),An().Observable.of((0,a.updateUploadStatus)("Complete")),An().Observable.of((0,Sn.nY)()),An().Observable.of((0,o.initAnuga)()),An().Observable.of((0,o.startAnugaModelCreationPolling)()),An().Observable.of((function(){var e,t,r,o=(null===(e=n.getState())||void 0===e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(e){return"wms"===e.type&&"background"!==e.group})))||[];return(0,En.oZ)(o)})))}))}))},runAnugaScenarioEpic:function(e,n){return e.ofType(o.RUN_ANUGA_SCENARIO).concatMap((function(e){var t,r,a;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/scenario/").concat(e.scenario.id,"/run/"),e).then((function(e){return(0,o.runAnugaScenarioSuccess)(e.data)})))})).concatMap((function(){return An().Observable.of((0,o.setAnugaScenarioMenu)(!0))}))},runNetworkEpic:function(e,n){return e.ofType(o.RUN_NETWORK).concatMap((function(e){var t,r,a;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/network/").concat(e.network.id,"/run/"),e.network).then((function(e){return(0,o.runNetworkSuccess)(e.data)})))})).concatMap((function(){return An().Observable.of((0,o.setNetworkMenu)(!0))}))},saveAnugaScenarioEpic:function(e,n){return e.ofType(o.SAVE_ANUGA_SCENARIO).switchMap((function(e){var t,r,a,i,l,u;return e.scenario.log=e.scenario.log||"anuga log",e.scenario.id?An().Observable.from(j().put("/anuga/api/".concat(null===(i=n.getState())||void 0===i||null===(l=i.anuga)||void 0===l||null===(u=l.projectData)||void 0===u?void 0:u.id,"/scenario/").concat(e.scenario.id,"/"),e.scenario).then((function(e){return(0,o.saveAnugaScenarioSuccess)(e.data)})).catch((function(e){return(0,o.saveAnugaScenarioError)(e)}))):An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/scenario/"),e.scenario).then((function(e){return(0,o.saveAnugaScenarioSuccess)(e.data)})).catch((function(e){return(0,o.saveAnugaScenarioError)(e)})))}))},pollAnugaScenarioEpic:function(e,n){return e.ofType(o.START_ANUGA_SCENARIO_POLLING).switchMap((function(){return An().Observable.timer(0,8e3).takeUntil(e.ofType(o.STOP_ANUGA_SCENARIO_POLLING)).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/scenario/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return An().Observable.of((0,o.setAnugaPollingData)(e.data)).switchMap((function(e){var t,r,a,i,l,u,c,s,p,d,f,g,v,m,b,y,h,A,E,w,_,S,O,N,T,R,M,C,P,I,x,D=(null===(t=e.scenarios)||void 0===t?void 0:t.filter((function(e){var n;return"complete"===(null===(n=e.latest_run)||void 0===n?void 0:n.status)}))).filter((function(e){var t,r,o;return null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.scenarios)||void 0===o?void 0:o.filter((function(t){var r,o,a,i,l,u,c,s,p,d,f,g=(null==t?void 0:t.id)===e.id,v=!t.isLoaded,m=(r=t,p=null==(o=n.getState())||null===(a=o.layers)||void 0===a||null===(i=a.flat)||void 0===i?void 0:i.filter((function(e){var n,t;return e.name===(null==r||null===(n=r.latest_run)||void 0===n||null===(t=n.gn_layer_depth_max)||void 0===t?void 0:t.name)})),d=null==o||null===(l=o.layers)||void 0===l||null===(u=l.flat)||void 0===u?void 0:u.filter((function(e){var n,t;return e.name===(null==r||null===(n=r.latest_run)||void 0===n||null===(t=n.gn_layer_depth_integrated_velocity_max)||void 0===t?void 0:t.name)})),f=null==o||null===(c=o.layers)||void 0===c||null===(s=c.flat)||void 0===s?void 0:s.filter((function(e){var n,t;return e.name===(null==r||null===(n=r.latest_run)||void 0===n||null===(t=n.gn_layer_velocity_max)||void 0===t?void 0:t.name)})),!(null!=p&&p.length&&null!=d&&d.length&&null!=f&&f.length));return g&&v&&m?e:null}))[0]}))[0],k=null===(r=n.getState())||void 0===r||null===(a=r.layers)||void 0===a||null===(i=a.flat)||void 0===i?void 0:i.map((function(e){return null==e?void 0:e.name})),U=(null===(l=n.getState())||void 0===l||null===(u=l.layers)||void 0===u||null===(c=u.flat)||void 0===c?void 0:c.filter((function(e){return"wms"===(null==e?void 0:e.type)&&"background"!==(null==e?void 0:e.group)})))||[],j=[null==D||null===(s=D.latest_run)||void 0===s||null===(p=s.gn_layer_depth_integrated_velocity_max)||void 0===p?void 0:p.title,null==D||null===(d=D.latest_run)||void 0===d||null===(f=d.gn_layer_depth_max)||void 0===f?void 0:f.title,null==D||null===(g=D.latest_run)||void 0===g||null===(v=g.gn_layer_velocity_max)||void 0===v?void 0:v.title],L=null===(m=n.getState())||void 0===m||null===(b=m.layers)||void 0===b||null===(y=b.flat)||void 0===y?void 0:y.filter((function(e){return j.includes(e.title)}));return console.log("remove these existingResultLayers:",L),D&&null!=D&&null!==(h=D.latest_run)&&void 0!==h&&null!==(A=h.gn_layer_depth_integrated_velocity_max)&&void 0!==A&&A.catalogURL&&null!=D&&null!==(E=D.latest_run)&&void 0!==E&&null!==(w=E.gn_layer_depth_max)&&void 0!==w&&w.catalogURL&&null!=D&&null!==(_=D.latest_run)&&void 0!==_&&null!==(S=_.gn_layer_velocity_max)&&void 0!==S&&S.catalogURL&&!k.includes(null==D||null===(O=D.latest_run)||void 0===O||null===(N=O.gn_layer_depth_integrated_velocity_max)||void 0===N?void 0:N.name)&&!k.includes(null==D||null===(T=D.latest_run)||void 0===T||null===(R=T.gn_layer_depth_max)||void 0===R?void 0:R.name)&&!k.includes(null==D||null===(M=D.latest_run)||void 0===M||null===(C=M.gn_layer_velocity_max)||void 0===C?void 0:C.name)?An().Observable.concat(An().Observable.of((0,En.$o)(null==L||null===(P=L[0])||void 0===P?void 0:P.id)),An().Observable.of((0,En.$o)(null==L||null===(I=L[1])||void 0===I?void 0:I.id)),An().Observable.of((0,En.$o)(null==L||null===(x=L[2])||void 0===x?void 0:x.id)),An().Observable.of((0,o.setAnugaPollingData)(e.scenarios)),An().Observable.of((0,En.A4)(D.latest_run.gn_layer_depth_integrated_velocity_max)),An().Observable.of((0,En.A4)(D.latest_run.gn_layer_depth_max)),An().Observable.of((0,En.A4)(D.latest_run.gn_layer_velocity_max)),An().Observable.of((0,o.setAnugaScenarioResultsLoaded)(null==D?void 0:D.id,!0)),An().Observable.of((0,En.oZ)(U))):An().Observable.of((0,o.setAnugaPollingData)(e.scenarios))}))}))}))}))},deleteAnugaScenarioEpic:function(e,n){return e.ofType(o.DELETE_ANUGA_SCENARIO).concatMap((function(e){var t,r,o;return An().Observable.from(j().delete("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/scenario/").concat(e.scenario.id,"/")))})).concatMap((function(e){return An().Observable.of((0,o.deleteAnugaScenarioSuccess)(e.data))}))},createAnugaBoundaryEpic:function(e,n){return e.ofType(o.CREATE_ANUGA_BOUNDARY).switchMap((function(e){var t,r,o,a,i,l;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/boundary/"),{project:null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id,title:e.boundaryTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return An().Observable.of((0,o.addAnugaBoundary)())}))},createAnugaFrictionEpic:function(e,n){return e.ofType(o.CREATE_ANUGA_FRICTION).switchMap((function(e){var t,r,o,a,i,l;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/friction/"),{project:null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id,title:e.frictionTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return An().Observable.of((0,o.addAnugaFriction)())}))},createAnugaInflowEpic:function(e,n){return e.ofType(o.CREATE_ANUGA_INFLOW).switchMap((function(e){var t,r,o,a,i,l;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/inflow/"),{project:null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id,title:e.inflowTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return An().Observable.of((0,o.addAnugaInflow)())}))},createAnugaStructureEpic:function(e,n){return e.ofType(o.CREATE_ANUGA_STRUCTURE).switchMap((function(e){var t,r,o,a,i,l;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/structure/"),{project:null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id,title:e.structureTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return An().Observable.of((0,o.addAnugaStructure)())}))},createAnugaMeshRegionEpic:function(e,n){return e.ofType(o.CREATE_ANUGA_MESH_REGION).switchMap((function(e){var t,r,o,a,i,l;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/mesh-region/"),{project:null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id,title:e.meshRegionTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return An().Observable.of((0,o.addAnugaMeshRegion)())}))},createNetworkEpic:function(e,n){return e.ofType(o.CREATE_NETWORK).switchMap((function(e){var t,r,o,a,i,l;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/network/"),{project:null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id,title:e.networkTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return An().Observable.of((0,o.addNetwork)())}))},createCatchmentEpic:function(e,n){return e.ofType(o.CREATE_LUMPED_CATCHMENT).switchMap((function(e){var t,r,o,a,i,l;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/catchment/"),{project:null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id,title:e.catchmentTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return An().Observable.of((0,o.addCatchment)())}))},createNodesEpic:function(e,n){return e.ofType(o.CREATE_NODES).switchMap((function(e){var t,r,o,a,i,l;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/nodes/"),{project:null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id,title:e.nodesTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return An().Observable.of((0,o.addNodes)())}))},createLinksEpic:function(e,n){return e.ofType(o.CREATE_LINKS).switchMap((function(e){var t,r,o,a,i,l;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/links/"),{project:null===(a=n.getState())||void 0===a||null===(i=a.anuga)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id,title:e.linksTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return An().Observable.of((0,o.addLinks)())}))},createFigureEpic:function(e,n){return e.ofType(o.CREATE_FIGURE).switchMap((function(e){var t,r,o;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(o=r.projectData)||void 0===o?void 0:o.id,"/publication/").concat(e.publicationId,"/create-figure/"),{title:e.figureTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){var n;return console.log("response1:",e),window.open(null==e||null===(n=e.data)||void 0===n?void 0:n.detail_url,"_blank").focus(),An().Observable.of((0,o.initAnuga)())}))},addAnugaBoundaryEpic:function(e,n){return e.ofType(o.ADD_ANUGA_BOUNDARY).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/boundary/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))},addAnugaFrictionEpic:function(e,n){return e.ofType(o.ADD_ANUGA_FRICTION).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/friction/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))},addAnugaInflowEpic:function(e,n){return e.ofType(o.ADD_ANUGA_INFLOW).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/inflow/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))},addAnugaStructureEpic:function(e,n){return e.ofType(o.ADD_ANUGA_STRUCTURE).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/structure/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))},addAnugaFullMeshEpic:function(e,n){return e.ofType(o.ADD_ANUGA_FULL_MESH).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/full-mesh/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))},addAnugaMeshRegionEpic:function(e,n){return e.ofType(o.ADD_ANUGA_MESH_REGION).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/mesh-region/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))},addCatchmentEpic:function(e,n){return e.ofType(o.ADD_LUMPED_CATCHMENT).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/catchment/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))},addNodesEpic:function(e,n){return e.ofType(o.ADD_NODES).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/nodes/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))},addLinksEpic:function(e,n){return e.ofType(o.ADD_LINKS).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/links/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))},prePopulateAnugaFeatureGridWithDefaults:function(e,n){return e.ofType(On.IN).concatMap((function(e){return An().Observable.of(e)})).filter((function(){return["geonode:bdy_","geonode:inf_","geonode:str_","geonode:fri_","geonode:mes_"].some((function(e){var t,r;return null===(t=n.getState())||void 0===t||null===(r=t.featuregrid)||void 0===r?void 0:r.selectedLayer.includes(e)}))})).concatMap((function(e){var t,r,o,a,i;return null!=e&&null!==(t=e.features)&&void 0!==t&&t[0]&&(null===(r=Object.keys(null==e||null===(o=e.features)||void 0===o?void 0:o[0]))||void 0===r?void 0:r.length)>0?An().Observable.empty():(e.features[0].properties={"geonode:bdy_":{location:"External",boundary:"Dirichlet"},"geonode:inf_":{type:"Rainfall",data:100},"geonode:str_":{method:"Holes"},"geonode:fri_":{manning:.035},"geonode:mes_":{resolution:10}}[null===(a=n.getState())||void 0===a||null===(i=a.featuregrid)||void 0===i?void 0:i.selectedLayer.substring(0,12)],An().Observable.of(e))}))},updateComputeInstanceEpic:function(e,n){return e.ofType(o.UPDATE_COMPUTE_INSTANCE).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/compute-instance/"))).switchMap((function(e){return An().Observable.of((0,o.updateComputeInstanceSuccess)(e.data))}))}))},updateAnugaModelTitle:function(e,n){return e.ofType(a.UPDATE_DATASET_TITLE).switchMap((function(e){return An().Observable.from(j().get("/api/v2/datasets?search=".concat(e.datasetName.split("geonode:")[1],"&search_fields=name"))).switchMap((function(t){var r,o,a,i,l,u,c,s,p,d,f=parseInt(null==t||null===(r=t.data)||void 0===r||null===(o=r.datasets)||void 0===o||null===(a=o[0])||void 0===a?void 0:a.pk,10),g=null===(i=(s=null==n?void 0:n.getState(),p={elevations:"elevation",boundaries:"boundary",frictions:"friction",inflows:"inflow",meshRegions:"mesh-region",structures:"structure",catchments:"catchment",nodes:"nodes",links:"links"},d=Array(),["elevations","boundaries","frictions","inflows","meshRegions","structures","catchments","nodes","links"].map((function(e){var n;null==s||null===(n=s.anuga)||void 0===n||n[e].map((function(n){d.push(m(m({},n),{},{apiKey:p[e]}))}))})),d).filter((function(e){return e.gn_layer===f})))||void 0===i?void 0:i[0];return An().Observable.from(j().patch("/anuga/api/".concat(null===(l=n.getState())||void 0===l||null===(u=l.anuga)||void 0===u||null===(c=u.projectData)||void 0===c?void 0:c.id,"/").concat(g.apiKey,"/").concat(g.id,"/"),{title:e.newTitle}))})).switchMap((function(){return An().Observable.empty()}))}))},pollAnugaModelCreationEpic:function(e){return e.ofType(o.START_ANUGA_MODEL_CREATION_POLLING).switchMap((function(){return An().Observable.timer(0,1e4).takeUntil(e.ofType(o.STOP_ANUGA_MODEL_CREATION_POLLING)).switchMap((function(){return An().Observable.concat(An().Observable.of((0,o.addAnugaBoundary)()),An().Observable.of((0,o.addAnugaFriction)()),An().Observable.of((0,o.addAnugaStructure)()),An().Observable.of((0,o.addAnugaInflow)()),An().Observable.of((0,o.addAnugaFullMesh)()),An().Observable.of((0,o.addAnugaMeshRegion)()),An().Observable.of((0,o.addNetwork)()),An().Observable.of((0,o.addCatchment)()),An().Observable.of((0,o.addNodes)()),An().Observable.of((0,o.addLinks)()))}))}))},compareScenarioEpic:function(e,n){return e.ofType(o.COMPARE_SCENARIOS).concatMap((function(e){var t,r,a;return An().Observable.from(j().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/scenario/compare/"),e.scenarios).then((function(e){return(0,o.compareScenariosSuccess)(e.data)})))}))},pollComparisonEpic:function(e,n){return e.ofType(a.SET_OPEN_MENU_GROUP_ID).filter((function(e){return"Results"===(null==e?void 0:e.openMenuGroupId)})).switchMap((function(){return An().Observable.timer(0,1e4).takeUntil(e.ofType(o.STOP_COMPARISON_POLLING)).switchMap((function(){return An().Observable.concat(An().Observable.of((0,o.addComparison)()))}))}))},addComparisonEpic:function(e,n){return e.ofType(o.ADD_COMPARISON).switchMap((function(){var e,t,r;return An().Observable.from(j().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/comparison/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Nn(e,n)}))}))}}})},368658:(e,n,t)=>{function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(197395).SHOW_NOTIFICATION,l=t(423570),u="INIT_ANUGA",c="SET_ANUGA_INPUT_MENU",s="SET_ANUGA_SCENARIO_MENU",p="SET_ANUGA_RESULT_MENU",d="SET_NETWORK_MENU",f="SET_REVIEW_PANEL",g="SET_PUBLICATION_PANEL",v="SET_ANUGA_PROJECT_DATA",m="SET_ANUGA_SCENARIO_DATA",b="SET_ANUGA_BOUNDARY_DATA",y="SET_ANUGA_FRICTION_DATA",h="SET_ANUGA_INFLOW_DATA",A="SET_ANUGA_STRUCTURE_DATA",E="SET_ANUGA_FULL_MESH_DATA",w="SET_ANUGA_MESH_REGION_DATA",_="SET_NETWORK_DATA",S="SET_LUMPED_CATCHMENT_DATA",O="SET_ANUGA_NODES_DATA",N="SET_ANUGA_LINKS_DATA",T="SET_PUBLICATION_DATA",R="CREATE_ANUGA_BOUNDARY",M="CREATE_ANUGA_FRICTION",C="CREATE_ANUGA_INFLOW",P="CREATE_ANUGA_STRUCTURE",I="CREATE_ANUGA_MESH_REGION",x="CREATE_NETWORK",D="CREATE_LUMPED_CATCHMENT",k="CREATE_NODES",U="CREATE_LINKS",j="CREATE_FIGURE",L="ADD_ANUGA_BOUNDARY",G="ADD_ANUGA_FRICTION",F="ADD_ANUGA_INFLOW",B="ADD_ANUGA_STRUCTURE",z="ADD_ANUGA_FULL_MESH",H="ADD_ANUGA_MESH_REGION",W="ADD_ANUGA_NETWORK",V="ADD_LUMPED_CATCHMENT",K="ADD_NODES",Y="ADD_LINKS",Z="ADD_COMPARISON",$="SET_ANUGA_ELEVATION_DATA",J="CREATE_ANUGA_ELEVATION_FROM_LAYER",q="SET_ADD_ANUGA_ELEVATION_DATA",Q="ADD_ANUGA_SCENARIO",X="RUN_ANUGA_SCENARIO",ee="RUN_ANUGA_SCENARIO_SUCCESS",ne="RUN_NETWORK",te="RUN_NETWORK_SUCCESS",re="SAVE_ANUGA_SCENARIO",oe="SAVE_ANUGA_SCENARIO_SUCCESS",ae="SAVE_ANUGA_SCENARIO_ERROR",ie="DELETE_ANUGA_SCENARIO",le="SHOW_ANUGA_SCENARIO_LOG",ue="SHOW_ANUGA_RUN_MENU",ce="START_ANUGA_SCENARIO_POLLING",se="STOP_ANUGA_SCENARIO_POLLING",pe="START_ANUGA_ELEVATION_POLLING",de="STOP_ANUGA_ELEVATION_POLLING",fe="START_ANUGA_MODEL_CREATION_POLLING",ge="STOP_ANUGA_MODEL_CREATION_POLLING",ve="START_COMPARISON_POLLING",me="STOP_COMPARISON_POLLING",be="SET_COMPARISON_DATA",ye="SET_ANUGA_POLLING_DATA",he="UPDATE_ANUGA_SCENARIO",Ae="UPDATE_NETWORK",Ee="SELECT_ANUGA_SCENARIO",we="SET_CREATING_ANUGA_LAYER",_e="SET_ANUGA_SCENARIO_IS_LOADED",Se="CANCEL_ANUGA_RUN",Oe="UPDATE_COMPUTE_INSTANCE",Ne="UPDATE_COMPUTE_INSTANCE_SUCCESS",Te="TOGGLE_SCENARIO_SELECTED",Re="SHOW_MANAGE_ACCOUNT",Me="COMPARE_SCENARIOS",Ce="COMPARE_SCENARIOS_SUCCESS";e.exports={INIT_ANUGA:u,initAnuga:function(){return{type:u}},SET_ANUGA_INPUT_MENU:c,setAnugaInputMenu:function(e){return{type:c,visible:e}},SET_ANUGA_SCENARIO_MENU:s,setAnugaScenarioMenu:function(e){return{type:s,visible:e}},SET_ANUGA_RESULT_MENU:p,setAnugaResultMenu:function(e){return{type:p,visible:e}},SET_REVIEW_PANEL:f,setReviewPanel:function(e){return{type:f,visible:e}},SET_PUBLICATION_PANEL:g,setPublicationPanel:function(e){return{type:g,visible:e}},SET_ANUGA_PROJECT_DATA:v,setAnugaProjectData:function(e){return{type:v,data:e}},SET_ANUGA_SCENARIO_DATA:m,setAnugaScenarioData:function(e){return{type:m,scenarios:e}},SET_ANUGA_ELEVATION_DATA:$,setAnugaElevationData:function(e){return{type:$,data:e}},SET_ANUGA_BOUNDARY_DATA:b,setAnugaBoundaryData:function(e){return{type:b,data:e}},SET_ANUGA_FRICTION_DATA:y,setAnugaFrictionData:function(e){return{type:y,data:e}},SET_ANUGA_INFLOW_DATA:h,setAnugaInflowData:function(e){return{type:h,data:e}},SET_ANUGA_STRUCTURE_DATA:A,setAnugaStructureData:function(e){return{type:A,data:e}},SET_ANUGA_FULL_MESH_DATA:E,setAnugaFullMeshData:function(e){return{type:E,data:e}},SET_ANUGA_MESH_REGION_DATA:w,setAnugaMeshRegionData:function(e){return{type:w,data:e}},SET_NETWORK_DATA:_,setNetworkData:function(e){return{type:_,data:e}},SET_LUMPED_CATCHMENT_DATA:S,setCatchmentData:function(e){return{type:S,data:e}},SET_ANUGA_NODES_DATA:O,setAnugaNodesData:function(e){return{type:O,data:e}},SET_ANUGA_LINKS_DATA:N,setAnugaLinksData:function(e){return{type:N,data:e}},SET_PUBLICATION_DATA:T,setPublicationData:function(e){return{type:T,data:e}},CREATE_ANUGA_BOUNDARY:R,createAnugaBoundary:function(e){return{type:R,boundaryTitle:e}},CREATE_ANUGA_FRICTION:M,createAnugaFriction:function(e){return{type:M,frictionTitle:e}},CREATE_ANUGA_INFLOW:C,createAnugaInflow:function(e){return{type:C,inflowTitle:e}},CREATE_ANUGA_STRUCTURE:P,createAnugaStructure:function(e){return{type:P,structureTitle:e}},CREATE_ANUGA_MESH_REGION:I,createAnugaMeshRegion:function(e){return{type:I,meshRegionTitle:e}},CREATE_NETWORK:x,createNetwork:function(e){return{type:x,networkTitle:e}},CREATE_LUMPED_CATCHMENT:D,createCatchment:function(e){return{type:D,catchmentTitle:e}},CREATE_NODES:k,createNodes:function(e){return{type:k,nodesTitle:e}},CREATE_LINKS:U,createLinks:function(e){return{type:U,linksTitle:e}},CREATE_FIGURE:j,createFigure:function(e,n){return{type:j,figureTitle:e,publicationId:n}},ADD_ANUGA_BOUNDARY:L,addAnugaBoundary:function(){return{type:L}},ADD_ANUGA_FRICTION:G,addAnugaFriction:function(){return{type:G}},ADD_ANUGA_INFLOW:F,addAnugaInflow:function(){return{type:F}},ADD_ANUGA_STRUCTURE:B,addAnugaStructure:function(){return{type:B}},ADD_ANUGA_MESH_REGION:H,addAnugaMeshRegion:function(){return{type:H}},ADD_ANUGA_FULL_MESH:z,addAnugaFullMesh:function(){return{type:z}},ADD_NETWORK:W,addNetwork:function(){return{type:W}},ADD_LUMPED_CATCHMENT:V,addCatchment:function(){return{type:V}},ADD_NODES:K,addNodes:function(){return{type:K}},ADD_LINKS:Y,addLinks:function(){return{type:Y}},ADD_COMPARISON:Z,addComparison:function(){return{type:Z}},SET_ADD_ANUGA_ELEVATION_DATA:q,setAddAnugaElevation:function(e){return{type:q,visible:e}},CREATE_ANUGA_ELEVATION_FROM_LAYER:J,createAnugaElevationFromLayer:function(e,n){return{type:J,pk:e,title:n}},SAVE_ANUGA_SCENARIO:re,saveAnugaScenario:function(e){return{type:re,scenario:e}},ADD_ANUGA_SCENARIO:Q,addAnugaScenario:function(){return{type:Q}},SAVE_ANUGA_SCENARIO_SUCCESS:oe,saveAnugaScenarioSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario ID: ".concat(e.id," building"),uid:l(),level:"success"}),n({type:oe,scenario:e})}},SAVE_ANUGA_SCENARIO_ERROR:ae,saveAnugaScenarioError:function(e){return function(n){n({type:i,title:"Error",autoDismiss:60,position:"tc",message:"Error saving scenario: ".concat(JSON.stringify(null==e?void 0:e.data)),uid:l(),level:"error"}),n({type:ae,error:e})}},DELETE_ANUGA_SCENARIO:ie,deleteAnugaScenario:function(e){return{type:ie,scenario:e}},DELETE_ANUGA_SCENARIO_SUCCESS:"DELETE_ANUGA_SCENARIO_SUCCESS",deleteAnugaScenarioSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario ID: ".concat(e.id," deleted"),uid:l(),level:"info"}),n({type:u})}},RUN_ANUGA_SCENARIO:X,runAnugaScenario:function(e,n){return{type:X,scenario:e,computeInstanceId:n}},RUN_ANUGA_SCENARIO_SUCCESS:ee,runAnugaScenarioSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario running",uid:l(),level:"success"}),n({type:ee,scenario:e})}},SET_NETWORK_MENU:d,setNetworkMenu:function(e){return{type:d,visible:e}},RUN_NETWORK:ne,runNetwork:function(e){return{type:ne,network:e}},RUN_NETWORK_SUCCESS:te,runNetworkSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Network Calculated",uid:l(),level:"success"}),n({type:te,network:e})}},UPDATE_NETWORK:Ae,updateNetwork:function(e,n){return{type:Ae,network:o(o({},e),n)}},UPDATE_ANUGA_SCENARIO:he,updateAnugaScenario:function(e,n){return{type:he,scenario:o(o({},e),n)}},SELECT_ANUGA_SCENARIO:Ee,selectAnugaScenario:function(e){return{type:Ee,scenario:e}},SHOW_ANUGA_SCENARIO_LOG:le,showAnugaScenarioLog:function(e){return{type:le,scenarioId:e}},SHOW_ANUGA_RUN_MENU:ue,showAnugaRunMenu:function(e){return{type:ue,visible:e}},START_ANUGA_SCENARIO_POLLING:ce,startAnugaScenarioPolling:function(){return{type:ce}},STOP_ANUGA_SCENARIO_POLLING:se,stopAnugaScenarioPolling:function(){return{type:se}},START_ANUGA_ELEVATION_POLLING:pe,startAnugaElevationPolling:function(){return{type:pe}},STOP_ANUGA_ELEVATION_POLLING:de,stopAnugaElevationPolling:function(){return{type:de}},START_ANUGA_MODEL_CREATION_POLLING:fe,startAnugaModelCreationPolling:function(){return{type:fe}},STOP_ANUGA_MODEL_CREATION_POLLING:ge,stopAnugaModelCreationPolling:function(){return{type:ge}},START_COMPARISON_POLLING:ve,startComparisonPolling:function(){return{type:ve}},STOP_COMPARISON_POLLING:me,stopComparisonPolling:function(){return{type:me}},SET_COMPARISON_DATA:be,setComparisonData:function(e){return{type:be,data:e}},SET_ANUGA_POLLING_DATA:ye,setAnugaPollingData:function(e){return{type:ye,scenarios:e}},SET_CREATING_ANUGA_LAYER:we,setCreatingAnugaLayer:function(e){return{type:we,isCreatingAnugaLayer:e}},SET_ANUGA_SCENARIO_IS_LOADED:_e,setAnugaScenarioResultsLoaded:function(e,n){return{type:_e,scenarioId:e,isLoaded:n}},CANCEL_ANUGA_RUN:Se,cancelAnugaRun:function(e,n){return{type:Se,scenario:e,computeInstanceId:n}},UPDATE_COMPUTE_INSTANCE:Oe,updateComputeInstance:function(){return{type:Oe}},UPDATE_COMPUTE_INSTANCE_SUCCESS:Ne,updateComputeInstanceSuccess:function(e){return{type:Ne,data:e}},TOGGLE_SCENARIO_SELECTED:Te,toggleScenarioSelected:function(e){return{type:Te,scenario:e}},SHOW_MANAGE_ACCOUNT:Re,showManageAccount:function(e){return{type:Re,visible:e}},COMPARE_SCENARIOS:Me,compareScenarios:function(e){return{type:Me,scenarios:e}},COMPARE_SCENARIOS_SUCCESS:Ce,compareScenariosSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario comparison started",uid:l(),level:"success"}),n({type:Ce,scenarios:e})}}}},273454:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var r=t(923645),o=t.n(r)()((function(e){return e[1]}));o.push([e.id,'.msgapi #anuga-container {\n    width:100%;\n    height:100%;\n    display: flex;\n    justify-content: center;\n    margin: 10px;\n    border: 1px solid #fff;\n    background-color: #ffffff;\n}\n\n.msgapi #anuga-chart {\n    z-index: 3000;\n    width: 98%;\n    height: 90%;\n    margin: 70px 20px 20px 0;\n    background-color: #ffffff;\n    font-size: 12px;\n    border-radius: 4px;\n    text-align: center;\n}\n\n.msgapi .chart-mainbody {\n    padding: 20px;\n    margin-top: 0;\n    height: 85%;\n    overflow: auto;\n}\n\n.msgapi .chart-header {\n    padding: 20px;\n    height: 60px;\n    border-bottom: 1px solid #DDD;\n    background-color: #ffffff;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.msgapi .chart-footer {\n    padding: 20px;\n    bottom: 0;\n    height: 80px;\n    background-color: #ffffff;\n    border-top: 1px solid #DDD;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.msgapi .chart-sidebar {\n    padding: 0 30px 0 30px;\n    min-height: 600px;\n    background-color: #f3f3f3;\n    border: 1px solid #c7c7c7;\n    border-radius: 3px;\n}\n\n.msgapi .scenario-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .table-hover > tbody > tr:hover {\n    background-color: #ffffff45;\n}\n\n.msgapi .scenario-table {\n    margin-bottom: 0;\n}\n\n.msgapi .scenario-table-header {\n    height: 45px;\n}\n\n.msgapi .scenario-table-header th {\n    text-align:center;\n}\n\n.msgapi .scenario-table-row {\n    height: 45px\n}\n\n.msgapi .network-table {\n    margin-bottom: 0;\n}\n\n.msgapi .network-table-header {\n    height: 45px;\n}\n\n.msgapi .network-table-header th {\n    text-align:center;\n}\n\n.msgapi .network-table-row {\n    height: 45px\n}\n\n.msgapi #new-scenario-button {\n    position: absolute;\n    right: 40px;\n    top: 11px;\n}\n\n.msgapi .scenario-select {\n    border-radius: 3px;\n    width: 100px;\n    height: 22px;\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .add-data-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi #anuga-scenario-log-viewer-container {\n    position: absolute;\n    z-index: 2000;\n    top: 5%;\n    width: 800px;\n    min-height: 600px;\n    color: #333333;\n    background-color: #f2f2f2;\n    border: 2px solid #dddddd;\n    border-radius: 5px;\n}\n\n.msgapi #anuga-scenario-log-viewer {\n    overflow-y: scroll;\n    height: 70vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    line-height: 1.42857143;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi #anuga-run-menu-container {\n    position: absolute;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    z-index: 2000;\n    top: 80px;\n    min-width: 800px;\n    min-height: 600px;\n    color: white;\n    background-color: #003c88cc;\n    border: 1px solid white;\n    border-radius: 5px;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n    text-align: left;\n}\n\n.msgapi #anuga-run-menu {\n    color: white;\n    background: #000000cc;\n    border-radius: 5px;\n    font-family: Monospace;\n    overflow-x: auto;\n    height: 100px;\n    padding: 10px;\n    margin: 20px 0 10px;\n}\n\n.msgapi #anuga-compute-instance-menu {\n    color: black;\n    background: white;\n    overflow-y: scroll;\n    overflow-x: auto;\n    height: 35vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi #anuga-scenario-menu {\n    overflow-y: hidden;\n    overflow-x: auto;\n    max-width: 98%;\n}\n\n.msgapi ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: white;\n  opacity: 1; /* Firefox */\n}\n\n.msgapi .run-server-table {\n    margin-bottom: 0;\n    text-align: center;\n}\n\n.msgapi .run-server-table-header {\n    height: 45px;\n}\n\n.msgapi .run-server-table-header > th {\n    text-align: center;\n}\n\n.msgapi .run-server-table-row {\n    height: 45px\n}\n\n.msgapi .run-server-table-row {\n    text-align: center;\n}\n\n/*#identify-container {*/\n/*    display:none;*/\n/*}*/\n\n/*#navigationBar {*/\n/*    display:none;*/\n/*}*/\n\n/* this is really terrible and can lead to random stuff not showing, but it is the only way I can see to select the\ndiv that holds the feature-grid */\n/*main > div[style*="1030"]:not([id]):not([role]):not([class]) {*/\n/*    display: none;*/\n/*}*/',""]);const a=o}}]);