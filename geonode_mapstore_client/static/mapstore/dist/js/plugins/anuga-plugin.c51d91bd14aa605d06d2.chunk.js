(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[44995],{615402:(e,n,t)=>{"use strict";t.d(n,{Z:()=>m});var r=t(45697),a=t.n(r),o=t(124852),i=t.n(o);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,n){return(s=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function p(e,n){return!n||"object"!==u(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g=t(868195).FormattedHTMLMessage,v=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&s(e,n)}(u,e);var n,t,r,a,o=(r=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=d(r);if(a){var t=d(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return p(this,e)});function u(){return l(this,u),o.apply(this,arguments)}return n=u,(t=[{key:"render",value:function(){return this.context.intl?i().createElement(g,{id:this.props.msgId,values:this.props.msgParams}):i().createElement("span",null,this.props.msgId||"")}}])&&c(n.prototype,t),u}(i().Component);f(v,"propTypes",{msgId:a().string.isRequired,msgParams:a().object}),f(v,"contextTypes",{intl:a().object});const m=v},838167:(e,n,t)=>{"use strict";t.d(n,{t6:()=>_,k9:()=>E,v0:()=>h,ZP:()=>S});var r=t(45697),a=t.n(r),o=t(124852),i=t.n(o),u=t(868195);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function f(e,n){return!n||"object"!==l(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var m=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(l,e);var n,t,r,a,o=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=g(r);if(a){var t=g(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return f(this,e)});function l(){return s(this,l),o.apply(this,arguments)}return n=l,(t=[{key:"render",value:function(){return this.context.intl?i().createElement(u.FormattedDate,c({value:this.props.value},this.props.dateParams)):i().createElement("span",null,this.props.value&&this.props.value.toString()||"")}}])&&p(n.prototype,t),l}(i().Component);v(m,"propTypes",{value:a().object,dateParams:a().object}),v(m,"contextTypes",{intl:a().object}),v(m,"defaultProps",{value:new Date});const A=m;var b=t(615402),y=t(805346),h=y.Z,E=b.Z,_=A;const S={Message:y.Z,HTML:E,DateFormat:_}},647010:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>Le});var r=t(322843),a=t(368658),o=t(351288);function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p={showAddAnugaElevationData:!1,visibleAnugaScenarioLogId:!1,scenarios:[]},d=t(124852),f=t.n(d),g=t(171703),v=function(e){var n,t,r,a,o,i=null==e||null===(n=e.security)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.pk,u=null==e||null===(r=e.gnresource)||void 0===r||null===(a=r.compactPermissions)||void 0===a||null===(o=a.users)||void 0===o?void 0:o.filter((function(e){return e.id===i}))[0].permissions;return["edit","manage","owner"].includes(u)},m=t(774141),A=t(893379),b=t.n(A),y=t(273454);b()(y.Z,{insert:"head",singleton:!1}),y.Z.locals,t(472619);var h=t(388380),E=t(855033),_=t.n(E),S=t(838167),w=t(375875),O=t.n(w);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,n){return(R=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function I(e,n){return!n||"object"!==N(n)&&"function"!=typeof n?C(e):n}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var M=t(45697),D=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&R(e,n)}(i,e);var n,t,r,a,o=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=x(r);if(a){var t=x(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return I(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),U(C(n=o.call(this,e)),"humanFileSize",(function(e){if(e>2e8)return"Too big: 200MB max";var n=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,n)).toFixed(2)+" "+["B","kB","MB","GB","TB"][n]})),U(C(n),"uploadFile",(function(e,t){n.setState((function(n){return{itemList:n.uploaderFiles.map((function(n){return n.preview===e.preview?Object.assign(n,{status:"uploading"}):n}))}}));var r,a=new FormData;a.append(t,e),a.append("title",n.state.newTitle),r=n.props.serverUrl.includes("localhost")?"http://localhost:8081/":n.props.serverUrl,O().put("".concat(r,"anuga/api/").concat(n.props.projectId,"/elevation/upload/"),a,n.uploadConfig).then((function(t){n.setState((function(n){return{itemList:n.uploaderFiles.map((function(n){return n.preview===e.preview?Object.assign(n,{status:"complete"}):n}))}}))}))})),U(C(n),"uploadConfig",{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);n.props.updateUploadStatus(t)}}),n.state={uploaderFiles:[],newTitle:""},n.beginTooltip=f().createRef(),n}return n=i,(t=[{key:"render",value:function(){var e=this;return this.props.visibleUploaderPanel?f().createElement("div",{className:"simple-view-panel uploader-panel"},f().createElement("div",{className:"row h4 legend-heading"},"Upload File",f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return e.props.setVisibleUploaderPanel(!1)}})),this.state.uploaderFiles.length>0?f().createElement(m.Table,{bordered:!0,condensed:!0,hover:!0,ref:this.beginTooltip,style:{tableLayout:"fixed"}},f().createElement("thead",null,f().createElement("tr",null,f().createElement("th",{width:"155px",key:"hname"},"Title"),f().createElement("th",{width:"80px",key:"hname"},"Filename"),f().createElement("th",{width:"80px",key:"hsize"},"Filesize"),f().createElement("th",{width:"80px",key:"htype"},"Filetype"),f().createElement("th",{width:"80px",key:"hlast"},"Modified"),f().createElement("th",{width:"80px",key:"hstatus"},"Status"))),f().createElement("tbody",null,this.state.uploaderFiles&&this.state.uploaderFiles.map((function(n,t){return f().createElement("tr",{key:"row_"+t},f().createElement("td",{key:"title"},f().createElement("input",{id:"newTitle",key:"newTitle",className:"data-title-input",type:"text",value:e.state.newTitle,onChange:function(n){return e.setState({newTitle:n.target.value})}})),f().createElement("td",{key:"name",style:{wordWrap:"break-word"}},n.name),f().createElement("td",{key:"size"},e.humanFileSize(n.size)),f().createElement("td",{key:"type"},n.type),f().createElement("td",{key:"last"},f().createElement(S.t6,{value:n.lastModifiedDate})),f().createElement("td",{key:"status"},"begin"===n.status&&n.size<2e8?f().createElement(m.OverlayTrigger,{positionLeft:!0,overlay:f().createElement(m.Tooltip,null,"Enter a title")},f().createElement(m.Button,{onClick:function(){return e.uploadFile(n,e.props.fileType||"file")},className:e.state.newTitle?"":"disabled",style:{borderRadius:"3px"},bsSize:"small",bsStyle:"success"},"Begin")):f().createElement("span",null,f().createElement(m.ProgressBar,{active:!0,bsStyle:"success",now:parseInt(e.props.uploadStatus,10)}),100===parseInt(e.props.uploadStatus,10)?"importing...":e.props.uploadStatus,isNaN(parseInt(e.props.uploadStatus,10))?"":"%")))})))):f().createElement(_(),{key:"dropzone",rejectClassName:"alert-danger",className:"alert alert-info",onDrop:function(n){return e.setState({uploaderFiles:n.map((function(e){return Object.defineProperty(e,"status",{value:"begin",writable:!0}),e}))})},style:this.props.dropZoneStyle,activeStyle:this.props.dropZoneActiveStyle},f().createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%",justifyContent:"center"}},f().createElement("span",{style:{width:"100px",height:"100px",textAlign:"center"}},f().createElement(m.Glyphicon,{glyph:"upload"}),f().createElement("br",null),"Drag files or",f().createElement("br",null),"click here")))):null}}])&&T(n.prototype,t),i}(f().Component);U(D,"propTypes",{setVisibleUploaderPanel:M.func,updateUploaderFile:M.func,setUploaderFiles:M.func,uploaderFiles:M.object,updateUploadStatus:M.func,uploadStatus:M.string,visibleUploaderPanel:M.bool,serverUrl:M.string,projectId:M.number,newTitle:M.string,fileType:M.string});var P=(0,g.connect)((function(e){var n,t,r,a,o;return{visibleUploaderPanel:null==e||null===(n=e.simpleView)||void 0===n?void 0:n.visibleUploaderPanel,serverUrl:null==e||null===(t=e.gnsettings)||void 0===t?void 0:t.geonodeUrl,projectId:null==e||null===(r=e.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,uploadStatus:(null==e||null===(o=e.simpleView)||void 0===o?void 0:o.uploadStatus)||0}}),(function(e){return{setVisibleUploaderPanel:function(n){return e((0,o.setVisibleUploaderPanel)(n))},updateUploadStatus:function(n){return e((0,o.updateUploadStatus)(n))}}}))(D);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,n){return(L=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function k(e,n){return!n||"object"!==j(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var z=t(45697),V=t(472986),H=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&L(e,n)}(i,e);var n,t,r,a,o=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=F(r);if(a){var t=F(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return k(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e)).state={boundaryTitle:"",frictionTitle:"",inflowTitle:"",structureTitle:"",meshRegionTitle:""},n}return n=i,(t=[{key:"render",value:function(){var e,n,t,r,a,o,i,u,l,c,s,p,d,g=this;return f().createElement("div",{id:"anuga-input-menu",className:"simple-view-panel",style:{top:"70px",width:"480px"}},f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"menu-row-text"},"Elevations"),f().createElement(m.OverlayTrigger,{placement:"right",overlay:f().createElement(m.Tooltip,null,"Upload a new *.tiff elevation")},f().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){g.props.setVisibleUploaderPanel(!0),g.props.startAnugaElevationPolling()}}))),null===(e=this.props.elevations)||void 0===e?void 0:e.map((function(e){return f().createElement(h.j,{layer:e})})),0===(null===(n=this.props.elevations)||void 0===n?void 0:n.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"No elevations available"):null),null!==(t=this.props.projectData)&&void 0!==t&&t.projection?f().createElement(f().Fragment,null,f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Boundaries"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.boundaryTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){g.props.setCreatingAnugaLayer(!0),g.props.createAnugaBoundary(g.state.boundaryTitle),g.setState({boundaryTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(V,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"boundary-input",key:"boundary-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.boundaryTitle,onChange:function(e){return g.setState({boundaryTitle:e.target.value})}})):null),null===(r=this.props.boundaries)||void 0===r?void 0:r.map((function(e){return f().createElement(h.j,{layer:e})})),0===(null===(a=this.props.boundaries)||void 0===a?void 0:a.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"...Creating default Boundary"):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Friction Maps"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.frictionTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){g.props.setCreatingAnugaLayer(!0),g.props.createAnugaFriction(g.state.frictionTitle),g.setState({frictionTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(V,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"friction-input",key:"friction-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.frictionTitle,onChange:function(e){return g.setState({frictionTitle:e.target.value})}})):null),null===(o=this.props.frictions)||void 0===o?void 0:o.map((function(e){return f().createElement(h.j,{layer:e})})),0===(null===(i=this.props.frictions)||void 0===i?void 0:i.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"...Creating default Friction Map"):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Inflows"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.inflowTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){g.props.setCreatingAnugaLayer(!0),g.props.createAnugaInflow(g.state.inflowTitle),g.setState({inflowTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(V,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"inflow-input",key:"inflow-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.inflowTitle,onChange:function(e){return g.setState({inflowTitle:e.target.value})}})):null),null===(u=this.props.inflows)||void 0===u?void 0:u.map((function(e){return f().createElement(h.j,{layer:e})})),0===(null===(l=this.props.inflows)||void 0===l?void 0:l.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"...Creating default Inflows"):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Structures"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.structureTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){g.props.setCreatingAnugaLayer(!0),g.props.createAnugaStructure(g.state.structureTitle),g.setState({structureTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(V,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"structure-input",key:"structure-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.structureTitle,onChange:function(e){return g.setState({structureTitle:e.target.value})}})):null),null===(c=this.props.structures)||void 0===c?void 0:c.map((function(e){return f().createElement(h.j,{layer:e})})),0===(null===(s=this.props.structures)||void 0===s?void 0:s.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"...Creating default Structures"):null),f().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"3px",margin:"3px 0"}},f().createElement("div",{className:"row menu-row menu-row-header",style:{width:"480px",textAlign:"left",border:"none"}},f().createElement("span",{className:"pull-left menu-row-text"},"Mesh Regions"),this.props.canEditAnugaMap?f().createElement(f().Fragment,null,f().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.meshRegionTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){g.props.setCreatingAnugaLayer(!0),g.props.createAnugaMeshRegion(g.state.meshRegionTitle),g.setState({meshRegionTitle:""})}}),this.props.isCreatingAnugaLayer?f().createElement("span",null,f().createElement(V,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):f().createElement("input",{id:"mesh-region-input",key:"mesh-region-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.meshRegionTitle,onChange:function(e){return g.setState({meshRegionTitle:e.target.value})}})):null),null===(p=this.props.meshRegions)||void 0===p?void 0:p.map((function(e){return f().createElement(h.j,{layer:e})})),0===(null===(d=this.props.meshRegions)||void 0===d?void 0:d.length)?f().createElement("div",{className:"row menu-row menu-row",style:{width:"480px",textAlign:"left",border:"none"}},"...Creating default Mesh Region"):null)):null,f().createElement(P,{fileType:"elevation"}))}}])&&G(n.prototype,t),i}(f().Component);B(H,"propTypes",{projectData:z.object,setVisibleUploaderPanel:z.func,anugaGroupLength:z.number,elevations:z.array,boundaries:z.array,createAnugaBoundary:z.func,createAnugaFriction:z.func,createAnugaInflow:z.func,createAnugaStructure:z.func,createAnugaMeshRegion:z.func,frictions:z.array,inflows:z.array,structures:z.array,meshRegions:z.array,startAnugaElevationPolling:z.func,isCreatingAnugaLayer:z.bool,setCreatingAnugaLayer:z.func,canEditAnugaMap:z.func}),B(H,"defaultProps",{});var W=(0,g.connect)((function(e){var n,t,r,a,o,i,u,l,c,s,p,d,f,g;return{projectData:null==e||null===(n=e.anuga)||void 0===n?void 0:n.projectData,elevations:null==e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(e){return"Input Data.Elevations"===(null==e?void 0:e.group)})),boundaries:null==e||null===(a=e.layers)||void 0===a||null===(o=a.flat)||void 0===o?void 0:o.filter((function(e){return"Input Data.Boundaries"===(null==e?void 0:e.group)})),frictions:null==e||null===(i=e.layers)||void 0===i||null===(u=i.flat)||void 0===u?void 0:u.filter((function(e){return"Input Data.Friction Maps"===(null==e?void 0:e.group)})),inflows:null==e||null===(l=e.layers)||void 0===l||null===(c=l.flat)||void 0===c?void 0:c.filter((function(e){return"Input Data.Inflows"===(null==e?void 0:e.group)})),structures:null==e||null===(s=e.layers)||void 0===s||null===(p=s.flat)||void 0===p?void 0:p.filter((function(e){return"Input Data.Structures"===(null==e?void 0:e.group)})),meshRegions:null==e||null===(d=e.layers)||void 0===d||null===(f=d.flat)||void 0===f?void 0:f.filter((function(e){return"Input Data.Mesh Regions"===(null==e?void 0:e.group)})),isCreatingAnugaLayer:null==e||null===(g=e.anuga)||void 0===g?void 0:g.isCreatingAnugaLayer,canEditAnugaMap:v(e)}}),(function(e){return{startAnugaElevationPolling:function(){return e((0,a.startAnugaElevationPolling)())},setVisibleUploaderPanel:function(n){return e((0,o.setVisibleUploaderPanel)(n))},createAnugaBoundary:function(n){return e((0,a.createAnugaBoundary)(n))},createAnugaFriction:function(n){return e((0,a.createAnugaFriction)(n))},createAnugaInflow:function(n){return e((0,a.createAnugaInflow)(n))},createAnugaStructure:function(n){return e((0,a.createAnugaStructure)(n))},createAnugaMeshRegion:function(n){return e((0,a.createAnugaMeshRegion)(n))},setCreatingAnugaLayer:function(n){return e((0,a.setCreatingAnugaLayer)(n))}}}))(H);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function J(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,n){return($=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function q(e,n){return!n||"object"!==Y(n)&&"function"!=typeof n?K(e):n}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ee=t(45697),ne=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&$(e,n)}(i,e);var n,t,r,a,o=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Q(r);if(a){var t=Q(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return q(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),X(K(n=o.call(this,e)),"getSecondsFromHHMMSS",(function(e){var n,t,r=(n=e.split(":"),t=3,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(n,t)||function(e,n){if(e){if("string"==typeof e)return Z(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],o=r[1],i=r[2],u=Number(a),l=Number(o),c=Number(i);return!isNaN(u)&&isNaN(l)&&isNaN(c)?u:isNaN(u)||isNaN(l)||!isNaN(c)?isNaN(u)||isNaN(l)||isNaN(c)?0:60*u*60+60*l+c:60*u+l})),X(K(n),"findScenarioStatus",(function(e){var n;return null!=e&&e.latest_run_is_valid||"error"===(null==e||null===(n=e.latest_run)||void 0===n?void 0:n.status)?e.latest_run.status:e.status})),X(K(n),"handleTextChange",(function(e,t){var r={};r[e.target.id]=e.target.value,n.props.updateAnugaScenario(t,r)})),X(K(n),"handleIntChange",(function(e,t){var r={};r[e.target.id]=parseInt(e.target.value,10),n.props.updateAnugaScenario(t,r)})),X(K(n),"handleNumberChange",(function(e,t){var r={};r[e.target.id]=parseFloat(e.target.value),n.props.updateAnugaScenario(t,r)})),X(K(n),"toHHMMSS",(function(e){if(!e)return"00:00:00";var n=parseInt(e.toString(),10);return[Math.floor(n/3600),Math.floor(n/60)%60,n%60].map((function(e){return e<10?"0".concat(e):e})).filter((function(e,n){return"00"!==e||n>0})).join(":").replace(/^0/,"")})),X(K(n),"handleTimeChange",(function(e,t){var r={tempTimeString:e.target.value};n.props.updateAnugaScenario(t,r)})),X(K(n),"handleTimeBlur",(function(e,t){var r=e.target.value,a=Math.max(0,n.getSecondsFromHHMMSS(r)),o={};o[e.target.id]=a,o.tempTimeString=null,n.props.updateAnugaScenario(t,o)})),n.state={},n.handleTextChange=n.handleTextChange.bind(K(n)),n.handleIntChange=n.handleIntChange.bind(K(n)),n.handleTimeChange=n.handleTimeChange.bind(K(n)),n.handleTimeBlur=n.handleTimeBlur.bind(K(n)),n}return n=i,(t=[{key:"render",value:function(){var e,n=this;return f().createElement("div",{id:"anuga-scenario-menu",className:"simple-view-panel",style:{top:"70px"}},f().createElement("div",{className:"menu-rows-container"},f().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},"Scenarios",f().createElement("span",{id:"new-scenario-button"},f().createElement(m.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){n.props.addAnugaScenario()}},"New Scenario")),f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){n.props.setAnugaScenarioMenu(!1),n.props.stopAnugaScenarioPolling()}})),f().createElement(m.Table,{className:"scenario-table"},f().createElement("thead",null,f().createElement("tr",{className:"scenario-table-header"},f().createElement("th",null,"Select"),f().createElement("th",null,"Id"),f().createElement("th",null,"Name"),f().createElement("th",null,"Elevation"),f().createElement("th",null,"Boundary"),f().createElement("th",null,"Friction Map"),f().createElement("th",null,"Inflow"),f().createElement("th",null,"Structures"),f().createElement("th",null,"Mesh Regions"),f().createElement(m.OverlayTrigger,{placement:"top",overlay:f().createElement(m.Tooltip,null,"hh:mm:ss")},f().createElement("th",null,"Duration")),f().createElement("th",null,"Status"),f().createElement("th",null),f().createElement("th",null),f().createElement("th",null),f().createElement("th",null),f().createElement("th",null))),f().createElement("tbody",null,null===(e=this.props.scenarios)||void 0===e?void 0:e.map((function(e){var t,r,a,o,i,u;return f().createElement("tr",{className:"scenario-table-row"},f().createElement("td",null,f().createElement("input",{id:"scenario-selector-box",type:"radio",name:"scenario-selector",value:!1,onChange:function(){return n.props.selectAnugaScenario(e)}})),f().createElement("td",null,e.id),f().createElement("td",null,f().createElement("input",{id:"name",key:"name-".concat(e.id),type:"text",className:"scenario-input",value:e.name,onChange:function(t){return n.handleTextChange(t,e)}})),f().createElement("td",null,f().createElement("select",{id:"elevation",key:"elevation-".concat(e.id),value:null==e?void 0:e.elevation,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(t=n.props.elevations)||void 0===t?void 0:t.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"boundary",key:"boundary-".concat(e.id),value:null==e?void 0:e.boundary,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(r=n.props.boundaries)||void 0===r?void 0:r.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"friction",key:"friction-".concat(e.id),value:null==e?void 0:e.friction,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(a=n.props.frictions)||void 0===a?void 0:a.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"inflow",key:"inflow-".concat(e.id),value:null==e?void 0:e.inflow,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(o=n.props.inflows)||void 0===o?void 0:o.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"structure",key:"structure-".concat(e.id),value:null==e?void 0:e.structure,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(i=n.props.structures)||void 0===i?void 0:i.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("select",{id:"mesh_region",key:"meshRegion-".concat(e.id),value:null==e?void 0:e.mesh_region,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},f().createElement("option",{value:""},"-"),null===(u=n.props.meshRegions)||void 0===u?void 0:u.map((function(e){return f().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),f().createElement("td",null,f().createElement("input",{id:"duration",key:"duration-".concat(e.id),type:"text",className:"scenario-input",style:{width:"80px"},value:e.tempTimeString||n.toHHMMSS(e.duration),onChange:function(t){return n.handleTimeChange(t,e)},onBlur:function(t){return n.handleTimeBlur(t,e)}})),f().createElement("td",null,n.findScenarioStatus(e)),f().createElement("td",null,f().createElement(m.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:e.unsaved?null:"disabled",onClick:function(){n.props.saveAnugaScenario(e),n.props.setOpenMenuGroupId(null)}},"Save")),f().createElement("td",null,f().createElement(m.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:"built"!==n.findScenarioStatus(e)?"disabled":null,onClick:function(){n.props.setAnugaScenarioMenu(!1),n.props.selectAnugaScenario(e),n.props.showAnugaRunMenu(!0)}},"Run")),f().createElement("td",null,f().createElement(m.Button,{bsStyle:"info",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){n.props.selectAnugaScenario(e),n.props.showAnugaScenarioLog(e.id)}},"Log")),f().createElement("td",null,f().createElement(m.Button,{bsStyle:"danger",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px",backgroundColor:"#622b2b"},onClick:n.findScenarioStatus(e).includes("%")?function(){confirm("Cancel Run?")&&n.props.cancelAnugaRun(e)}:function(){confirm("Delete Scenario?")&&n.props.deleteAnugaScenario(e)}},f().createElement("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"}))))}))))))}}])&&J(n.prototype,t),i}(f().Component);X(ne,"propTypes",{anugaGroupLength:ee.number,scenarios:ee.array,boundaries:ee.array,elevations:ee.array,frictions:ee.array,inflows:ee.array,structures:ee.array,meshRegions:ee.array,setOpenMenuGroupId:ee.func,saveAnugaScenario:ee.func,runAnugaScenario:ee.func,updateAnugaScenario:ee.func,selectAnugaScenario:ee.func,showAnugaScenarioLog:ee.func,setAnugaScenarioMenu:ee.func,stopAnugaScenarioPolling:ee.func,addAnugaScenario:ee.func,deleteAnugaScenario:ee.func,cancelAnugaRun:ee.func,showAnugaRunMenu:ee.func}),X(ne,"defaultProps",{});var te=(0,g.connect)((function(e){var n,t,r,a,o,i,u;return{scenarios:null==e||null===(n=e.anuga)||void 0===n?void 0:n.scenarios,boundaries:null==e||null===(t=e.anuga)||void 0===t?void 0:t.boundaries,elevations:null==e||null===(r=e.anuga)||void 0===r?void 0:r.elevations,frictions:null==e||null===(a=e.anuga)||void 0===a?void 0:a.frictions,inflows:null==e||null===(o=e.anuga)||void 0===o?void 0:o.inflows,structures:null==e||null===(i=e.anuga)||void 0===i?void 0:i.structures,meshRegions:null==e||null===(u=e.anuga)||void 0===u?void 0:u.meshRegions}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,o.setOpenMenuGroupId)(n))},setAnugaScenarioMenu:function(n){return e((0,a.setAnugaScenarioMenu)(n))},runAnugaScenario:function(n){return e((0,a.runAnugaScenario)(n))},saveAnugaScenario:function(n){return e((0,a.saveAnugaScenario)(n))},updateAnugaScenario:function(n,t){return e((0,a.updateAnugaScenario)(n,t))},selectAnugaScenario:function(n){return e((0,a.selectAnugaScenario)(n))},showAnugaScenarioLog:function(n){return e((0,a.showAnugaScenarioLog)(n))},stopAnugaScenarioPolling:function(){return e((0,a.stopAnugaScenarioPolling)())},addAnugaScenario:function(){return e((0,a.addAnugaScenario)())},deleteAnugaScenario:function(n){return e((0,a.deleteAnugaScenario)(n))},cancelAnugaRun:function(n){return e((0,a.cancelAnugaRun)(n))},showAnugaRunMenu:function(n){return e((0,a.showAnugaRunMenu)(n))}}}))(ne);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,n){return(oe=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ie(e,n){return!n||"object"!==re(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ce=t(45697),se=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&oe(e,n)}(i,e);var n,t,r,a,o=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=ue(r);if(a){var t=ue(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return ie(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e)).state={},n}return n=i,(t=[{key:"render",value:function(){var e,n=this;return f().createElement("div",{id:"anuga-scenario-log-viewer-container"},f().createElement("h5",{style:{marginLeft:"9px"}},"Scenario: ",null===(e=this.props.visibleAnugaLogScenario)||void 0===e?void 0:e.name,f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return n.props.showAnugaScenarioLog(!1)}})),f().createElement("pre",{id:"anuga-scenario-log-viewer",style:{color:"white",background:"black"}},this.props.logText))}}])&&ae(n.prototype,t),i}(f().Component);le(se,"propTypes",{visibleAnugaLogScenario:ce.object,showAnugaScenarioLog:ce.func,logText:ce.string}),le(se,"defaultProps",{});var pe=(0,g.connect)((function(e){var n,t;return{visibleAnugaLogScenario:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.scenarios)||void 0===t?void 0:t.filter((function(n){var t;return(null==e||null===(t=e.anuga)||void 0===t?void 0:t.visibleAnugaScenarioLogId)===n.id}))[0]}}),(function(e){return{showAnugaScenarioLog:function(n){return e((0,a.showAnugaScenarioLog)(n))}}}))(se),de=t(305744);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,n){return(ve=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function me(e,n){return!n||"object"!==fe(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ye=t(45697),he=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ve(e,n)}(i,e);var n,t,r,a,o=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Ae(r);if(a){var t=Ae(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return me(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e)).state={},n}return n=i,(t=[{key:"componentDidMount",value:function(){this.props.updateComputeInstance()}},{key:"render",value:function(){var e,n,t,r,a,o,i,u,l,c,s,p=this;return f().createElement("div",{id:"anuga-run-menu-container"},f().createElement("h5",{style:{marginLeft:"9px"}},"Scenario: ",null===(e=this.props.selectedScenario)||void 0===e?void 0:e.name,f().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return p.props.showAnugaRunMenu(!1)}})),f().createElement("div",null,f().createElement(m.Table,{className:"run-server-table",bordered:!0,hover:!0},f().createElement("thead",null,f().createElement("tr",{className:"run-server-table-header"},f().createElement("th",null,"Server"),f().createElement("th",null,"Description"),f().createElement("th",null,"CPUs Total"),f().createElement("th",null,"CPUs Available"),f().createElement("th",null,"Current Jobs"),f().createElement("th",null,"Rate ($/cpu/hour)"),f().createElement("th",null,"Estimate (hours)"),f().createElement("th",null,"Estimate ($)"),f().createElement("th",null))),f().createElement("tbody",null,(null===(n=this.props.computeInstances)||void 0===n?void 0:n.length)>0?null===(t=this.props.computeInstances)||void 0===t?void 0:t.map((function(e){return console.log("instance:",e),f().createElement("tr",{className:"run-server-table-row"},f().createElement("td",null,null==e?void 0:e.name),f().createElement("td",null,null==e?void 0:e.description),f().createElement("td",null,null==e?void 0:e.cpus_total),f().createElement("td",null,null==e?void 0:e.cpus_available),f().createElement("td",null,null==e?void 0:e.currently_running),f().createElement("td",null,"-"),f().createElement("td",null,"-"),f().createElement("td",null,"-"),f().createElement("td",null,f().createElement(m.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){p.props.runAnugaScenario(p.props.selectedScenario,e.id),p.props.showAnugaRunMenu(!1)}},"Run")))})):f().createElement("tr",{className:"run-server-table-row",style:{marginTop:"15px"}},"Loading... No compute servers yet registered")))),f().createElement("div",null,f().createElement("pre",{id:"anuga-run-menu"},"Mesh size: ",null===(r=this.props.selectedScenario)||void 0===r||null===(a=r.latest_run)||void 0===a?void 0:a.mesh_triangle_count_estimate," triangles",f().createElement("br",null),"Model Start Time: ",null===(o=this.props.selectedScenario)||void 0===o||null===(i=o.latest_run)||void 0===i?void 0:i.real_world_start,f().createElement("br",null),"Model End Time: ",null===(u=this.props.selectedScenario)||void 0===u||null===(l=u.latest_run)||void 0===l?void 0:l.real_world_end,f().createElement("br",null)),f().createElement("p",null,"Alternatively you can run the model on your own machine:"),f().createElement(m.Button,{download:!0,href:null===(c=this.props.selectedScenario)||void 0===c||null===(s=c.latest_run)||void 0===s?void 0:s.s3_package_url,bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px",position:"absolute",top:"130px",left:"7px"}},"Download")))}}])&&ge(n.prototype,t),i}(f().Component);be(he,"propTypes",{visibleAnugaRunMenu:ye.object,showAnugaRunMenu:ye.func,updateComputeInstance:ye.func,computeInstances:ye.array,selectedScenario:ye.object,runAnugaScenario:ye.func}),be(he,"defaultProps",{});var Ee=(0,g.connect)((function(e){var n,t;return{selectedScenario:null==e||null===(n=e.anuga)||void 0===n?void 0:n.selectedScenario,computeInstances:null==e||null===(t=e.anuga)||void 0===t?void 0:t.computeInstances}}),(function(e){return{showAnugaRunMenu:function(n){return e((0,a.showAnugaRunMenu)(n))},updateComputeInstance:function(){return e((0,a.updateComputeInstance)())},runAnugaScenario:function(n){return e((0,a.runAnugaScenario)(n))}}}))(he);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,n){return(we=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Oe(e,n){return!n||"object"!==_e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Re=t(45697),Ie=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&we(e,n)}(i,e);var n,t,r,a,o=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Ne(r);if(a){var t=Ne(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Oe(this,e)});function i(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return n=i,(t=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.props.gnResourceLoaded&&!this.props.isAnugaProject&&(console.log("componentDidUpdate initing Anuga"),this.props.initAnuga())}},{key:"render",value:function(){var e=this;return this.props.isAnugaProject?f().createElement("div",{id:"anuga-container"},f().createElement("div",{id:"anuga-inputs"},f().createElement("button",{key:"anuga-input-button",className:"simple-view-menu-button",style:{left:100*this.props.numberOfMenus+20},onClick:function(){e.props.setAnugaInputMenu(!e.props.showAnugaInputMenu),e.props.setOpenMenuGroupId(null)}},"Inputs")),this.props.showAnugaInputMenu?f().createElement(W,null):null,this.props.canEditAnugaMap?f().createElement("div",{id:"anuga-scenario"},f().createElement("button",{key:"anuga-scenario-button",className:"simple-view-menu-button",style:{left:100*this.props.numberOfMenus+120},onClick:function(){e.props.setAnugaScenarioMenu(!e.props.showAnugaScenarioMenu),e.props.showAnugaScenarioMenu?e.props.stopAnugaScenarioPolling():e.props.startAnugaScenarioPolling(),e.props.setOpenMenuGroupId(null)}},"Scenarios"),this.props.showAnugaScenarioMenu?f().createElement(te,null):null):null,this.props.visibleAnugaScenarioLogId?f().createElement(pe,{logText:this.props.logText}):null,this.props.visibleAnugaRunMenu?f().createElement(Ee,null):null,this.props.visibleIntroduction?f().createElement(de.Z,null):null):null}}])&&Se(n.prototype,t),i}(f().Component);Te(Ie,"propTypes",{initAnuga:Re.func,showAnugaInputMenu:Re.bool,setAnugaInputMenu:Re.func,showAnugaScenarioMenu:Re.bool,setAnugaScenarioMenu:Re.func,showAnugaResultMenu:Re.bool,setAnugaResultMenu:Re.func,isAnugaMenuOpen:Re.bool,openMenuGroupId:Re.string,numberOfMenus:Re.number,setOpenMenuGroupId:Re.func,showAddAnugaElevationData:Re.bool,setAddAnugaElevation:Re.func,visibleAnugaScenarioLogId:Re.number,startAnugaScenarioPolling:Re.func,stopAnugaScenarioPolling:Re.func,updateCustomEditorsOptions:Re.func,logText:Re.string,gnResourceLoaded:Re.string,visibleAnugaRunMenu:Re.bool,canEditAnugaMap:Re.bool}),Te(Ie,"defaultProps",{});const Ce=(0,g.connect)((function(e){var n,t,r,a,o,i,u,l,c,s,p,d,f,g,m,A,b,y,h,E,_,S,w,O,N,T,R,I,C;return console.log("state for Anuga:",e),{logText:(null==e||null===(n=e.anuga)||void 0===n||null===(t=n.scenarios)||void 0===t||null===(r=t.filter((function(n){var t;return(null==e||null===(t=e.anuga)||void 0===t?void 0:t.visibleAnugaScenarioLogId)===n.id}))[0])||void 0===r?void 0:r.is_latest_run_valid)?(null==e||null===(a=e.anuga)||void 0===a||null===(o=a.scenarios)||void 0===o||null===(i=o.filter((function(n){var t;return(null==e||null===(t=e.anuga)||void 0===t?void 0:t.visibleAnugaScenarioLogId)===n.id}))[0])||void 0===i||null===(u=i.latest_run)||void 0===u?void 0:u.log)||"-":(null==e||null===(l=e.anuga)||void 0===l||null===(c=l.scenarios)||void 0===c||null===(s=c.filter((function(n){var t;return(null==e||null===(t=e.anuga)||void 0===t?void 0:t.visibleAnugaScenarioLogId)===n.id}))[0])||void 0===s?void 0:s.log)||"-",gnResourceLoaded:null==e||null===(p=e.gnresource)||void 0===p?void 0:p.id,isAnugaProject:null==e||null===(d=e.anuga)||void 0===d||null===(f=d.projectData)||void 0===f?void 0:f.id,anugaInputMenuGroupId:null==e||null===(g=e.layers)||void 0===g||null===(m=g.groups)||void 0===m||null===(A=m.filter((function(e){return"Input Data"===e.title}))[0])||void 0===A?void 0:A.id,showAnugaInputMenu:null==e||null===(b=e.anuga)||void 0===b?void 0:b.showAnugaInputMenu,showAnugaScenarioMenu:null==e||null===(y=e.anuga)||void 0===y?void 0:y.showAnugaScenarioMenu,showAnugaResultMenu:null==e||null===(h=e.anuga)||void 0===h?void 0:h.showAnugaResultMenu,isAnugaMenuOpen:(null==e||null===(E=e.anuga)||void 0===E?void 0:E.showAnugaInputMenu)||(null==e||null===(_=e.anuga)||void 0===_?void 0:_.showAnugaScenarioMenu)||(null==e||null===(S=e.anuga)||void 0===S?void 0:S.showAnugaResultMenu),openMenuGroupId:null==e||null===(w=e.simpleView)||void 0===w?void 0:w.openMenuGroupId,numberOfMenus:(null==e||null===(O=e.layers)||void 0===O||null===(N=O.groups)||void 0===N?void 0:N.length)||1,showAddAnugaElevationData:null==e||null===(T=e.anuga)||void 0===T?void 0:T.showAddAnugaElevationData,visibleAnugaScenarioLogId:null==e||null===(R=e.anuga)||void 0===R?void 0:R.visibleAnugaScenarioLogId,visibleIntroduction:null==e||!e.simpleView.hasOwnProperty("visibleIntroduction")||(null==e||null===(I=e.simpleView)||void 0===I?void 0:I.visibleIntroduction),visibleAnugaRunMenu:null==e||null===(C=e.anuga)||void 0===C?void 0:C.visibleAnugaRunMenu,canEditAnugaMap:v(e)}}),(function(e){return{initAnuga:function(){return e((0,a.initAnuga)())},setAnugaInputMenu:function(n){return e((0,a.setAnugaInputMenu)(n))},setAnugaScenarioMenu:function(n){return e((0,a.setAnugaScenarioMenu)(n))},setAnugaResultMenu:function(n){return e((0,a.setAnugaResultMenu)(n))},setOpenMenuGroupId:function(n){return e((0,o.setOpenMenuGroupId)(n))},startAnugaScenarioPolling:function(){return e((0,a.startAnugaScenarioPolling)())},stopAnugaScenarioPolling:function(){return e((0,a.stopAnugaScenarioPolling)())}}}))(Ie);var xe=t(49977),Ue=t.n(xe),Me=t(580416),De=t(801550),Pe=t(73443),je=t(433528),Ge=t(197395);const Le=(0,r.rx)("Anuga",{component:Ce,reducers:{anuga:function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=arguments.length>1?arguments[1]:void 0;switch(console.log("ACTION anuga:",r),r.type){case a.SET_CREATING_ANUGA_LAYER:return c(c({},t),{},{isCreatingAnugaLayer:r.isCreatingAnugaLayer});case a.UPDATE_ANUGA_SCENARIO:return c(c({},t),{},{scenarios:t.scenarios.map((function(e){return e.id===r.scenario.id?(r.scenario.unsaved=!0,r.scenario):e}))});case a.SET_ANUGA_POLLING_DATA:return c(c({},t),{},{scenarios:t.scenarios.map((function(e){var n=r.scenarios.filter((function(n){return e.id===n.id}))[0];return e.latest_run=c({},null==n?void 0:n.latest_run),e.status=(null==n?void 0:n.status)||"unsaved",e.latest_run_is_valid=null==n?void 0:n.latest_run_is_valid,e}))});case a.ADD_ANUGA_SCENARIO:return c(c({},t),{},{scenarios:[].concat(i(t.scenarios),[{id:null,name:"",code:null,description:"",maximum_triangle_area:10,constant_rainfall:null,duration:null,status:"new",project:null==t||null===(e=t.projectData)||void 0===e?void 0:e.id,boundary:"",elevation:"",log:"log placeholder",unsaved:!1}])});case a.SET_ANUGA_SCENARIO_IS_LOADED:return c(c({},t),{},{scenarios:t.scenarios.map((function(e){return e.id===r.scenarioId?(e.isLoaded=r.isLoaded,e):e}))});case a.SHOW_ANUGA_SCENARIO_LOG:return c(c({},t),{},{visibleAnugaScenarioLogId:r.scenarioId});case a.SHOW_ANUGA_RUN_MENU:return c(c({},t),{},{visibleAnugaRunMenu:r.visible});case a.SAVE_ANUGA_SCENARIO_SUCCESS:return c(c({},t),{},{scenarios:t.scenarios.map((function(e){return e.id===r.scenario.id?(r.scenario.unsaved=!1,r.scenario):e.id?e:r.scenario}))});case a.SELECT_ANUGA_SCENARIO:return c(c({},t),{},{selectedScenario:r.scenario});case a.SET_ANUGA_PROJECT_DATA:return c(c({},t),{},{projectData:r.data});case a.SET_ANUGA_SCENARIO_DATA:return 0===t.scenarios.length?c(c({},t),{},{scenarios:r.scenarios}):c(c({},t),{},{scenarios:null===(n=t.scenarios)||void 0===n?void 0:n.map((function(e){var n;return e.unsaved?c(c({},r.scenario),{},{unsaved:!0}):(null==e?void 0:e.id)===(null===(n=r.scenario)||void 0===n?void 0:n.id)?(r.scenario.unsaved=!1,r.scenario):e}))});case a.UPDATE_COMPUTE_INSTANCE_SUCCESS:return c(c({},t),{},{computeInstances:r.data});case a.SET_ANUGA_INFLOW_DATA:return c(c({},t),{},{inflows:r.data});case a.SET_ANUGA_FRICTION_DATA:return c(c({},t),{},{frictions:r.data});case a.SET_ANUGA_STRUCTURE_DATA:return c(c({},t),{},{structures:r.data});case a.SET_ANUGA_BOUNDARY_DATA:return c(c({},t),{},{boundaries:r.data});case a.SET_ANUGA_ELEVATION_DATA:return c(c({},t),{},{elevations:r.data});case a.SET_ANUGA_MESH_REGION_DATA:return c(c({},t),{},{meshRegions:r.data});case o.SET_OPEN_MENU_GROUP_ID:return r.openMenuGroupId?c(c({},t),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1}):t;case a.SET_ANUGA_INPUT_MENU:return c(c({},t),{},{showAnugaInputMenu:r.visible,showAnugaScenarioMenu:!1,showAnugaResultMenu:!1});case a.SET_ANUGA_SCENARIO_MENU:return c(c({},t),{},{showAnugaInputMenu:!1,showAnugaScenarioMenu:r.visible,showAnugaResultMenu:!1});case a.SET_ANUGA_RESULT_MENU:return c(c({},t),{},{showAnugaScenarioMenu:!1,showAnugaInputMenu:!1,showAnugaResultMenu:r.visible});default:return t}}},epics:{initAnugaEpic:function(e,n){return e.ofType(a.INIT_ANUGA).filter((function(){var e;return null===(e=n.getState())||void 0===e?void 0:e.gnresource.id})).switchMap((function(){var e;return Ue().Observable.from(O().post("/anuga/api/project/get_project_from_map_id/",{mapId:null===(e=n.getState())||void 0===e?void 0:e.gnresource.id}).catch((function(e){return console.log("**",e),"error"}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Ue().Observable.from(O().get("/anuga/api/project/".concat(e.data.projectId,"/"))).switchMap((function(n){return Ue().Observable.of((0,a.setAnugaProjectData)(n.data)).concat(Ue().Observable.from(O().get("/anuga/api/".concat(e.data.projectId,"/scenario/"))).switchMap((function(e){return Ue().Observable.of((0,a.setAnugaScenarioData)(e.data))})),Ue().Observable.from(O().get("/anuga/api/".concat(e.data.projectId,"/boundary/"))).switchMap((function(e){return Ue().Observable.of((0,a.setAnugaBoundaryData)(e.data))})),Ue().Observable.from(O().get("/anuga/api/".concat(e.data.projectId,"/elevation/"))).switchMap((function(e){return Ue().Observable.of((0,a.setAnugaElevationData)(e.data))})),Ue().Observable.from(O().get("/anuga/api/".concat(e.data.projectId,"/inflow/"))).switchMap((function(e){return Ue().Observable.of((0,a.setAnugaInflowData)(e.data))})),Ue().Observable.from(O().get("/anuga/api/".concat(e.data.projectId,"/structure/"))).switchMap((function(e){return Ue().Observable.of((0,a.setAnugaStructureData)(e.data))})),Ue().Observable.from(O().get("/anuga/api/".concat(e.data.projectId,"/friction/"))).switchMap((function(e){return Ue().Observable.of((0,a.setAnugaFrictionData)(e.data))})),Ue().Observable.from(O().get("/anuga/api/".concat(e.data.projectId,"/mesh-region/"))).switchMap((function(e){return Ue().Observable.of((0,a.setAnugaMeshRegionData)(e.data))})),Ue().Observable.of((0,a.startAnugaScenarioPolling)()))})).filter((function(e){return e}))}))})).filter((function(e){return e}))},cancelAnugaRunEpic:function(e,n){return e.ofType(a.CANCEL_ANUGA_RUN).concatMap((function(e){var t,r,a;return Ue().Observable.from(O().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/scenario/").concat(e.scenario.id,"/run/"),e))})).concatMap((function(e){var t,r,a;return Ue().Observable.from(O().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/scenario/").concat(e.scenario.id,"/cancel/"),{runId:e.scenario.latest_run.id}))})).concatMap((function(e){return Ue().Observable.of((0,Ge.show)({message:"cancelling..."},"warning"))}))},pollAnugaElevationEpic:function(e,n){return e.ofType(a.START_ANUGA_ELEVATION_POLLING).switchMap((function(){return Ue().Observable.timer(0,5e3).takeUntil(e.ofType(a.STOP_ANUGA_ELEVATION_POLLING)).switchMap((function(){var e,t,r;return Ue().Observable.from(O().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/elevation/available/"))).catch((function(e){return e}))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){var n,t,r,i,u,l;return(null===(n=e.data)||void 0===n?void 0:n.length)<2?Ue().Observable.concat(Ue().Observable.of((0,a.addAnugaBoundary)()),Ue().Observable.of((0,a.addAnugaFriction)()),Ue().Observable.of((0,a.addAnugaStructure)()),Ue().Observable.of((0,a.addAnugaInflow)()),Ue().Observable.of((0,a.addAnugaMeshRegion)())):Ue().Observable.concat(Ue().Observable.of((0,Me.A4)(e.data[0])),Ue().Observable.of((0,Me.A4)(null===(t=e.data)||void 0===t?void 0:t[1])),Ue().Observable.of((0,De.Px)(null===(r=e.data[0])||void 0===r||null===(i=r.bbox)||void 0===i?void 0:i.bounds,null===(u=e.data[0])||void 0===u||null===(l=u.bbox)||void 0===l?void 0:l.crs,20)),Ue().Observable.of((0,o.updateUploadStatus)("Complete")),Ue().Observable.of((0,Pe.nY)()),Ue().Observable.of((0,a.initAnuga)()))}))}))},runAnugaScenarioEpic:function(e,n){return e.ofType(a.RUN_ANUGA_SCENARIO).concatMap((function(e){var t,r,a;return Ue().Observable.from(O().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/scenario/").concat(e.scenario.id,"/run/"),e))})).concatMap((function(e){return Ue().Observable.of((0,a.runAnugaScenarioSuccess)(e.data),(0,a.setAnugaScenarioMenu)(!0))}))},saveAnugaScenarioEpic:function(e,n){return e.ofType(a.SAVE_ANUGA_SCENARIO).concatMap((function(e){var t,r,a,o,i,u;return e.scenario.id?Ue().Observable.from(O().put("/anuga/api/".concat(null===(o=n.getState())||void 0===o||null===(i=o.anuga)||void 0===i||null===(u=i.projectData)||void 0===u?void 0:u.id,"/scenario/").concat(e.scenario.id,"/"),e.scenario)):Ue().Observable.from(O().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/scenario/"),e.scenario))})).concatMap((function(e){return Ue().Observable.of((0,a.saveAnugaScenarioSuccess)(e.data),(0,a.setAnugaScenarioMenu)(!0))}))},pollAnugaScenarioEpic:function(e,n){return e.ofType(a.START_ANUGA_SCENARIO_POLLING).switchMap((function(){return Ue().Observable.timer(0,6e3).takeUntil(e.ofType(a.STOP_ANUGA_SCENARIO_POLLING)).switchMap((function(){var e,t,r;return Ue().Observable.from(O().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/scenario/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){return Ue().Observable.of((0,a.setAnugaPollingData)(e.data)).switchMap((function(e){var t,r,o,i,u,l,c,s,p,d,f,g,v,m,A,b=(null===(t=e.scenarios)||void 0===t?void 0:t.filter((function(e){var n;return"complete"===(null===(n=e.latest_run)||void 0===n?void 0:n.status)}))).filter((function(e){var t,r,a;return null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.scenarios)||void 0===a?void 0:a.filter((function(n){return(null==n?void 0:n.id)!==e.id||n.isLoaded?null:e}))[0]}))[0],y=null===(r=n.getState())||void 0===r||null===(o=r.layers)||void 0===o?void 0:o.flat.map((function(e){return e.name}));return b&&null!=b&&null!==(i=b.latest_run)&&void 0!==i&&null!==(u=i.gn_layer_depth_integrated_velocity_max)&&void 0!==u&&u.catalogURL&&null!=b&&null!==(l=b.latest_run)&&void 0!==l&&null!==(c=l.gn_layer_depth_max)&&void 0!==c&&c.catalogURL&&null!=b&&null!==(s=b.latest_run)&&void 0!==s&&null!==(p=s.gn_layer_velocity_max)&&void 0!==p&&p.catalogURL&&!y.includes(null==b||null===(d=b.latest_run)||void 0===d||null===(f=d.gn_layer_depth_integrated_velocity_max)||void 0===f?void 0:f.name)&&!y.includes(null==b||null===(g=b.latest_run)||void 0===g||null===(v=g.gn_layer_depth_max)||void 0===v?void 0:v.name)&&!y.includes(null==b||null===(m=b.latest_run)||void 0===m||null===(A=m.gn_layer_velocity_max)||void 0===A?void 0:A.name)?Ue().Observable.concat(Ue().Observable.of((0,a.setAnugaPollingData)(e.scenarios)),Ue().Observable.of((0,Me.A4)(b.latest_run.gn_layer_depth_integrated_velocity_max)),Ue().Observable.of((0,Me.A4)(b.latest_run.gn_layer_depth_max)),Ue().Observable.of((0,Me.A4)(b.latest_run.gn_layer_velocity_max)),Ue().Observable.of((0,a.setAnugaScenarioResultsLoaded)(null==b?void 0:b.id,!0))):Ue().Observable.of((0,a.setAnugaPollingData)(e.scenarios))}))}))}))}))},deleteAnugaScenarioEpic:function(e,n){return e.ofType(a.DELETE_ANUGA_SCENARIO).concatMap((function(e){var t,r,a;return Ue().Observable.from(O().delete("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/scenario/").concat(e.scenario.id,"/")))})).concatMap((function(e){return Ue().Observable.of((0,a.deleteAnugaScenarioSuccess)(e.data))}))},createAnugaFrictionEpic:function(e,n){return e.ofType(a.CREATE_ANUGA_FRICTION).switchMap((function(e){var t,r,a,o,i,u;return Ue().Observable.from(O().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/friction/"),{project:null===(o=n.getState())||void 0===o||null===(i=o.anuga)||void 0===i||null===(u=i.projectData)||void 0===u?void 0:u.id,title:e.frictionTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return Ue().Observable.of((0,a.addAnugaFriction)())}))},createAnugaInflowEpic:function(e,n){return e.ofType(a.CREATE_ANUGA_INFLOW).switchMap((function(e){var t,r,a,o,i,u;return Ue().Observable.from(O().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/inflow/"),{project:null===(o=n.getState())||void 0===o||null===(i=o.anuga)||void 0===i||null===(u=i.projectData)||void 0===u?void 0:u.id,title:e.inflowTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return Ue().Observable.of((0,a.addAnugaInflow)())}))},createAnugaStructureEpic:function(e,n){return e.ofType(a.CREATE_ANUGA_STRUCTURE).switchMap((function(e){var t,r,a,o,i,u;return Ue().Observable.from(O().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/structure/"),{project:null===(o=n.getState())||void 0===o||null===(i=o.anuga)||void 0===i||null===(u=i.projectData)||void 0===u?void 0:u.id,title:e.structureTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return Ue().Observable.of((0,a.addAnugaStructure)())}))},createAnugaMeshRegionEpic:function(e,n){return e.ofType(a.CREATE_ANUGA_MESH_REGION).switchMap((function(e){var t,r,a,o,i,u;return Ue().Observable.from(O().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/mesh-region/"),{project:null===(o=n.getState())||void 0===o||null===(i=o.anuga)||void 0===i||null===(u=i.projectData)||void 0===u?void 0:u.id,title:e.meshRegionTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return Ue().Observable.of((0,a.addAnugaMeshRegion)())}))},createAnugaBoundaryEpic:function(e,n){return e.ofType(a.CREATE_ANUGA_BOUNDARY).switchMap((function(e){var t,r,a,o,i,u;return Ue().Observable.from(O().post("/anuga/api/".concat(null===(t=n.getState())||void 0===t||null===(r=t.anuga)||void 0===r||null===(a=r.projectData)||void 0===a?void 0:a.id,"/boundary/"),{project:null===(o=n.getState())||void 0===o||null===(i=o.anuga)||void 0===i||null===(u=i.projectData)||void 0===u?void 0:u.id,title:e.boundaryTitle}).catch((function(e){return e})))})).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(){return Ue().Observable.of((0,a.addAnugaBoundary)())}))},addAnugaFrictionEpic:function(e,n){return e.ofType(a.ADD_ANUGA_FRICTION).switchMap((function(){var e,t,r;return Ue().Observable.from(O().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/friction/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){var t;return 0===(null===(t=e.data)||void 0===t?void 0:t.length)?Ue().Observable.empty():0===n.getState().layers.flat.filter((function(n){var t;return n.name===(null===(t=e.data[0])||void 0===t?void 0:t.name)})).length?Ue().Observable.concat(Ue().Observable.of((0,Me.A4)(e.data[0])),Ue().Observable.of((0,a.initAnuga)()),Ue().Observable.of((0,a.setCreatingAnugaLayer)(!1))):Ue().Observable.empty()}))}))},addAnugaInflowEpic:function(e,n){return e.ofType(a.ADD_ANUGA_INFLOW).switchMap((function(){var e,t,r;return Ue().Observable.from(O().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/inflow/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){var t;return 0===(null===(t=e.data)||void 0===t?void 0:t.length)?Ue().Observable.empty():0===n.getState().layers.flat.filter((function(n){var t;return n.name===(null===(t=e.data[0])||void 0===t?void 0:t.name)})).length?Ue().Observable.concat(Ue().Observable.of((0,Me.A4)(e.data[0])),Ue().Observable.of((0,a.initAnuga)()),Ue().Observable.of((0,a.setCreatingAnugaLayer)(!1))):Ue().Observable.empty()}))}))},addAnugaStructureEpic:function(e,n){return e.ofType(a.ADD_ANUGA_STRUCTURE).switchMap((function(){var e,t,r;return Ue().Observable.from(O().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/structure/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){var t;return 0===(null===(t=e.data)||void 0===t?void 0:t.length)?Ue().Observable.empty():0===n.getState().layers.flat.filter((function(n){var t;return n.name===(null===(t=e.data[0])||void 0===t?void 0:t.name)})).length?Ue().Observable.concat(Ue().Observable.of((0,Me.A4)(e.data[0])),Ue().Observable.of((0,a.initAnuga)()),Ue().Observable.of((0,a.setCreatingAnugaLayer)(!1))):Ue().Observable.empty()}))}))},addAnugaMeshRegionEpic:function(e,n){return e.ofType(a.ADD_ANUGA_MESH_REGION).switchMap((function(){var e,t,r;return Ue().Observable.from(O().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/mesh-region/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){var t;return 0===(null===(t=e.data)||void 0===t?void 0:t.length)?Ue().Observable.empty():0===n.getState().layers.flat.filter((function(n){var t;return n.name===(null===(t=e.data[0])||void 0===t?void 0:t.name)})).length?Ue().Observable.concat(Ue().Observable.of((0,Me.A4)(e.data[0])),Ue().Observable.of((0,a.initAnuga)()),Ue().Observable.of((0,a.setCreatingAnugaLayer)(!1))):Ue().Observable.empty()}))}))},addAnugaBoundaryEpic:function(e,n){return e.ofType(a.ADD_ANUGA_BOUNDARY).switchMap((function(){var e,t,r;return Ue().Observable.from(O().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/boundary/available/")).catch((function(e){return e}))).filter((function(e){return(null==e?void 0:e.status)<=400})).switchMap((function(e){var t;return 0===(null===(t=e.data)||void 0===t?void 0:t.length)?Ue().Observable.empty():0===n.getState().layers.flat.filter((function(n){var t;return n.name===(null===(t=e.data[0])||void 0===t?void 0:t.name)})).length?Ue().Observable.concat(Ue().Observable.of((0,Me.A4)(e.data[0])),Ue().Observable.of((0,a.initAnuga)()),Ue().Observable.of((0,a.setCreatingAnugaLayer)(!1))):Ue().Observable.empty()}))}))},prePopulateAnugaFeatureGridWithDefaults:function(e,n){return e.ofType(je.IN).take(1).concatMap((function(e){var t,r,a,o,i;return console.log("store.getState()?.featuregrid?.selectedLayer",null===(t=n.getState())||void 0===t||null===(r=t.featuregrid)||void 0===r?void 0:r.selectedLayer),console.log("!!store.getState()?.featuregrid?.selectedLayer?.includes('geonode:bdy_')",!(null===(a=n.getState())||void 0===a||null===(o=a.featuregrid)||void 0===o||null===(i=o.selectedLayer)||void 0===i||!i.includes("geonode:bdy_"))),console.log("* action",e),Ue().Observable.of(e)})).filter((function(){return["geonode:bdy_","geonode:inf_","geonode:str_","geonode:fri_","geonode:mes_"].some((function(e){var t,r;return null===(t=n.getState())||void 0===t||null===(r=t.featuregrid)||void 0===r?void 0:r.selectedLayer.includes(e)}))})).concatMap((function(e){var t,r;return console.log("** CREATE_NEW_FEATURE action",e),Ue().Observable.of((0,je.lx)([{properties:{"geonode:bdy_":{location:"External",boundary:"Dirichlet"},"geonode:inf_":{type:"Rainfall",data:100},"geonode:str_":{method:"Holes"},"geonode:fri_":{manning:.035},"geonode:mes_":{resolution:100}}[null===(t=n.getState())||void 0===t||null===(r=t.featuregrid)||void 0===r?void 0:r.selectedLayer.substring(0,12)]}]))}))},updateComputeInstanceEpic:function(e,n){return e.ofType(a.UPDATE_COMPUTE_INSTANCE).switchMap((function(){var e,t,r;return Ue().Observable.from(O().get("/anuga/api/".concat(null===(e=n.getState())||void 0===e||null===(t=e.anuga)||void 0===t||null===(r=t.projectData)||void 0===r?void 0:r.id,"/compute-instance/"))).switchMap((function(e){return Ue().Observable.of((0,a.updateComputeInstanceSuccess)(e.data))}))}))}}})},368658:(e,n,t)=>{function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(197395).SHOW_NOTIFICATION,u=t(423570),l="INIT_ANUGA",c="SET_ANUGA_INPUT_MENU",s="SET_ANUGA_SCENARIO_MENU",p="SET_ANUGA_RESULT_MENU",d="SET_ANUGA_PROJECT_DATA",f="SET_ANUGA_SCENARIO_DATA",g="SET_ANUGA_BOUNDARY_DATA",v="SET_ANUGA_FRICTION_DATA",m="SET_ANUGA_INFLOW_DATA",A="SET_ANUGA_STRUCTURE_DATA",b="SET_ANUGA_MESH_REGION_DATA",y="CREATE_ANUGA_BOUNDARY",h="CREATE_ANUGA_FRICTION",E="CREATE_ANUGA_INFLOW",_="CREATE_ANUGA_STRUCTURE",S="CREATE_ANUGA_MESH_REGION",w="ADD_ANUGA_BOUNDARY",O="ADD_ANUGA_FRICTION",N="ADD_ANUGA_INFLOW",T="ADD_ANUGA_STRUCTURE",R="ADD_ANUGA_MESH_REGION",I="SET_ANUGA_ELEVATION_DATA",C="CREATE_ANUGA_ELEVATION_FROM_LAYER",x="SET_ADD_ANUGA_ELEVATION_DATA",U="ADD_ANUGA_SCENARIO",M="RUN_ANUGA_SCENARIO",D="RUN_ANUGA_SCENARIO_SUCCESS",P="SAVE_ANUGA_SCENARIO",j="SAVE_ANUGA_SCENARIO_SUCCESS",G="DELETE_ANUGA_SCENARIO",L="SHOW_ANUGA_SCENARIO_LOG",k="SHOW_ANUGA_RUN_MENU",F="START_ANUGA_SCENARIO_POLLING",B="STOP_ANUGA_SCENARIO_POLLING",z="START_ANUGA_ELEVATION_POLLING",V="STOP_ANUGA_ELEVATION_POLLING",H="SET_ANUGA_POLLING_DATA",W="UPDATE_ANUGA_SCENARIO",Y="SELECT_ANUGA_SCENARIO",Z="SET_CREATING_ANUGA_LAYER",J="SET_ANUGA_SCENARIO_IS_LOADED",$="CANCEL_ANUGA_RUN",q="UPDATE_COMPUTE_INSTANCE",K="UPDATE_COMPUTE_INSTANCE_SUCCESS";e.exports={INIT_ANUGA:l,initAnuga:function(){return{type:l}},SET_ANUGA_INPUT_MENU:c,setAnugaInputMenu:function(e){return{type:c,visible:e}},SET_ANUGA_SCENARIO_MENU:s,setAnugaScenarioMenu:function(e){return{type:s,visible:e}},SET_ANUGA_RESULT_MENU:p,setAnugaResultMenu:function(e){return{type:p,visible:e}},SET_ANUGA_PROJECT_DATA:d,setAnugaProjectData:function(e){return{type:d,data:e}},SET_ANUGA_SCENARIO_DATA:f,setAnugaScenarioData:function(e){return{type:f,scenarios:e}},SET_ANUGA_ELEVATION_DATA:I,setAnugaElevationData:function(e){return{type:I,data:e}},SET_ANUGA_BOUNDARY_DATA:g,setAnugaBoundaryData:function(e){return{type:g,data:e}},SET_ANUGA_FRICTION_DATA:v,setAnugaFrictionData:function(e){return{type:v,data:e}},SET_ANUGA_INFLOW_DATA:m,setAnugaInflowData:function(e){return{type:m,data:e}},SET_ANUGA_STRUCTURE_DATA:A,setAnugaStructureData:function(e){return{type:A,data:e}},SET_ANUGA_MESH_REGION_DATA:b,setAnugaMeshRegionData:function(e){return{type:b,data:e}},CREATE_ANUGA_BOUNDARY:y,createAnugaBoundary:function(e){return{type:y,boundaryTitle:e}},CREATE_ANUGA_FRICTION:h,createAnugaFriction:function(e){return{type:h,frictionTitle:e}},CREATE_ANUGA_INFLOW:E,createAnugaInflow:function(e){return{type:E,inflowTitle:e}},CREATE_ANUGA_STRUCTURE:_,createAnugaStructure:function(e){return{type:_,structureTitle:e}},CREATE_ANUGA_MESH_REGION:S,createAnugaMeshRegion:function(e){return{type:S,meshRegionTitle:e}},ADD_ANUGA_BOUNDARY:w,addAnugaBoundary:function(){return{type:w}},ADD_ANUGA_FRICTION:O,addAnugaFriction:function(){return{type:O}},ADD_ANUGA_INFLOW:N,addAnugaInflow:function(){return{type:N}},ADD_ANUGA_STRUCTURE:T,addAnugaStructure:function(){return{type:T}},ADD_ANUGA_MESH_REGION:R,addAnugaMeshRegion:function(){return{type:R}},SET_ADD_ANUGA_ELEVATION_DATA:x,setAddAnugaElevation:function(e){return{type:x,visible:e}},CREATE_ANUGA_ELEVATION_FROM_LAYER:C,createAnugaElevationFromLayer:function(e,n){return{type:C,pk:e,title:n}},SAVE_ANUGA_SCENARIO:P,saveAnugaScenario:function(e){return{type:P,scenario:e}},ADD_ANUGA_SCENARIO:U,addAnugaScenario:function(){return{type:U}},SAVE_ANUGA_SCENARIO_SUCCESS:j,saveAnugaScenarioSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario ID: ".concat(e.id," saved"),uid:u(),level:"success"}),n({type:j,scenario:e})}},DELETE_ANUGA_SCENARIO:G,deleteAnugaScenario:function(e){return{type:G,scenario:e}},DELETE_ANUGA_SCENARIO_SUCCESS:"DELETE_ANUGA_SCENARIO_SUCCESS",deleteAnugaScenarioSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario ID: ".concat(e.id," deleted"),uid:u(),level:"info"}),n({type:l})}},RUN_ANUGA_SCENARIO:M,runAnugaScenario:function(e,n){return{type:M,scenario:e,computeInstanceId:n}},RUN_ANUGA_SCENARIO_SUCCESS:D,runAnugaScenarioSuccess:function(e){return function(n){n({type:i,title:"Success",autoDismiss:6,position:"tc",message:"Scenario ID: ".concat(e.id," running"),uid:u(),level:"success"}),n({type:D,scenario:e})}},UPDATE_ANUGA_SCENARIO:W,updateAnugaScenario:function(e,n){return{type:W,scenario:a(a({},e),n)}},SELECT_ANUGA_SCENARIO:Y,selectAnugaScenario:function(e){return{type:Y,scenario:e}},SHOW_ANUGA_SCENARIO_LOG:L,showAnugaScenarioLog:function(e){return{type:L,scenarioId:e}},SHOW_ANUGA_RUN_MENU:k,showAnugaRunMenu:function(e){return{type:k,visible:e}},START_ANUGA_SCENARIO_POLLING:F,startAnugaScenarioPolling:function(){return{type:F}},STOP_ANUGA_SCENARIO_POLLING:B,stopAnugaScenarioPolling:function(){return{type:B}},START_ANUGA_ELEVATION_POLLING:z,startAnugaElevationPolling:function(){return{type:z}},STOP_ANUGA_ELEVATION_POLLING:V,stopAnugaElevationPolling:function(){return{type:V}},SET_ANUGA_POLLING_DATA:H,setAnugaPollingData:function(e){return{type:H,scenarios:e}},SET_CREATING_ANUGA_LAYER:Z,setCreatingAnugaLayer:function(e){return{type:Z,isCreatingAnugaLayer:e}},SET_ANUGA_SCENARIO_IS_LOADED:J,setAnugaScenarioResultsLoaded:function(e,n){return{type:J,scenarioId:e,isLoaded:n}},CANCEL_ANUGA_RUN:$,cancelAnugaRun:function(e,n){return{type:$,scenario:e,computeInstanceId:n}},UPDATE_COMPUTE_INSTANCE:q,updateComputeInstance:function(){return{type:q}},UPDATE_COMPUTE_INSTANCE_SUCCESS:K,updateComputeInstanceSuccess:function(e){return{type:K,data:e}}}},273454:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});var r=t(923645),a=t.n(r)()((function(e){return e[1]}));a.push([e.id,'.msgapi #anuga-container {\n    width:100%;\n    height:100%;\n    display: flex;\n    justify-content: center;\n    margin: 10px;\n    border: 1px solid #fff;\n    background-color: #ffffff;\n}\n\n.msgapi #anuga-chart {\n    z-index: 3000;\n    width: 98%;\n    height: 90%;\n    margin: 70px 20px 20px 0;\n    background-color: #ffffff;\n    font-size: 12px;\n    border-radius: 4px;\n    text-align: center;\n}\n\n.msgapi .chart-mainbody {\n    padding: 20px;\n    margin-top: 0;\n    height: 85%;\n    overflow: auto;\n}\n\n.msgapi .chart-header {\n    padding: 20px;\n    height: 60px;\n    border-bottom: 1px solid #DDD;\n    background-color: #ffffff;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.msgapi .chart-footer {\n    padding: 20px;\n    bottom: 0;\n    height: 80px;\n    background-color: #ffffff;\n    border-top: 1px solid #DDD;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.msgapi .chart-sidebar {\n    padding: 0 30px 0 30px;\n    min-height: 600px;\n    background-color: #f3f3f3;\n    border: 1px solid #c7c7c7;\n    border-radius: 3px;\n}\n\n.msgapi .scenario-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .table-hover > tbody > tr:hover {\n    background-color: #ffffff45;\n}\n\n.msgapi .scenario-table {\n    margin-bottom: 0;\n}\n\n.msgapi .scenario-table-row {\n\n}\n\n.msgapi #new-scenario-button {\n    position: absolute;\n    right: 40px;\n    top: 11px;\n}\n\n.msgapi .scenario-select {\n    border-radius: 3px;\n    width: 100px;\n    height: 22px;\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .add-data-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi #anuga-scenario-log-viewer-container {\n    position: absolute;\n    z-index: 2000;\n    top: 5%;\n    min-width: 800px;\n    min-height: 600px;\n    color: #333333;\n    background-color: #f2f2f2;\n    border: 2px solid #dddddd;\n    border-radius: 5px;\n}\n\n.msgapi #anuga-scenario-log-viewer {\n    overflow-y: scroll;\n    height: 70vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    line-height: 1.42857143;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi #anuga-run-menu-container {\n    position: absolute;\n    z-index: 2000;\n    top: 5%;\n    min-width: 800px;\n    min-height: 600px;\n    color: white;\n    background-color: #335781;\n    border: 1px solid white;\n    border-radius: 5px;\n}\n\n.msgapi #anuga-run-menu {\n    color: black;\n    background: white;\n    overflow-y: scroll;\n    overflow-x: auto;\n    height: 10vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi #anuga-compute-instance-menu {\n    color: black;\n    background: white;\n    overflow-y: scroll;\n    overflow-x: auto;\n    height: 35vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi #anuga-scenario-menu {\n    overflow-y: hidden;\n    overflow-x: auto;\n    max-width: 98%;\n}\n\n.msgapi ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: white;\n  opacity: 1; /* Firefox */\n}\n\n/*#identify-container {*/\n/*    display:none;*/\n/*}*/\n\n/*#navigationBar {*/\n/*    display:none;*/\n/*}*/\n\n/* this is really terrible and can lead to random stuff not showing, but it is the only way I can see to select the\ndiv that holds the feature-grid */\n/*main > div[style*="1030"]:not([id]):not([role]):not([class]) {*/\n/*    display: none;*/\n/*}*/',""]);const o=a}}]);