(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[44995],{643892:(e,n,t)=>{"use strict";t.d(n,{W:()=>r,Zf:()=>o,Eu:()=>a,Vy:()=>l,YB:()=>i,xm:()=>u,_f:()=>c,ek:()=>s,cd:()=>p,pt:()=>d,ww:()=>f,tR:()=>g,Js:()=>m,p2:()=>y,ZH:()=>h,eQ:()=>v,ql:()=>b,$X:()=>E,nS:()=>w,ih:()=>S,J5:()=>A,uA:()=>x,Pv:()=>O,_Z:()=>N,dh:()=>R,IH:()=>T,e3:()=>k,Oq:()=>C,Q$:()=>M,DF:()=>P,id:()=>_,Br:()=>I,bI:()=>j,U5:()=>L,e5:()=>D,b3:()=>G,mN:()=>B,QN:()=>F,HV:()=>U,xe:()=>z,vA:()=>V,gw:()=>H,qs:()=>Q,CB:()=>W,vg:()=>Z,Z0:()=>Y,lf:()=>q,jQ:()=>X,nk:()=>$,X7:()=>J,nO:()=>K,F4:()=>ee,EU:()=>ne,Rk:()=>te,V1:()=>re});var r="GEONODE:RESOURCE_LOADING",o="GEONODE:SET_RESOURCE",a="GEONODE:RESOURCE_ERROR",l="GEONODE:UPDATE_RESOURCE_PROPERTIES",i="GEONODE:SET_RESOURCE_TYPE",u="GEONODE:SET_NEW_RESOURCE",c="GEONODE:SET_RESOURCE_ID",s="GEONODE:SET_RESOURCE_PERMISSIONS",p="GEONODE:EDIT_TITLE_RESOURCE",d="GEONODE:EDIT_ABSTRACT_RESOURCE",f="GEONODE:EDIT_THUMBNAIL_RESOURCE",g="GEONODE:SET_FAVORITE_RESOURCE",m="GEONODE:SET_MAP_THUMBNAIL",y="GEONODE:SET_SELECTED_DATASET_PERMISSIONS",h="GEONODE:REQUEST_RESOURCE_CONFIG",v="GEONODE:REQUEST_NEW_RESOURCE_CONFIG",b="GEONODE:LOADING_RESOURCE_CONFIG",E="GEONODE:RESET_RESOURCE_STATE",w="GEONODE:RESOURCE_CONFIG_ERROR",S="GEONODE:SET_RESOURCE_COMPACT_PERMISSIONS",A="GEONODE:UPDATE_RESOURCE_COMPACT_PERMISSIONS",x="GEONODE:RESET_GEO_LIMITS",O="GEONODE:PROCESS_RESOURCES",N="GEONODE_SET_RESOURCE_THUMBNAIL",R="GEONODE_ENABLE_MAP_THUMBNAIL_VIEWER",T="GEONODE_DOWNLOAD_RESOURCE",k="GEONODE_DOWNLOAD_COMPLETE",C="GEONODE_UPDATE_SINGLE_RESOURCE";function M(){return{type:r}}function P(e,n){return{type:o,data:e,pending:n}}function _(e){return{type:C,data:e}}function I(e){return{type:p,title:e}}function j(e){return{type:d,abstract:e}}function L(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false";return{type:f,thumbnailUrl:e,thumbnailChanged:n}}function D(){return{type:N}}function G(e){return{type:i,resourceType:e}}function B(e){return{type:a,error:e}}function F(e){return{type:l,properties:e}}function U(){return{type:u}}function z(e){return{type:c,id:e}}function V(e){return{type:y,permissions:e}}function H(e){return{type:g,favorite:e}}function Q(e){return{type:R,enabled:e}}function W(e){return{type:m,bbox:e}}function Z(e,n,t){return{type:h,resourceType:e,pk:n,options:t}}function Y(e){return{type:v,resourceType:e}}function q(e){return{type:b,loading:e}}function X(e){return{type:w,message:e}}function $(){return{type:E}}function J(e){return{type:S,compactPermissions:e}}function K(e){return{type:A,compactPermissions:e}}function ee(){return{type:x}}function ne(e,n,t){return{type:O,processType:e,resources:n,redirectTo:t}}function te(e){return{type:T,resource:e}}function re(e){return{type:k,resource:e}}},73443:(e,n,t)=>{"use strict";t.d(n,{rs:()=>r,AY:()=>o,SW:()=>a,yB:()=>l,oG:()=>i,oz:()=>u,id:()=>c,gc:()=>s,cE:()=>p,rG:()=>d,Vj:()=>f,nY:()=>g});var r="GEONODE:SAVING_RESOURCE",o="GEONODE:SAVE_SUCCESS",a="GEONODE:SAVE_ERROR",l="GEONODE:CLEAR_SAVE",i="GEONODE:SAVE_CONTENT",u="GEONODE:SAVE_DIRECT_CONTENT";function c(){return{type:r}}function s(e){return{type:o,success:e}}function p(e){return{type:a,error:e}}function d(){return{type:l}}function f(e,n,t,r){return{type:i,id:e,metadata:n,reload:t,showNotifications:r}}function g(){return{type:u}}},211986:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>ze});var r=t(322843),o=t(375501),a=t(124852),l=t.n(a),i=t(171703),u=t(368658),c=t(926036),s=t(724469),p=t(893379),d=t.n(p),f=t(273454);d()(f.Z,{insert:"head",singleton:!1}),f.Z.locals,t(472619);var g=t(351288),m=t(388380),y=t(427995);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,n){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function E(e,n){if(n&&("object"===h(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var A=t(45697),x=t(472986),O=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&b(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=w(r);if(o){var t=w(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return E(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={showAdvanced:!1,boundaryTitle:"",frictionTitle:"",inflowTitle:"",structureTitle:"",meshRegionTitle:"",networkTitle:"",catchmentTitle:"",nodesTitle:"",linksTitle:""},n}return n=i,(t=[{key:"componentDidMount",value:function(){this.props.startAnugaModelCreationPolling(),this.props.startAnugaElevationPolling()}},{key:"componentWillUnmount",value:function(){this.props.stopAnugaModelCreationPolling(),this.props.stopAnugaElevationPolling()}},{key:"render",value:function(){var e,n,t,r,o,a,i,u,c,p,d,f,g,h,v,b,E,w,S=this;return l().createElement("div",{id:"anuga-input-menu",className:"simple-view-panel",style:{top:"70px",width:"560px"}},l().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},l().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},l().createElement("span",{className:"menu-row-text"},"Elevations"),l().createElement(s.OverlayTrigger,{placement:"right",overlay:l().createElement(s.Tooltip,null,"Upload a new *.tiff elevation")},l().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){S.props.setVisibleUploaderPanel(!0,"elevation",null),S.props.startAnugaElevationPolling()}}))),null===(e=this.props.elevationLayers)||void 0===e?void 0:e.map((function(e){return l().createElement(m.j,{layer:e})})),0===(null===(n=this.props.elevationLayers)||void 0===n?void 0:n.length)?l().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"No elevations available"):null),null!==(t=this.props.projectData)&&void 0!==t&&t.projection?l().createElement(l().Fragment,null,l().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},l().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},l().createElement("span",{className:"pull-left menu-row-text"},"Boundaries"),this.props.canEditAnugaMap?l().createElement(l().Fragment,null,l().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.boundaryTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaBoundary(S.state.boundaryTitle),S.setState({boundaryTitle:""})}}),this.props.isCreatingAnugaLayer?l().createElement("span",null,l().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):l().createElement("input",{id:"boundary-input",key:"boundary-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.boundaryTitle,onChange:function(e){return S.setState({boundaryTitle:e.target.value})}})):null),null===(r=this.props.boundaryLayers)||void 0===r?void 0:r.map((function(e){return l().createElement(m.j,{layer:e})})),0===(null===(o=this.props.boundaryLayers)||void 0===o?void 0:o.length)?l().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),l().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},l().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},l().createElement("span",{className:"pull-left menu-row-text"},"Inflows"),this.props.canEditAnugaMap?l().createElement(l().Fragment,null,l().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.inflowTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaInflow(S.state.inflowTitle),S.setState({inflowTitle:""})}}),this.props.isCreatingAnugaLayer?l().createElement("span",null,l().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):l().createElement("input",{id:"inflow-input",key:"inflow-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.inflowTitle,onChange:function(e){return S.setState({inflowTitle:e.target.value})}})):null),null===(a=this.props.inflowLayers)||void 0===a?void 0:a.map((function(e){return l().createElement(m.j,{layer:e})})),0===(null===(i=this.props.inflowLayers)||void 0===i?void 0:i.length)?l().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),l().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},l().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},l().createElement("span",{className:"pull-left menu-row-text"},"Advanced"),l().createElement("span",{className:"btn glyphicon menu-row-glyph ".concat(this.state.showAdvanced?"glyphicon-chevron-down":"glyphicon-chevron-right"),style:{color:"#325f93",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.setState((function(e){return{showAdvanced:!e.showAdvanced}}))}}))),this.state.showAdvanced?l().createElement("div",{id:"advancedInputs"},l().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},l().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},l().createElement("span",{className:"pull-left menu-row-text"},"Full Mesh")),null===(u=this.props.fullMeshLayers)||void 0===u?void 0:u.map((function(e){return l().createElement(m.j,{layer:e})})),0===(null===(c=this.props.fullMeshLayers)||void 0===c?void 0:c.length)?l().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"Mesh will appear here when a Scenario is built."):null),l().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},l().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},l().createElement("span",{className:"pull-left menu-row-text"},"Mesh Regions"),this.props.canEditAnugaMap?l().createElement(l().Fragment,null,l().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.meshRegionTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaMeshRegion(S.state.meshRegionTitle),S.setState({meshRegionTitle:""})}}),this.props.isCreatingAnugaLayer?l().createElement("span",null,l().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):l().createElement("input",{id:"mesh-region-input",key:"mesh-region-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.meshRegionTitle,onChange:function(e){return S.setState({meshRegionTitle:e.target.value})}})):null),null===(p=this.props.meshRegionLayers)||void 0===p?void 0:p.map((function(e){return l().createElement(m.j,{layer:e})})),0===(null===(d=this.props.meshRegionLayers)||void 0===d?void 0:d.length)?l().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),l().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},l().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},l().createElement("span",{className:"pull-left menu-row-text"},"Friction Maps"),this.props.canEditAnugaMap?l().createElement(l().Fragment,null,l().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.frictionTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaFriction(S.state.frictionTitle),S.setState({frictionTitle:""})}}),this.props.isCreatingAnugaLayer?l().createElement("span",null,l().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):l().createElement("input",{id:"friction-input",key:"friction-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.frictionTitle,onChange:function(e){return S.setState({frictionTitle:e.target.value})}})):null),null===(f=this.props.frictionLayers)||void 0===f?void 0:f.map((function(e){return l().createElement(m.j,{layer:e})})),0===(null===(g=this.props.frictionLayers)||void 0===g?void 0:g.length)?l().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),l().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},l().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},l().createElement("span",{className:"pull-left menu-row-text"},"Structures"),this.props.canEditAnugaMap?l().createElement(l().Fragment,null,l().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.structureTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createAnugaStructure(S.state.structureTitle),S.setState({structureTitle:""})}}),this.props.isCreatingAnugaLayer?l().createElement("span",null,l().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):l().createElement("input",{id:"structure-input",key:"structure-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.structureTitle,onChange:function(e){return S.setState({structureTitle:e.target.value})}})):null),null===(h=this.props.structureLayers)||void 0===h?void 0:h.map((function(e){return l().createElement(m.j,{layer:e})})),0===(null===(v=this.props.structureLayers)||void 0===v?void 0:v.length)?l().createElement("div",{className:"row menu-row menu-row",style:{width:"540px",textAlign:"left",border:"none"}},"None"):null),l().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255)",borderRadius:"3px",margin:"3px 0"}},l().createElement("div",{className:"row menu-row menu-row-header",style:{width:"540px",textAlign:"left",border:"none"}},l().createElement("span",{className:"pull-left menu-row-text",style:{marginTop:"4px"}},"Networks"),l().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-cog",style:{color:"#325f93",fontSize:"smaller",textAlign:"right",marginLeft:"8px",float:"left"},onClick:function(){S.props.setNetworkMenu(!0),S.props.setAnugaInputMenu(!1)}}),this.props.canEditAnugaMap?l().createElement(l().Fragment,null,l().createElement("span",{className:"btn glyphicon menu-row-glyph glyphicon-plus".concat(this.state.networkTitle?"":" disabled"),style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px",float:"right"},onClick:function(){S.props.setCreatingAnugaLayer(!0),S.props.createNetwork(S.state.networkTitle),S.setState({networkTitle:""})}}),this.props.isCreatingAnugaLayer?l().createElement("span",null,l().createElement(x,{color:"white",style:{display:"inline-block",position:"absolute",right:"45px"},spinnerName:"circle",noFadeIn:!0})):l().createElement("input",{id:"network-input",key:"network-input",className:"data-title-input",style:{marginTop:"3px",marginRight:"5px"},type:"text",value:this.state.networkTitle,onChange:function(e){return S.setState({networkTitle:e.target.value})}})):null),l().createElement("div",null,l().createElement("div",{className:"menu-row-mini-container"},l().createElement("p",{className:"menu-row-mini-heading"},"Catchments"),null===(b=this.props.catchmentLayers)||void 0===b?void 0:b.map((function(e){return l().createElement(m.j,{layer:e})}))),l().createElement("div",{className:"menu-row-mini-container"},l().createElement("p",{className:"menu-row-mini-heading"},"Nodes"),null===(E=this.props.nodesLayers)||void 0===E?void 0:E.map((function(e){return l().createElement(m.j,{layer:e})}))),l().createElement("div",{className:"menu-row-mini-container"},l().createElement("p",{className:"menu-row-mini-heading"},"Links"),null===(w=this.props.linksLayers)||void 0===w?void 0:w.map((function(e){return l().createElement(m.j,{layer:e})})))))):null):null,l().createElement(y.h,{fileType:"elevation"}))}}])&&v(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(l().Component);S(O,"propTypes",{projectData:A.object,setVisibleUploaderPanel:A.func,anugaGroupLength:A.number,elevationLayers:A.array,boundaryLayers:A.array,createAnugaBoundary:A.func,createAnugaFriction:A.func,createAnugaInflow:A.func,createAnugaStructure:A.func,createAnugaMeshRegion:A.func,createNetwork:A.func,createCatchment:A.func,createNodes:A.func,createLinks:A.func,frictionLayers:A.array,inflowLayers:A.array,structureLayers:A.array,fullMeshLayers:A.array,meshRegionLayers:A.array,catchmentLayers:A.array,nodesLayers:A.array,linksLayers:A.array,startAnugaElevationPolling:A.func,stopAnugaElevationPolling:A.func,startAnugaModelCreationPolling:A.func,stopAnugaModelCreationPolling:A.func,isCreatingAnugaLayer:A.bool,setCreatingAnugaLayer:A.func,canEditAnugaMap:A.func,addAnugaBoundary:A.func,addAnugaFriction:A.func,addAnugaInflow:A.func,addAnugaStructure:A.func,addAnugaFullMesh:A.func,addAnugaMeshRegion:A.func,addCatchment:A.func,addNodes:A.func,addLinks:A.func,networks:A.array,setNetworkMenu:A.func,boundaryModels:A.array,frictionModels:A.array,inflowModels:A.array,structureModels:A.array,fullMeshModels:A.array,meshRegionModels:A.array,catchmentModels:A.array,nodesModels:A.array,linksModels:A.array,setAnugaInputMenu:A.func}),S(O,"defaultProps",{});var N=(0,i.connect)((function(e){var n,t,r,o,a,l,i,u,s,p,d,f,g,m,y,h,v,b,E,w,S,A,x,O,N,R,T,k,C,M,P,_,I,j;return{projectData:null==e||null===(n=e.anuga)||void 0===n?void 0:n.projectData,elevationLayers:null==e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(e){return"Input Data.Elevations"===(null==e?void 0:e.group)})),boundaryLayers:null==e||null===(o=e.layers)||void 0===o||null===(a=o.flat)||void 0===a?void 0:a.filter((function(e){return"Input Data.Boundaries"===(null==e?void 0:e.group)})),inflowLayers:null==e||null===(l=e.layers)||void 0===l||null===(i=l.flat)||void 0===i?void 0:i.filter((function(e){return"Input Data.Inflows"===(null==e?void 0:e.group)})),frictionLayers:null==e||null===(u=e.layers)||void 0===u||null===(s=u.flat)||void 0===s?void 0:s.filter((function(e){return"Input Data.Friction Maps"===(null==e?void 0:e.group)})),structureLayers:null==e||null===(p=e.layers)||void 0===p||null===(d=p.flat)||void 0===d?void 0:d.filter((function(e){return"Input Data.Structures"===(null==e?void 0:e.group)})),fullMeshLayers:null==e||null===(f=e.layers)||void 0===f||null===(g=f.flat)||void 0===g?void 0:g.filter((function(e){return"Input Data.Full Mesh"===(null==e?void 0:e.group)})),meshRegionLayers:null==e||null===(m=e.layers)||void 0===m||null===(y=m.flat)||void 0===y?void 0:y.filter((function(e){return"Input Data.Mesh Regions"===(null==e?void 0:e.group)})),networkLayers:null==e||null===(h=e.layers)||void 0===h||null===(v=h.flat)||void 0===v?void 0:v.filter((function(e){return"Input Data.Networks"===(null==e?void 0:e.group)})),catchmentLayers:null==e||null===(b=e.layers)||void 0===b||null===(E=b.flat)||void 0===E?void 0:E.filter((function(e){return"Input Data.Catchments"===(null==e?void 0:e.group)})),nodesLayers:null==e||null===(w=e.layers)||void 0===w||null===(S=w.flat)||void 0===S?void 0:S.filter((function(e){return"Input Data.Nodes"===(null==e?void 0:e.group)})),linksLayers:null==e||null===(A=e.layers)||void 0===A||null===(x=A.flat)||void 0===x?void 0:x.filter((function(e){return"Input Data.Links"===(null==e?void 0:e.group)})),elevationModels:null==e||null===(O=e.anuga)||void 0===O?void 0:O.elevations,boundaryModels:null==e||null===(N=e.anuga)||void 0===N?void 0:N.boundaries,inflowModels:null==e||null===(R=e.anuga)||void 0===R?void 0:R.inflows,frictionModels:null==e||null===(T=e.anuga)||void 0===T?void 0:T.frictions,structureModels:null==e||null===(k=e.anuga)||void 0===k?void 0:k.structures,fullMeshModels:null==e||null===(C=e.anuga)||void 0===C?void 0:C.fullMeshes,meshRegionModels:null==e||null===(M=e.anuga)||void 0===M?void 0:M.meshRegions,catchmentModels:null==e||null===(P=e.anuga)||void 0===P?void 0:P.catchments,nodesModels:null==e||null===(_=e.anuga)||void 0===_?void 0:_.nodes,linksModels:null==e||null===(I=e.anuga)||void 0===I?void 0:I.links,isCreatingAnugaLayer:null==e||null===(j=e.anuga)||void 0===j?void 0:j.isCreatingAnugaLayer,canEditAnugaMap:(0,c.Dh)(e)}}),(function(e){return{addAnugaBoundary:function(){return e((0,u.addAnugaBoundary)())},addAnugaFriction:function(){return e((0,u.addAnugaFriction)())},addAnugaInflow:function(){return e((0,u.addAnugaInflow)())},addAnugaStructure:function(){return e((0,u.addAnugaStructure)())},addAnugaFullMesh:function(){return e((0,u.addAnugaFullMesh)())},addAnugaMeshRegion:function(){return e((0,u.addAnugaMeshRegion)())},addCatchment:function(){return e((0,u.addCatchment)())},setNetworkMenu:function(n){return e((0,u.setNetworkMenu)(n))},setAnugaInputMenu:function(n){return e((0,u.setAnugaInputMenu)(n))},addNetwork:function(){return e((0,u.addNetwork)())},addNodes:function(){return e((0,u.addNodes)())},addLinks:function(){return e((0,u.addLinks)())},startAnugaElevationPolling:function(){return e((0,u.startAnugaElevationPolling)())},stopAnugaElevationPolling:function(){return e((0,u.stopAnugaElevationPolling)())},startAnugaModelCreationPolling:function(){return e((0,u.startAnugaModelCreationPolling)())},stopAnugaModelCreationPolling:function(){return e((0,u.stopAnugaModelCreationPolling)())},setVisibleUploaderPanel:function(n,t,r){return e((0,g.setVisibleUploaderPanel)(n,t,r))},setCreatingAnugaLayer:function(n){return e((0,u.setCreatingAnugaLayer)(n))},createAnugaBoundary:function(n){return e((0,u.createAnugaBoundary)(n))},createAnugaInflow:function(n){return e((0,u.createAnugaInflow)(n))},createAnugaStructure:function(n){return e((0,u.createAnugaStructure)(n))},createAnugaFriction:function(n){return e((0,u.createAnugaFriction)(n))},createAnugaMeshRegion:function(n){return e((0,u.createAnugaMeshRegion)(n))},createNetwork:function(n){return e((0,u.createNetwork)(n))}}}))(O);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,n){if(e){if("string"==typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(e,n):void 0}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function M(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,n){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function _(e,n){if(n&&("object"===R(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var D=t(45697),G=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&P(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=j(r);if(o){var t=j(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return _(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),L(I(n=a.call(this,e)),"getSecondsFromHHMM",(function(e){console.log("userInputValue",e);var n,t,r=(n=e.split(":"),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],l=!0,i=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(n,t)||k(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],l=Number(o),i=Number(a);return console.log("hoursNumber",l),console.log("minutesNumber",i),!isNaN(l)&&isNaN(i)?(console.log("returning:",60*l),60*l):isNaN(l)||isNaN(i)?0:(console.log("returning:",60*(60*l+i)),60*(60*l+i))})),L(I(n),"findScenarioStatus",(function(e){var n;return"building server"===e.status?e.status:null!=e&&e.latest_run_is_valid||"error"===(null==e||null===(n=e.latest_run)||void 0===n?void 0:n.status)?e.latest_run.status:e.status})),L(I(n),"handleTextChange",(function(e,t){var r={};r[e.target.id]=e.target.value,n.props.updateAnugaScenario(t,r)})),L(I(n),"handleBoolChange",(function(e,t){var r={};r[e.target.id]=!t[e.target.id],n.props.updateAnugaScenario(t,r)})),L(I(n),"handleIntChange",(function(e,t){var r={};r[e.target.id]=parseInt(e.target.value,10),n.props.updateAnugaScenario(t,r)})),L(I(n),"handleNumberChange",(function(e,t){var r={};r[e.target.id]=parseFloat(e.target.value),n.props.updateAnugaScenario(t,r)})),L(I(n),"toHHMM",(function(e){if(!e)return"hh:mm";var n=parseInt(e.toString(),10);return[Math.floor(n/3600),Math.floor(n/60)%60,n%60].map((function(e){return e<10?"0".concat(e):e})).filter((function(e,n){return"00"!==e||n>0})).join(":").replace(/^0/,"").slice(0,-3)})),L(I(n),"handleTimeChange",(function(e,t){var r={tempTimeString:e.target.value};n.props.updateAnugaScenario(t,r)})),L(I(n),"handleTimeBlur",(function(e,t){var r=e.target.value;console.log("targetValue",r);var o=Math.max(0,n.getSecondsFromHHMM(r));console.log("seconds",o);var a={};a[e.target.id]=o,delete a.tempTimeString,n.props.updateAnugaScenario(t,a)})),n.state={scenarioTableTabs:["manage","compare"]},n.handleTextChange=n.handleTextChange.bind(I(n)),n.handleBoolChange=n.handleBoolChange.bind(I(n)),n.handleIntChange=n.handleIntChange.bind(I(n)),n.handleTimeChange=n.handleTimeChange.bind(I(n)),n.handleTimeBlur=n.handleTimeBlur.bind(I(n)),n}return n=i,(t=[{key:"render",value:function(){var e,n,t,r,o,a,i=this;return l().createElement("div",{id:"anuga-scenario-menu",className:"simple-view-panel",style:{top:"70px"}},l().createElement("div",{className:"menu-rows-container"},l().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},"Scenarios",l().createElement("span",{id:"scenario-tab-button-group"},l().createElement(s.Button,{bsSize:"medium",style:{margin:"2px 0 -17px 20px",borderRadius:"6px 6px 0 0",color:this.state.scenarioTableTabs.includes("manage")?"#3363a0":"white",backgroundColor:this.state.scenarioTableTabs.includes("manage")?"white":"#6085b5"},onClick:function(){return i.state.scenarioTableTabs.includes("manage")?i.setState((function(e){return{scenarioTableTabs:T(e.scenarioTableTabs.filter((function(e,n){return"manage"!==e})))}})):i.setState((function(e){return{scenarioTableTabs:[].concat(T(e.scenarioTableTabs),["manage"])}}))}},"Manage"),l().createElement(s.Button,{bsSize:"medium",style:{margin:"2px 0 -17px 8px",borderRadius:"6px 6px 0 0",color:this.state.scenarioTableTabs.includes("advanced")?"#3363a0":"white",backgroundColor:this.state.scenarioTableTabs.includes("advanced")?"white":"#6085b5"},onClick:function(){return i.state.scenarioTableTabs.includes("advanced")?i.setState((function(e){return{scenarioTableTabs:T(e.scenarioTableTabs.filter((function(e,n){return"advanced"!==e})))}})):i.setState((function(e){return{scenarioTableTabs:[].concat(T(e.scenarioTableTabs),["advanced"])}}))}},"Advanced"),l().createElement(s.Button,{bsSize:"medium",style:{margin:"2px 0 -17px 8px",borderRadius:"6px 6px 0 0",color:this.state.scenarioTableTabs.includes("compare")?"#3363a0":"white",backgroundColor:this.state.scenarioTableTabs.includes("compare")?"white":"#6085b5"},onClick:function(){return i.state.scenarioTableTabs.includes("compare")?i.setState((function(e){return{scenarioTableTabs:T(e.scenarioTableTabs.filter((function(e,n){return"compare"!==e})))}})):i.setState((function(e){return{scenarioTableTabs:[].concat(T(e.scenarioTableTabs),["compare"])}}))}},"Compare")),l().createElement("span",{id:"new-scenario-button"},l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.addAnugaScenario()}},"New Scenario")),l().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){i.props.setAnugaScenarioMenu(!1),i.props.stopAnugaScenarioPolling()}})),l().createElement(s.Table,{className:"scenario-table"},l().createElement("thead",null,l().createElement("tr",{className:"scenario-table-header"},l().createElement("th",null,"Id"),l().createElement("th",null,"Name"),null!==(e=this.state.scenarioTableTabs)&&void 0!==e&&e.includes("manage")?l().createElement(l().Fragment,null,l().createElement("th",null,"Elevation"),l().createElement("th",null,"Boundary"),l().createElement("th",null,"Inflow")):null,null!==(n=this.state.scenarioTableTabs)&&void 0!==n&&n.includes("advanced")?l().createElement(l().Fragment,null,l().createElement("th",null,"Friction Map"),l().createElement("th",null,"Structures"),l().createElement("th",null,"Mesh Regions"),l().createElement("th",null,"Network"),null!==(t=this.state.scenarioTableTabs)&&void 0!==t&&t.includes("manage")?null:l().createElement("th",null)):null,null!==(r=this.state.scenarioTableTabs)&&void 0!==r&&r.includes("manage")?l().createElement(l().Fragment,null,l().createElement("th",null,"Resolution(m2)"),l().createElement("th",null,"Duration"),l().createElement("th",null,"Status"),l().createElement("th",null),l().createElement("th",null),l().createElement("th",null),l().createElement("th",null)):null,null!==(o=this.state.scenarioTableTabs)&&void 0!==o&&o.includes("compare")?l().createElement(l().Fragment,null,l().createElement("th",null,l().createElement("span",{id:"depth-difference-button"},l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",className:this.props.readyToCompare?"":"disabled",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.compareScenarios(i.props.selectedScenarios)}},"Compare")))):null)),l().createElement("tbody",null,null===(a=this.props.scenarios)||void 0===a?void 0:a.map((function(e){var n,t,r,o,a,u,c,p,d,f,g,m;return l().createElement("tr",{className:"scenario-table-row"},l().createElement("td",null,e.id),l().createElement("td",null,l().createElement("input",{id:"name",key:"name-".concat(e.id),type:"text",className:"scenario-input",value:e.name,onChange:function(n){return i.handleTextChange(n,e)}})),null!==(n=i.state.scenarioTableTabs)&&void 0!==n&&n.includes("manage")?l().createElement(l().Fragment,null,l().createElement("td",null,l().createElement("select",{id:"elevation",key:"elevation-".concat(e.id),value:null==e?void 0:e.elevation,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},l().createElement("option",{value:""},"-"),null===(t=i.props.elevations)||void 0===t?void 0:t.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),l().createElement("td",null,l().createElement("select",{id:"boundary",key:"boundary-".concat(e.id),value:null==e?void 0:e.boundary,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},l().createElement("option",{value:""},"-"),null===(r=i.props.boundaries)||void 0===r?void 0:r.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),l().createElement("td",null,l().createElement("select",{id:"inflow",key:"inflow-".concat(e.id),value:null==e?void 0:e.inflow,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},l().createElement("option",{value:""},"-"),null===(o=i.props.inflows)||void 0===o?void 0:o.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)}))))):null,null!==(a=i.state.scenarioTableTabs)&&void 0!==a&&a.includes("advanced")?l().createElement(l().Fragment,null,l().createElement("td",null,l().createElement("select",{id:"friction",key:"friction-".concat(e.id),value:null==e?void 0:e.friction,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},l().createElement("option",{value:""},"-"),null===(u=i.props.frictions)||void 0===u?void 0:u.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),l().createElement("td",null,l().createElement("select",{id:"structure",key:"structure-".concat(e.id),value:null==e?void 0:e.structure,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},l().createElement("option",{value:""},"-"),null===(c=i.props.structures)||void 0===c?void 0:c.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),l().createElement("td",null,l().createElement("select",{id:"mesh_region",key:"meshRegion-".concat(e.id),value:null==e?void 0:e.mesh_region,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},l().createElement("option",{value:""},"-"),null===(p=i.props.meshRegions)||void 0===p?void 0:p.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),l().createElement("td",null,l().createElement("select",{id:"network",key:"network-".concat(e.id),value:null==e?void 0:e.network,className:"scenario-select",onChange:function(n){return i.handleIntChange(n,e)}},l().createElement("option",{value:""},"-"),null===(d=i.props.networks)||void 0===d?void 0:d.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),null!==(f=i.state.scenarioTableTabs)&&void 0!==f&&f.includes("manage")?null:l().createElement("td",null,l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:e.unsaved?null:"disabled",onClick:function(){i.props.saveAnugaScenario(e),i.props.setOpenMenuGroupId(null)}},"Build"))):null,null!==(g=i.state.scenarioTableTabs)&&void 0!==g&&g.includes("manage")?l().createElement(l().Fragment,null,l().createElement("td",null,l().createElement("input",{id:"resolution",key:"resolution-".concat(e.id),type:"number",className:"scenario-input",style:{width:"80px"},value:null==e?void 0:e.resolution,onChange:function(n){return i.handleNumberChange(n,e)}})),l().createElement("td",null,l().createElement("input",{id:"duration",key:"duration-".concat(e.id),type:"text",className:"scenario-input",style:{width:"80px"},value:e.tempTimeString||i.toHHMM(e.duration),onChange:function(n){return i.handleTimeChange(n,e)},onBlur:function(n){return i.handleTimeBlur(n,e)}})),l().createElement("td",null,i.findScenarioStatus(e)),l().createElement("td",null,l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},className:e.unsaved?null:"disabled",onClick:function(){i.props.saveAnugaScenario(e),i.props.setOpenMenuGroupId(null)}},"Build")),l().createElement("td",null,function(){var n;switch(i.findScenarioStatus(e)){case"built":return l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.setAnugaScenarioMenu(!1),i.props.selectAnugaScenario(e),i.props.showAnugaRunMenu(!0)}},"Run");case"complete":return l().createElement(s.Button,{download:!0,href:null==e||null===(n=e.latest_run)||void 0===n?void 0:n.s3_package_url,bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"}},l().createElement("span",{className:"glyphicon glyphicon-download","aria-hidden":"true"}));default:return l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",className:"disabled",style:{margin:"2px",borderRadius:"2px"}},"Run")}}()),l().createElement("td",null,l().createElement(s.Button,{bsStyle:"info",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){i.props.selectAnugaScenario(e),i.props.showAnugaScenarioLog(e.id)}},"Log")),l().createElement("td",null,l().createElement(s.Button,{bsStyle:"danger",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px",backgroundColor:"#622b2b"},onClick:i.findScenarioStatus(e).includes("%")?function(){confirm("Cancel Run?")&&i.props.cancelAnugaRun(e)}:function(){confirm("Delete Scenario?")&&i.props.deleteAnugaScenario(e)}},l().createElement("span",{className:"glyphicon glyphicon-trash","aria-hidden":"true"})))):null,null!==(m=i.state.scenarioTableTabs)&&void 0!==m&&m.includes("compare")?l().createElement(l().Fragment,null,l().createElement("td",null,l().createElement("span",{className:"btn glyphicon menu-row-glyph "+(null!=e&&e.selected?"glyphicon-ok":"glyphicon-remove"),style:{color:null!=e&&e.selected?"limegreen":"red",fontSize:"10px"},onClick:function(){i.props.toggleScenarioSelected(e)}}))):null)}))))))}}])&&M(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(l().Component);L(G,"propTypes",{anugaGroupLength:D.number,scenarios:D.array,boundaries:D.array,elevations:D.array,frictions:D.array,inflows:D.array,structures:D.array,meshRegions:D.array,networks:D.array,setOpenMenuGroupId:D.func,saveAnugaScenario:D.func,runAnugaScenario:D.func,updateAnugaScenario:D.func,selectAnugaScenario:D.func,showAnugaScenarioLog:D.func,setAnugaScenarioMenu:D.func,stopAnugaScenarioPolling:D.func,addAnugaScenario:D.func,deleteAnugaScenario:D.func,cancelAnugaRun:D.func,showAnugaRunMenu:D.func,toggleScenarioSelected:D.func,selectedScenarios:D.array,compareScenarios:D.func,readyToCompare:D.number}),L(G,"defaultProps",{});var B=(0,i.connect)((function(e){var n,t,r,o,a,l,i,u,s;return{scenarios:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.scenarios)||void 0===t?void 0:t.sort((function(e,n){return e.id-n.id})),selectedScenarios:(0,c.mn)(e),readyToCompare:2===(0,c.mn)(e).length,boundaries:null==e||null===(r=e.anuga)||void 0===r?void 0:r.boundaries,elevations:null==e||null===(o=e.anuga)||void 0===o?void 0:o.elevations,frictions:null==e||null===(a=e.anuga)||void 0===a?void 0:a.frictions,inflows:null==e||null===(l=e.anuga)||void 0===l?void 0:l.inflows,structures:null==e||null===(i=e.anuga)||void 0===i?void 0:i.structures,meshRegions:null==e||null===(u=e.anuga)||void 0===u?void 0:u.meshRegions,networks:null==e||null===(s=e.anuga)||void 0===s?void 0:s.networks}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,g.setOpenMenuGroupId)(n))},setAnugaScenarioMenu:function(n){return e((0,u.setAnugaScenarioMenu)(n))},runAnugaScenario:function(n){return e((0,u.runAnugaScenario)(n))},saveAnugaScenario:function(n){return e((0,u.saveAnugaScenario)(n))},updateAnugaScenario:function(n,t){return e((0,u.updateAnugaScenario)(n,t))},selectAnugaScenario:function(n){return e((0,u.selectAnugaScenario)(n))},showAnugaScenarioLog:function(n){return e((0,u.showAnugaScenarioLog)(n))},stopAnugaScenarioPolling:function(){return e((0,u.stopAnugaScenarioPolling)())},addAnugaScenario:function(){return e((0,u.addAnugaScenario)())},deleteAnugaScenario:function(n){return e((0,u.deleteAnugaScenario)(n))},cancelAnugaRun:function(n){return e((0,u.cancelAnugaRun)(n))},showAnugaRunMenu:function(n){return e((0,u.showAnugaRunMenu)(n))},toggleScenarioSelected:function(n){return e((0,u.toggleScenarioSelected)(n))},compareScenarios:function(n){return e((0,u.compareScenarios)(n))}}}))(G);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function z(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,n){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function H(e,n){if(n&&("object"===F(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Z=t(45697),Y=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&V(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Q(r);if(o){var t=Q(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return H(this,e)});function i(){return U(this,i),a.apply(this,arguments)}return n=i,(t=[{key:"render",value:function(){var e=this;return l().createElement("div",{id:"publication-panel",className:"simple-view-panel",style:{top:"70px"}},l().createElement("div",{className:"menu-rows-container"},l().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},"-- Under development -- Model review process.",l().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){e.props.setReviewPanel(!1)}})),l().createElement("div",null,"Content")))}}])&&z(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(l().Component);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,n){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function J(e,n){if(n&&("object"===q(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}W(Y,"propTypes",{setReviewPanel:Z.func}),W(Y,"defaultProps",{}),(0,i.connect)((function(e){var n,t;return{review:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.projectData)||void 0===t?void 0:t.review}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,g.setOpenMenuGroupId)(n))},setReviewPanel:function(n){return e((0,u.setReviewPanel)(n))}}}))(Y);var ne=t(45697),te=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&$(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=K(r);if(o){var t=K(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return J(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={figureTitle:""},n}return n=i,(t=[{key:"render",value:function(){var e,n=this;return l().createElement("div",{id:"publication-panel",className:"simple-view-panel",style:{top:"70px"}},l().createElement("div",{className:"menu-rows-container"},l().createElement("div",{className:"row",style:{height:"20px",textAlign:"left",fontSize:"large"}},l().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){n.props.setPublicationPanel(!1)}})),null===(e=this.props.publications)||void 0===e?void 0:e.map((function(e){var t,r;return l().createElement("div",{className:"row menu-row-header",style:{height:"40px",textAlign:"left",fontSize:"large"}},l().createElement("span",{style:{lineHeight:"40px"}},"Publish: ",null==e||null===(t=e.geostory)||void 0===t?void 0:t.title),l().createElement(s.Button,{bsStyle:"success",bsSize:"xlarge",style:{marginTop:"4px",borderRadius:"2px",float:"right",display:"inlineBlock"},onClick:function(){var n;window.open(null==e||null===(n=e.geostory)||void 0===n?void 0:n.detail_url,"_blank")}},"Edit Publication"),l().createElement("h3",{style:{display:"inlineBlock"}},"Figures"),null==e||null===(r=e.figures)||void 0===r?void 0:r.map((function(e){return l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{borderRadius:"2px",marginTop:"5px",display:"block",width:"375px",textAlign:"left"},onClick:function(){window.open(null==e?void 0:e.detail_url,"_blank")}},null==e?void 0:e.title)})),l().createElement("div",{style:{borderTop:"2px solid #ffffffad",paddingTop:"15px",marginTop:"5px",marginBottom:"10px"}},l().createElement("input",{id:"figure-input",key:"figure-input",className:"data-title-input",style:{width:"375px",marginTop:"3px",marginRight:"5px",float:"left"},type:"text",value:n.state.figureTitle,onChange:function(e){return n.setState({figureTitle:e.target.value})}}),l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px",float:"left"},onClick:function(){n.props.createFigure(n.state.figureTitle,e.id),n.setState({networkTitle:""})}},"Create Figure")))}))))}}])&&X(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(l().Component);ee(te,"propTypes",{publications:ne.array,setPublicationPanel:ne.func,createFigure:ne.func,geonodeUrl:ne.string,figureTitle:ne.string}),ee(te,"defaultProps",{});var re=(0,i.connect)((function(e){var n,t;return{publications:(null==e||null===(n=e.anuga)||void 0===n?void 0:n.publications)||[],geonodeUrl:null==e||null===(t=e.gnsettings)||void 0===t?void 0:t.geonodeUrl}}),(function(e){return{setOpenMenuGroupId:function(n){return e((0,g.setOpenMenuGroupId)(n))},setPublicationPanel:function(n){return e((0,u.setPublicationPanel)(n))},createFigure:function(n,t){return e((0,u.createFigure)(n,t))}}}))(te);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,n){return(le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function ie(e,n){if(n&&("object"===oe(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var se=t(45697),pe=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&le(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=ue(r);if(o){var t=ue(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return ie(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={},n}return n=i,(t=[{key:"render",value:function(){var e,n=this;return l().createElement("div",{id:"anuga-scenario-log-viewer-container"},l().createElement("h5",{style:{marginLeft:"9px"}},"Scenario: ",null===(e=this.props.selectedScenario)||void 0===e?void 0:e.name,l().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return n.props.showAnugaScenarioLog(!1)}})),l().createElement("pre",{id:"anuga-scenario-log-viewer",style:{color:"white",background:"black"}},this.props.logText))}}])&&ae(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(l().Component);ce(pe,"propTypes",{selectedScenario:se.object,showAnugaScenarioLog:se.func,logText:se.string}),ce(pe,"defaultProps",{});var de=(0,i.connect)((function(e){var n;return{selectedScenario:null==e||null===(n=e.anuga)||void 0===n?void 0:n.selectedScenario}}),(function(e){return{showAnugaScenarioLog:function(n){return e((0,u.showAnugaScenarioLog)(n))}}}))(pe);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,n){return(me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function ye(e,n){if(n&&("object"===fe(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ee=t(45697),we=(t(472986),function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&me(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=ve(r);if(o){var t=ve(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return ye(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),be(he(n=a.call(this,e)),"handleTextChange",(function(e,t){var r={};r[e.target.id]=e.target.value,n.props.updateNetwork(t,r)})),be(he(n),"handleBoolChange",(function(e,t){var r={};r[e.target.id]=!t[e.target.id],n.props.updateNetwork(t,r)})),be(he(n),"handleIntChange",(function(e,t){var r={};r[e.target.id]=parseInt(e.target.value,10),n.props.updateNetwork(t,r)})),be(he(n),"handleNumberChange",(function(e,t){var r={};r[e.target.id]=parseFloat(e.target.value),n.props.updateNetwork(t,r)})),n.state={},n}return n=i,(t=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,n=this;return l().createElement("div",{id:"anuga-network-container",className:"simple-view-panel",style:{top:"70px",height:"80%",width:"80%"}},l().createElement("div",{className:"menu-rows-container"},l().createElement("div",{className:"row menu-row-header"},l().createElement("h3",null,"Hydrology"),l().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){n.props.setNetworkMenu(!1)}}),l().createElement("div",null,l().createElement(s.Table,{className:"network-table"},l().createElement("thead",null,l().createElement("tr",{className:"network-table-header"},l().createElement("th",null,"Id"),l().createElement("th",null,"Name"),l().createElement("th",null,"Elevation"),l().createElement("th",null,"Nodes"),l().createElement("th",null,"Links"),l().createElement("th",null,"Method"),l().createElement("th",null,"Inflow Dataset",l().createElement("br",null),"to Store Results"),l().createElement("th",null))),l().createElement("tbody",null,null===(e=this.props.networks)||void 0===e?void 0:e.map((function(e){var t,r,o,a;return l().createElement("tr",{className:"scenario-table-row"},l().createElement("td",null,e.id),l().createElement("td",null,e.title),l().createElement("td",null,l().createElement("select",{id:"elevation",key:"elevation-".concat(e.id),value:null==e?void 0:e.elevation,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},l().createElement("option",{value:""},"-"),null===(t=n.props.elevations)||void 0===t?void 0:t.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),l().createElement("td",null,l().createElement("select",{id:"node",key:"node-".concat(e.id),value:null==e?void 0:e.node,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},l().createElement("option",{value:""},"-"),null===(r=n.props.nodes)||void 0===r?void 0:r.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),l().createElement("td",null,l().createElement("select",{id:"links",key:"links-".concat(e.id),value:null==e?void 0:e.links,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},l().createElement("option",{value:""},"-"),null===(o=n.props.links)||void 0===o?void 0:o.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),l().createElement("td",null,l().createElement("select",{id:"method",key:"method",value:"rational",className:"scenario-select"},l().createElement("option",{value:"rational"},"rational"))),l().createElement("td",null,l().createElement("select",{id:"inflow",key:"inflow-".concat(e.id),value:null==e?void 0:e.inflow,className:"scenario-select",onChange:function(t){return n.handleIntChange(t,e)}},l().createElement("option",{value:""},"-"),null===(a=n.props.inflows)||void 0===a?void 0:a.map((function(e){return l().createElement("option",{value:null==e?void 0:e.id},null==e?void 0:e.title)})))),l().createElement("td",null,l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){n.props.runNetwork(e)}},"Run")))}))))))))}}])&&ge(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(l().Component));be(we,"propTypes",{setNetworkMenu:Ee.func,updateNetwork:Ee.func,runNetwork:Ee.func,nodes:Ee.array,links:Ee.array,inflows:Ee.array,elevations:Ee.array,networks:Ee.array}),be(we,"defaultProps",{});var Se=(0,i.connect)((function(e){var n,t,r,o,a,l;return{networks:null==e||null===(n=e.anuga)||void 0===n||null===(t=n.networks)||void 0===t?void 0:t.sort((function(e,n){return e.id-n.id})),elevations:null==e||null===(r=e.anuga)||void 0===r?void 0:r.elevations,nodes:null==e||null===(o=e.anuga)||void 0===o?void 0:o.nodes,links:null==e||null===(a=e.anuga)||void 0===a?void 0:a.links,inflows:null==e||null===(l=e.anuga)||void 0===l?void 0:l.inflows}}),(function(e){return{setNetworkMenu:function(n){return e((0,u.setNetworkMenu)(n))},updateNetwork:function(n,t){return e((0,u.updateNetwork)(n,t))},runNetwork:function(n){return e((0,u.runNetwork)(n))}}}))(we);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,n){return(Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function Ne(e,n){if(n&&("object"===Ae(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ke=t(45697),Ce=(t(472986),function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Oe(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Re(r);if(o){var t=Re(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return Ne(this,e)});function i(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).state={},n}return n=i,(t=[{key:"componentDidMount",value:function(){this.props.updateComputeInstance()}},{key:"render",value:function(){var e,n,t=this;return l().createElement("div",{id:"anuga-run-menu-container",className:"simple-view-panel",style:{top:"70px"}},l().createElement("div",{className:"menu-rows-container"},l().createElement("div",{className:"row menu-row-header"},l().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){t.props.showAnugaRunMenu(!1),t.props.setAnugaScenarioMenu(!0)}}),l().createElement("div",null,l().createElement(s.Table,{className:"run-server-table"},l().createElement("thead",null,l().createElement("tr",{className:"run-server-table-header"},l().createElement("th",{style:{width:"200px",textAlign:"left"}},"Run Scenario"),l().createElement("th",{style:{width:"100px"}},"Available Hours"),l().createElement("th",{style:{width:"80px"}},"Run"),l().createElement("th",{style:{width:"80px"}},"Download"))),l().createElement("tbody",null,l().createElement("tr",{className:"run-server-table-row",style:{marginTop:"15px"}},l().createElement("td",{style:{textAlign:"left"}},this.props.selectedScenario.name),l().createElement("td",null,"200"),l().createElement("td",null,l().createElement(s.Button,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){t.props.runAnugaScenario(t.props.selectedScenario,0),t.props.showAnugaRunMenu(!1),t.props.showAnugaScenarioLog(t.props.selectedScenario.id),t.props.setAnugaScenarioMenu(!0)}},"Run")),l().createElement("td",null,l().createElement(s.Button,{download:!0,href:null===(e=this.props.selectedScenario)||void 0===e||null===(n=e.latest_run)||void 0===n?void 0:n.s3_package_url,bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"}},l().createElement("span",{className:"glyphicon glyphicon-download","aria-hidden":"true"}))))))))),l().createElement(s.Button,{bsStyle:"success",bsSize:"small",style:{margin:"10px",borderRadius:"2px"},onClick:function(){t.props.showManageAccount(!0),t.props.showAnugaRunMenu(!1)}},"Manage Account"))}}])&&xe(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(l().Component));Te(Ce,"propTypes",{visibleAnugaRunMenu:ke.object,showAnugaRunMenu:ke.func,updateComputeInstance:ke.func,computeInstances:ke.array,selectedScenario:ke.object,runAnugaScenario:ke.func,setAnugaScenarioMenu:ke.func,showAnugaScenarioLog:ke.func,showManageAccount:ke.func}),Te(Ce,"defaultProps",{});var Me=(0,i.connect)((function(e){var n,t;return{selectedScenario:null==e||null===(n=e.anuga)||void 0===n?void 0:n.selectedScenario,computeInstances:null==e||null===(t=e.anuga)||void 0===t?void 0:t.computeInstances}}),(function(e){return{showAnugaRunMenu:function(n){return e((0,u.showAnugaRunMenu)(n))},updateComputeInstance:function(){return e((0,u.updateComputeInstance)())},runAnugaScenario:function(n,t){return e((0,u.runAnugaScenario)(n,t))},setAnugaScenarioMenu:function(n){return e((0,u.setAnugaScenarioMenu)(n))},showAnugaScenarioLog:function(n){return e((0,u.showAnugaScenarioLog)(n))},showManageAccount:function(n){return e((0,u.showManageAccount)(n))}}}))(Ce);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,n){return(Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function je(e,n){if(n&&("object"===Pe(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ge=t(45697),Be=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ie(e,n)}(i,e);var n,t,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Le(r);if(o){var t=Le(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return je(this,e)});function i(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),a.call(this,e)}return n=i,(t=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.props.gnResourceLoaded&&!this.props.isAnugaProject&&(console.log("componentDidUpdate initing Anuga"),this.props.initAnuga())}},{key:"render",value:function(){var e,n=this;return this.props.isAnugaProject?l().createElement("div",{id:"anuga-container"},l().createElement("div",{id:"anuga-inputs"},l().createElement("button",{key:"anuga-input-button",className:"simple-view-menu-button",style:{left:120},onClick:function(){n.props.setAnugaInputMenu(!n.props.showAnugaInputMenu),n.props.setOpenMenuGroupId(null)}},"Inputs")),this.props.showAnugaInputMenu?l().createElement(N,null):null,this.props.canEditAnugaMap&&this.props.hasEPSGset?l().createElement("div",{id:"anuga-scenario"},l().createElement("button",{key:"anuga-scenario-button",className:"simple-view-menu-button",style:{left:220},onClick:function(){n.props.setAnugaScenarioMenu(!n.props.showAnugaScenarioMenu),n.props.showAnugaScenarioMenu?n.props.stopAnugaScenarioPolling():n.props.startAnugaScenarioPolling(),n.props.setOpenMenuGroupId(null)}},"Scenarios"),this.props.showAnugaScenarioMenu?l().createElement(B,null):null):null,this.props.canViewAnugaMap&&this.props.hasEPSGset?l().createElement("button",{id:"anugaContainer-results-button-01",key:"anugaContainer-".concat(null===(e=this.props.resultsGroup)||void 0===e?void 0:e.title),className:"simple-view-menu-button",style:{left:320},onClick:function(){n.props.setOpenMenuGroupId("Results")}},"Results"):null,this.props.canEditAnugaMap&&this.props.hasEPSGset?l().createElement("div",{id:"publication-panel-container"},l().createElement("button",{key:"publication-panel-button",className:"simple-view-menu-button disabled",style:{left:420},onClick:function(){n.props.setPublicationPanel(!n.props.showPublicationPanel),n.props.setOpenMenuGroupId(null)}},"Publish"),this.props.showPublicationPanel?l().createElement(re,null):null):null,this.props.visibleAnugaScenarioLogId?l().createElement(de,{logText:this.props.logText}):null,this.props.visibleAnugaRunMenu?l().createElement(Me,null):null,this.props.showNetworkMenu?l().createElement(Se,null):null):null}}])&&_e(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),i}(l().Component);De(Be,"propTypes",{initAnuga:Ge.func,showAnugaInputMenu:Ge.bool,setAnugaInputMenu:Ge.func,showAnugaScenarioMenu:Ge.bool,setAnugaScenarioMenu:Ge.func,showAnugaResultMenu:Ge.bool,setAnugaResultMenu:Ge.func,showNetworkMenu:Ge.bool,setReviewPanel:Ge.func,showReviewPanel:Ge.bool,setPublicationPanel:Ge.func,showPublicationPanel:Ge.bool,isAnugaMenuOpen:Ge.bool,openMenuGroupId:Ge.string,numberOfMenus:Ge.number,setOpenMenuGroupId:Ge.func,showAddAnugaElevationData:Ge.bool,setAddAnugaElevation:Ge.func,visibleAnugaScenarioLogId:Ge.number,startAnugaScenarioPolling:Ge.func,stopAnugaScenarioPolling:Ge.func,updateCustomEditorsOptions:Ge.func,logText:Ge.string,gnResourceLoaded:Ge.string,visibleAnugaRunMenu:Ge.bool,canEditAnugaMap:Ge.bool,canViewAnugaMap:Ge.bool,hasEPSGset:Ge.bool,resultsGroup:Ge.object,isAnugaProject:Ge.bool}),De(Be,"defaultProps",{});const Fe=(0,i.connect)((function(e){var n,t,r,o,a,l,i,u,s,p,d,f,g,m,y,h,v,b,E,w,S,A,x,O,N,R,T,k,C;return console.log("state for Anuga:",e),{logText:(null==e||null===(n=e.anuga)||void 0===n||null===(t=n.selectedScenario)||void 0===t?void 0:t.latest_run_is_valid)?(null==e||null===(r=e.anuga)||void 0===r||null===(o=r.selectedScenario)||void 0===o||null===(a=o.latest_run)||void 0===a?void 0:a.log)||"-":(null==e||null===(l=e.anuga)||void 0===l||null===(i=l.selectedScenario)||void 0===i?void 0:i.log)||"-",gnResourceLoaded:null==e||null===(u=e.gnresource)||void 0===u?void 0:u.id,isAnugaProject:null==e||null===(s=e.anuga)||void 0===s||null===(p=s.projectData)||void 0===p?void 0:p.id,hasEPSGset:!(null==e||null===(d=e.anuga)||void 0===d||null===(f=d.projectData)||void 0===f||!f.projection),showAnugaInputMenu:null==e||null===(g=e.anuga)||void 0===g?void 0:g.showAnugaInputMenu,showAnugaScenarioMenu:null==e||null===(m=e.anuga)||void 0===m?void 0:m.showAnugaScenarioMenu,showAnugaResultMenu:null==e||null===(y=e.anuga)||void 0===y?void 0:y.showAnugaResultMenu,showReviewPanel:null==e||null===(h=e.anuga)||void 0===h?void 0:h.showReviewPanel,showPublicationPanel:null==e||null===(v=e.anuga)||void 0===v?void 0:v.showPublicationPanel,isAnugaMenuOpen:(null==e||null===(b=e.anuga)||void 0===b?void 0:b.showAnugaInputMenu)||(null==e||null===(E=e.anuga)||void 0===E?void 0:E.showAnugaScenarioMenu)||(null==e||null===(w=e.anuga)||void 0===w?void 0:w.showAnugaResultMenu),openMenuGroupId:null==e||null===(S=e.simpleView)||void 0===S?void 0:S.openMenuGroupId,numberOfMenus:(null==e||null===(A=e.layers)||void 0===A||null===(x=A.groups)||void 0===x?void 0:x.length)||1,showAddAnugaElevationData:null==e||null===(O=e.anuga)||void 0===O?void 0:O.showAddAnugaElevationData,visibleAnugaScenarioLogId:null==e||null===(N=e.anuga)||void 0===N?void 0:N.visibleAnugaScenarioLogId,visibleIntroduction:null==e||!e.simpleView.hasOwnProperty("visibleIntroduction")||(null==e||null===(R=e.simpleView)||void 0===R?void 0:R.visibleIntroduction),showNetworkMenu:null==e||null===(T=e.anuga)||void 0===T?void 0:T.showNetworkMenu,visibleNetworkMenu:null==e||null===(k=e.anuga)||void 0===k?void 0:k.visibleNetworkMenu,visibleAnugaRunMenu:null==e||null===(C=e.anuga)||void 0===C?void 0:C.visibleAnugaRunMenu,canEditAnugaMap:(0,c.Dh)(e),canViewAnugaMap:(0,c.rP)(e)}}),(function(e){return{initAnuga:function(){return e((0,u.initAnuga)())},setAnugaInputMenu:function(n){return e((0,u.setAnugaInputMenu)(n))},setAnugaScenarioMenu:function(n){return e((0,u.setAnugaScenarioMenu)(n))},setAnugaResultMenu:function(n){return e((0,u.setAnugaResultMenu)(n))},setReviewPanel:function(n){return e((0,u.setReviewPanel)(n))},setPublicationPanel:function(n){return e((0,u.setPublicationPanel)(n))},setOpenMenuGroupId:function(n){return e((0,g.setOpenMenuGroupId)(n))},startAnugaScenarioPolling:function(){return e((0,u.startAnugaScenarioPolling)())},stopAnugaScenarioPolling:function(){return e((0,u.stopAnugaScenarioPolling)())}}}))(Be);var Ue=t(300806);const ze=(0,r.rx)("Anuga",{component:Fe,reducers:{anuga:o.Z},epics:{initAnugaEpic:Ue.gE,cancelAnugaRunEpic:Ue.F7,pollAnugaElevationEpic:Ue.z1,runAnugaScenarioEpic:Ue.Rf,runNetworkEpic:Ue.sW,saveAnugaScenarioEpic:Ue.EE,pollAnugaScenarioEpic:Ue.Z6,deleteAnugaScenarioEpic:Ue.Zu,createAnugaBoundaryEpic:Ue.Ye,createAnugaFrictionEpic:Ue.As,createAnugaInflowEpic:Ue.T9,createAnugaStructureEpic:Ue.XO,createAnugaMeshRegionEpic:Ue.Qy,createNetworkEpic:Ue.BA,createCatchmentEpic:Ue.h2,createNodesEpic:Ue.bp,createLinksEpic:Ue.d,createFigureEpic:Ue.Og,addAnugaBoundaryEpic:Ue.dd,addAnugaFrictionEpic:Ue.lA,addAnugaInflowEpic:Ue.QH,addAnugaStructureEpic:Ue.Qc,addAnugaFullMeshEpic:Ue.Ok,addAnugaMeshRegionEpic:Ue.AC,addCatchmentEpic:Ue.Xv,addNodesEpic:Ue.yN,addLinksEpic:Ue.oq,prePopulateAnugaFeatureGridWithDefaults:Ue.YL,updateComputeInstanceEpic:Ue.E_,updateAnugaModelTitle:Ue.o$,pollAnugaModelCreationEpic:Ue.GM,compareScenarioEpic:Ue.ax,pollComparisonEpic:Ue.b2,addComparisonEpic:Ue.rJ,getAnugaResourcesEpic:Ue.HQ}})},273454:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var r=t(923645),o=t.n(r)()((function(e){return e[1]}));o.push([e.id,'.msgapi #anuga-container {\n    width:100%;\n    height:100%;\n    display: flex;\n    justify-content: center;\n    margin: 10px;\n    border: 1px solid #fff;\n    background-color: #ffffff;\n}\n\n.msgapi #anuga-chart {\n    z-index: 3000;\n    width: 98%;\n    height: 90%;\n    margin: 70px 20px 20px 0;\n    background-color: #ffffff;\n    font-size: 12px;\n    border-radius: 4px;\n    text-align: center;\n}\n\n.msgapi .chart-mainbody {\n    padding: 20px;\n    margin-top: 0;\n    height: 85%;\n    overflow: auto;\n}\n\n.msgapi .chart-header {\n    padding: 20px;\n    height: 60px;\n    border-bottom: 1px solid #DDD;\n    background-color: #ffffff;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.msgapi .chart-footer {\n    padding: 20px;\n    bottom: 0;\n    height: 80px;\n    background-color: #ffffff;\n    border-top: 1px solid #DDD;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.msgapi .chart-sidebar {\n    padding: 0 30px 0 30px;\n    min-height: 600px;\n    background-color: #f3f3f3;\n    border: 1px solid #c7c7c7;\n    border-radius: 3px;\n}\n\n.msgapi .scenario-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .table-hover > tbody > tr:hover {\n    background-color: #ffffff45;\n}\n\n.msgapi .scenario-table {\n    margin-bottom: 0;\n}\n\n.msgapi .scenario-table-header {\n    height: 45px;\n}\n\n.msgapi .scenario-table-header th {\n    text-align:center;\n}\n\n.msgapi .scenario-table-row {\n    height: 45px\n}\n\n.msgapi .network-table {\n    margin-bottom: 0;\n}\n\n.msgapi .network-table-header {\n    height: 45px;\n}\n\n.msgapi .network-table-header th {\n    text-align:center;\n}\n\n.msgapi .network-table-row {\n    height: 45px\n}\n\n.msgapi #new-scenario-button {\n    position: absolute;\n    right: 40px;\n    top: 11px;\n}\n\n.msgapi .scenario-select {\n    border-radius: 3px;\n    width: 100px;\n    height: 22px;\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi .add-data-input {\n    font-size: 14px;\n    white-space: nowrap;\n    padding-left: 3px;\n    vertical-align: middle;\n    text-overflow: ellipsis ellipsis;\n    overflow: hidden;\n    border: white;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.22);\n    color: #f4f4f4;\n}\n\n.msgapi #anuga-scenario-log-viewer-container {\n    position: absolute;\n    z-index: 2000;\n    top: 5%;\n    width: 800px;\n    min-height: 600px;\n    color: #333333;\n    background-color: #f2f2f2;\n    border: 2px solid #dddddd;\n    border-radius: 5px;\n}\n\n.msgapi #anuga-scenario-log-viewer {\n    overflow-y: scroll;\n    height: 70vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    line-height: 1.42857143;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi #anuga-run-menu-container {\n    position: absolute;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    z-index: 2000;\n    top: 80px;\n    min-width: 800px;\n    min-height: 600px;\n    color: white;\n    background-color: #003c88cc;\n    border: 1px solid white;\n    border-radius: 5px;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n    text-align: left;\n}\n\n.msgapi #anuga-run-menu {\n    color: white;\n    background: #000000cc;\n    border-radius: 5px;\n    font-family: Monospace;\n    overflow-x: auto;\n    height: 100px;\n    padding: 10px;\n    margin: 20px 0 10px;\n}\n\n.msgapi #anuga-compute-instance-menu {\n    color: black;\n    background: white;\n    overflow-y: scroll;\n    overflow-x: auto;\n    height: 35vh;\n    padding: 10px;\n    margin: 0 0 10px;\n    font-size: 12px;\n    white-space: pre-line;\n    word-break: break-all;\n    word-wrap: break-word;\n}\n\n.msgapi #anuga-scenario-menu {\n    overflow-y: hidden;\n    overflow-x: auto;\n    max-width: 98%;\n}\n\n.msgapi ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: white;\n  opacity: 1; /* Firefox */\n}\n\n.msgapi .run-server-table {\n    margin-bottom: 0;\n    text-align: center;\n}\n\n.msgapi .run-server-table-header {\n    height: 45px;\n}\n\n.msgapi .run-server-table-header > th {\n    text-align: center;\n}\n\n.msgapi .run-server-table-row {\n    height: 45px\n}\n\n.msgapi .run-server-table-row {\n    text-align: center;\n}\n\n/*#identify-container {*/\n/*    display:none;*/\n/*}*/\n\n/*#navigationBar {*/\n/*    display:none;*/\n/*}*/\n\n/* this is really terrible and can lead to random stuff not showing, but it is the only way I can see to select the\ndiv that holds the feature-grid */\n/*main > div[style*="1030"]:not([id]):not([role]):not([class]) {*/\n/*    display: none;*/\n/*}*/',""]);const a=o}}]);