(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[14831,98090],{532425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(45697),i=r.n(n),o=r(124852),s=r.n(o);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,i=e.className,o=e.hidden;return s().createElement("div",{className:i,style:c({width:t,height:t,overflow:"hidden"},n)},!o&&s().createElement("div",{className:"mapstore-".concat(u(t),"-size-loader")}))};p.propTypes={size:i().number,className:i().string,style:i().object};const f=p},228261:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(124852),i=r.n(n),o=r(45697),s=r.n(o),a=["id","className","style","children"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){var t=e.id,r=e.className,n=e.style,o=e.children,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,a),l=r?" "+r:"";return i().createElement(i().Fragment,null,i().createElement("div",c({},s,{id:t,className:"gn-spinner".concat(l),style:n}),i().createElement("div",null)),o)}l.propTypes={id:s().string,className:s().string,style:s().object},l.defaultProps={};const u=l},51605:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n.Z});var n=r(228261)},93136:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var n=r(124852),i=r.n(n),o=r(45697),s=r.n(o),a=r(171703),c=r(22222),l=r(322843),u=r(805346),p=r(774141),f=r(800827),h=r(532425),g=r(693473),m=r(51605),y=r(274621),d=r(925108),v=r(572036),b=r(162170),O=r(18576),_=r(73443),j=r(903828),E=r(452992),P=r(805803),G=r(782904),w=r(86638);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,a.connect)((0,c.P1)([function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.saving}],(function(e){return{saving:e}})))((function(e){return e.saving?i().createElement("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.75)",top:"0px",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",right:"0px"}},i().createElement(h.Z,{size:150})):null}));function Z(e,t){var r=e.enabled,o=e.onClick,s=e.variant,a=e.size,c=e.loading,l=e.className,p=e.dirtyState,f=e.location,h=e.history,y=e.onStorePendingChanges,d=t.messages,v=(0,n.useRef)();return v.current=p,(0,n.useEffect)((function(){var e,t=null==h||null===(e=h.location)||void 0===e?void 0:e.pathname;return function(){var e;t!==(null==h||null===(e=h.location)||void 0===e?void 0:e.pathname)&&v.current&&(window.confirm((0,w.S$)(d,"gnviewer.prompPendingChanges"))?y(null):(y(v.current),h.replace(f)))}}),[]),r?i().createElement(g.Z,{variant:p?"danger":s||"primary",size:a,onClick:function(){return o()},disabled:c,className:l},i().createElement(u.Z,{msgId:"save"})," ",c&&i().createElement(m.Z,null)):null}Z.contextTypes={messages:s().object};var N=(0,a.connect)((0,c.P1)(y.jl,j.V$,j.il,f._H,E.IX,j.YR,(function(e,t,r,n,i,o){return{enabled:e&&!t&&(r||(null==n?void 0:n.canEdit)),loading:i,dirtyState:o}})),{onClick:_.nY,onStorePendingChanges:G.Xg.bind(null,"pendingChanges","value")})((0,P.EN)(Z));const T=(0,l.rx)("Save",{component:x,containers:{BurgerMenu:{name:"save",position:30,text:i().createElement(u.Z,{msgId:"save"}),icon:i().createElement(p.Glyphicon,{glyph:"floppy-open"}),action:_.nY,selector:(0,c.P1)(y.jl,j.V$,j.il,f._H,(function(e,t,r,n){return{style:e&&!t&&(r||null!=n&&n.canEdit)?{}:{display:"none"}}}))},ActionNavbar:{name:"Save",Component:N}},epics:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},O.ZP),reducers:{gnresource:v.Z,gnsave:b.Z,controls:d.Z}})},798090:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(613002),i=r(173381),o=r(421915),s=r(208204),a=r(28795),c=r(913580);function l(e){for(var t=[],r=0,n=e.length;r<n;++r)t.push(e[r].clone());return t}const u=function(e){function t(t){e.call(this),this.geometries_=t||null,this.listenGeometriesChange_()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)(0,n.Ev)(this.geometries_[e],i.Z.CHANGE,this.changed,this)},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)(0,n.oL)(this.geometries_[e],i.Z.CHANGE,this.changed,this)},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e},t.prototype.closestPointXY=function(e,t,r,n){if(n<(0,o.qf)(this.getExtent(),e,t))return n;for(var i=this.geometries_,s=0,a=i.length;s<a;++s)n=i[s].closestPointXY(e,t,r,n);return n},t.prototype.containsXY=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)if(r[n].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){(0,o.YN)(e);for(var t=this.geometries_,r=0,n=t.length;r<n;++r)(0,o.l7)(e,t[r].getExtent());return e},t.prototype.getGeometries=function(){return l(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,c.ZH)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(r))return this.simplifiedGeometryCache[r];for(var n=[],i=this.geometries_,o=!1,s=0,a=i.length;s<a;++s){var l=i[s],u=l.getSimplifiedGeometry(e);n.push(u),u!==l&&(o=!0)}if(o){var p=new t(null);return p.setGeometriesArray(n),this.simplifiedGeometryCache[r]=p,p}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return a.Z.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)if(t[r].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,r){var n=r;n||(n=(0,o.qg)(this.getExtent()));for(var i=this.geometries_,s=0,a=i.length;s<a;++s)i[s].scale(e,t,n);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(l(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)t[r].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(s.Z)}}]);