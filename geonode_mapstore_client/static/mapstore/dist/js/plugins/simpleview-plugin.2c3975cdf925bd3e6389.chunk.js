(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[16398],{597222:(e,t,r)=>{"use strict";r.d(t,{Vc:()=>o,qj:()=>i,bj:()=>l,p7:()=>u,Av:()=>a,M8:()=>c,wn:()=>s,gs:()=>p,NN:()=>f,C2:()=>d,O7:()=>m,oQ:()=>b,dX:()=>y,al:()=>v,Gh:()=>E,x2:()=>g,Y7:()=>h,b4:()=>S,GI:()=>w,KP:()=>_,dS:()=>O,Zw:()=>T,l4:()=>A,fZ:()=>R,Z:()=>I,a:()=>C,WN:()=>P,k9:()=>V,yo:()=>j,kE:()=>N,kV:()=>k,v2:()=>D,_q:()=>L,tt:()=>M,Jc:()=>U,w4:()=>F,QJ:()=>x,KG:()=>B,o$:()=>G,TS:()=>H,Tw:()=>K,I3:()=>W});var n=r(197395),o="SEARCH:SEARCH_WITH_FILTER",i="SEARCH:SCHEDULE_SEARCH_WITH_FILTER",l="TEXT_SEARCH_STARTED",u="TEXT_SEARCH_RESULTS_LOADED",a="TEXT_SEARCH_RESULTS_PURGE",c="TEXT_SEARCH_RESET",s="TEXT_SEARCH_ADD_MARKER",p="TEXT_SEARCH_TEXT_CHANGE",f="TEXT_SEARCH_LOADING",d="TEXT_SEARCH_NESTED_SERVICE_SELECTED",m="TEXT_SEARCH_ERROR",b="TEXT_SEARCH_CANCEL_ITEM",y="TEXT_SEARCH_ITEM_SELECTED",v="TEXT_SEARCH_SHOW_GFI",E="TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",g="UPDATE_RESULTS_STYLE",h="CHANGE_SEARCH_TOOL",S="SEARCH:ZOOM_ADD_POINT",w="SEARCH:CHANGE_FORMAT",_="SEARCH:CHANGE_COORD",O="SEARCH:HIDE_MARKER";function T(e){return{type:w,format:e}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,r=e.cql_filter;return{type:o,layer:t,cql_filter:r}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,r=e.cql_filter;return{type:i,layer:t,cql_filter:r}}function I(e,t,r){return{type:S,pos:e,zoom:t,crs:r}}function C(e){return{type:h,activeSearchTool:e}}function P(e){return{type:u,results:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1],services:arguments.length>2?arguments[2]:void 0}}function V(e){return{type:p,searchText:e}}function j(e){return{type:f,loading:e}}function N(e){return{type:m,error:e}}function k(){return{type:a}}function D(){return{type:c}}function L(e,t){return{type:s,markerPosition:e,markerLabel:t}}function M(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).services;return{type:l,searchText:e,services:void 0===t?null:t,maxResults:arguments.length>2&&void 0!==arguments[2]?arguments[2]:15}}function U(e,t,r){return{type:y,item:e,mapConfig:t,resultsStyle:r}}var F=function(e){return{type:v,item:e}};function x(e,t,r){return{type:d,searchText:r,services:e,items:t}}function B(e){return{type:b,item:e}}function G(e){return{type:g,style:e}}function H(e,t){return{type:_,coord:e,val:t}}function K(){return(0,n.error)({title:"Error",position:"tc",message:"search.errors.nonQueriableLayers",autoDismiss:10})}function W(){return(0,n.error)({title:"Error",position:"tc",message:"search.errors.serverError",autoDismiss:10})}},490079:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var n=r(531940),o=r.n(n),i=r(701469),l=r.n(i),u=r(414293),a=r.n(u),c=r(737295),s=r.n(c),p=r(675263),f=r.n(p),d=r(124852),m=r.n(d),b=r(233044),y=r(805346);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function w(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:String(t)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(c,e);var t,r,n,i,u=(n=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(n);if(i){var r=S(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(h(e=u.call.apply(u,[this].concat(r))),"state",{error:!1}),w(h(e),"onImgError",(function(){e.setState((function(){return{error:!0}}))})),w(h(e),"getUrl",(function(e,t){if(e.layer&&"wms"===e.layer.type&&e.layer.url){var r=e.layer,n=a()(t)?l()(r.url)&&Math.floor(Math.random()*r.url.length):t,i=l()(r.url)?r.url[n]:r.url.replace(/[?].*$/g,""),u=o().parse(i),c=(0,b.clearNilValuesForParams)(r.params),p=s()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:e.legendHeight,width:e.legendWidth,layer:r.name,style:r.style||null,version:r.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:e.legendOptions},r.legendParams||{},e.language&&r.localizedLayerStyles?{LANGUAGE:e.language}:{},(0,b.addAuthenticationToSLD)(c||{},e.layer),c&&c.SLD_BODY?{SLD_BODY:c.SLD_BODY}:{},e.scales&&e.currentZoomLvl&&e.scaleDependent?{SCALE:Math.round(e.scales[e.currentZoomLvl])}:{});return(0,b.addAuthenticationParameter)(i,p),o().format({host:u.host,protocol:u.protocol,pathname:u.pathname,query:p})}return""})),w(h(e),"validateImg",(function(t){t.height<=1&&t.width<=2&&e.onImgError()})),e}return t=c,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.error&&this.getUrl(e,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var e=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?m().createElement("img",{onError:this.onImgError,onLoad:function(t){return e.validateImg(t.target)},src:this.getUrl(this.props),style:this.props.style}):m().createElement(y.Z,{msgId:"layerProperties.legenderror"})}}])&&E(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(m().Component);w(O,"propTypes",{layer:f().object,legendHeight:f().number,legendWidth:f().number,legendOptions:f().string,style:f().object,currentZoomLvl:f().number,scales:f().array,scaleDependent:f().bool,language:f().string}),w(O,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const T=O},38560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(480681),o=r(124852),i=r.n(o),l=r(294184),u=r.n(l),a=["disabled","className","onClick"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}const s=(p=n.Button,i().forwardRef((function(e,t){var r=e.disabled,n=e.className,o=e.onClick,l=void 0===o?function(){}:o,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,a);return i().createElement(p,c({ref:t,className:r?u()("disabled",n):n,onClick:function(){r||l.apply(void 0,arguments)}},s),s.children)})));var p},843614:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(737295),o=r.n(n),i=r(480681),l=r(461365);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:String(t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(n);if(o){var r=p(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"handleDialogClick",value:function(e){e.target===e.currentTarget&&this.props.onHide(e)}}])&&a(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.Modal);const d=o()((0,l.Z)(f),{Body:i.Modal.Body,Dialog:i.Modal.Dialog,Footer:i.Modal.Footer,Header:i.Modal.Header,Title:i.Modal.Title})},614328:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var n=r(322843);r(893871);var o=r(124852),i=r.n(o),l=r(171703);"undefined"!=typeof window&&window.IS_DEBUG;var u,a={init:function(e,t,r){if(e)if(t){document||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface.");var n=document.createElement("script");n.async=!1,r&&n.setAttribute("nonce",r),n.text='(function(window, document, dataLayerName, id) {\nwindow[dataLayerName]=window[dataLayerName]||[],window[dataLayerName].push({start:(new Date).getTime(),event:"stg.start"});var scripts=document.getElementsByTagName(\'script\')[0],tags=document.createElement(\'script\');\nfunction stgCreateCookie(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toUTCString()}document.cookie=a+"="+b+d+"; path=/"}\nvar isStgDebug=(window.location.href.match("stg_debug")||document.cookie.match("stg_debug"))&&!window.location.href.match("stg_disable_debug");stgCreateCookie("stg_debug",isStgDebug?1:"",isStgDebug?14:-1);\nvar qP=[];dataLayerName!=="dataLayer"&&qP.push("data_layer_name="+dataLayerName),isStgDebug&&qP.push("stg_debug");var qPString=qP.length>0?("?"+qP.join("&")):"";\ntags.async=!0,tags.src="'+t+'/containers/"+id+".js"+qPString,scripts.parentNode.insertBefore(tags,scripts);\n!function(a,n,i){a[n]=a[n]||{};for(var c=0;c<i.length;c++)!function(i){a[n][i]=a[n][i]||{},a[n][i].api=a[n][i].api||function(){var a=[].slice.call(arguments,0);"string"==typeof a[0]&&window[dataLayerName].push({event:n+"."+i+":"+a[0],parameters:[].slice.call(arguments,1)})}}(i[c])}(window,"ppms",["tm","cm"]);\n})(window, document, \'dataLayer\', \''+e+"')",document.getElementsByTagName("body")[0].appendChild(n)}else console.error("Empty tracking URL for Piwik Pro.");else console.error("Empty tracking code for Piwik Pro.")}};!function(e){e.PAGE_VIEW="trackPageView",e.CUSTOM_EVENT="trackEvent",e.GOAL="trackGoal",e.SEARCH="trackSiteSearch",e.ADD_ECOMMERCE_ITEM="addEcommerceItem",e.REMOVE_ECOMMERCE_ITEM="removeEcommerceItem",e.CLEAR_ECOMMERCE_CART="clearEcommerceCart",e.SET_ECOMMERCE_VIEW="setEcommerceView",e.UPDATE_ECOMMERCE_CART="trackEcommerceCartUpdate",e.ORDER_ECOMMERCE="trackEcommerceOrder",e.SET_CUSTOM_VARIABLE="setCustomVariable",e.DELETE_CUSTOM_VARIABLE="deleteCustomVariable",e.STORE_CUSTOM_VARIABLES_IN_COOKIE="storeCustomVariablesInCookie",e.SET_CUSTOM_DIMENSION_VALUE="setCustomDimensionValue",e.DELETE_CUSTOM_DIMENSION="deleteCustomDimension",e.SET_CUSTOM_DIMENSION="setCustomDimension",e.ALL_CONTENT_IMPRESSIONS="trackAllContentImpressions",e.VISIBLE_CONTENT_IMPRESSIONS="trackVisibleContentImpressions",e.CONTENT_IMPRESSIONS_WITH_NODE="trackContentImpressionsWithinNode",e.CONTENT_IMPRESSION="trackContentImpression",e.LOG_ALL_CONTENT_BLOCKS_ON_PAGE="logAllContentBlocksOnPage",e.CONTENT_INTERACTION_NODE="trackContentInteractionNode",e.CONTENT_INTERACTION="trackContentInteraction",e.LINK="trackLink",e.ENABLE_LINK_TRACKING="enableLinkTracking",e.SET_IGNORE_CLASSES="setIgnoreClasses",e.SET_LINK_CLASSES="setLinkClasses",e.SET_DOWNLOAD_CLASSES="setDownloadClasses",e.SET_DOWNLOAD_EXTENSIONS="setDownloadExtensions",e.ADD_DOWNLOAD_EXTENSIONS="addDownloadExtensions",e.REMOVE_DOWNLOAD_EXTENSIONS="removeDownloadExtensions",e.SET_LINK_TRACKING_TIMER="setLinkTrackingTimer",e.SET_USER_ID="setUserId",e.RESET_USER_ID="resetUserId",e.SET_USER_IS_ANONYMOUS="setUserIsAnonymous",e.DEANONYMIZE_USER="deanonymizeUser",e.SET_SESSION_ID_STRICT_PRIVACY_MODE="setSessionIdStrictPrivacyMode",e.DISABLE_COOKIES="disableCookies",e.ENABLE_COOKIES="enableCookies",e.DELETE_COOKIES="deleteCookies",e.SET_COOKIE_NAME_PREFIX="setCookieNamePrefix",e.SET_COOKIE_DOMAIN="setCookieDomain",e.SET_COOKIE_PATH="setCookiePath",e.SET_SECURE_COOKIE="setSecureCookie",e.SET_VISITOR_COOKIE_TIMEOUT="setVisitorCookieTimeout",e.SET_SESSION_COOKIE_TIMEOUT="setSessionCookieTimeout",e.SET_VISITOR_ID_COOKIE="setVisitorIdCookie",e.SET_DOCUMENT_TITLE="setDocumentTitle",e.SET_DOMAINS="setDomains",e.SET_CUSTOM_URL="setCustomUrl",e.SET_REFERRER_URL="setReferrerUrl",e.SET_API_URL="setApiUrl",e.GET_PIWIK_URL="getPiwikUrl",e.GET_CURRENT_URL="getCurrentUrl",e.DISCARD_HASH_TAG="discardHashTag",e.SET_GENERATION_TIME_MS="setGenerationTimeMs",e.APPEND_TO_TRACKING_URL="appendToTrackingUrl",e.SET_DO_NOT_TRACK="setDoNotTrack",e.KILL_FRAME="killFrame",e.REDIRECT_FILE="redirectFile",e.SET_CAMPAIGN_NAME_KEY="setCampaignNameKey",e.SET_CAMPAIGN_KEYWORD_KEY="setCampaignKeywordKey",e.PING="ping",e.ADD_LISTENER="addListener",e.SET_REQUEST_METHOD="setRequestMethod",e.SET_CUSTOM_REQUEST_PROCESSING="setCustomRequestProcessing",e.SET_REQUEST_CONTENT_TYPE="setRequestContentType",e.ENABLE_JS_ERROR_TRACKING="enableJSErrorTracking",e.ERROR="trackError",e.SET_TRACKING_SOURCE="setTrackingSource"}(u||(u={}));const c={initialize:a.init};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function m(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:String(t)}r(675263),c.initialize("abcdd6c8-5b23-4263-8616-04442c6c5f8f","https://hydrata.piwik.pro");var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(u,e);var t,r,n,o,l=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(o){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),l.call(this,e)}return t=u,(r=[{key:"render",value:function(){return i().createElement("div",{id:"piwik-pro-container"})}}])&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(i().Component);m(y,"propTypes",{}),m(y,"defaultProps",{});const v=(0,l.connect)((function(e){return{}}),(function(e){return{}}))(y),E=(0,n.rx)("piwikPro",{component:v,reducers:{piwikPro:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,e}},epics:{}})},893871:e=>{e.exports={}},160025:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Re});var n=r(322843),o=r(351288);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){var n;return n=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==i(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(124852),s=r.n(c),p=r(171703),f=(r(472619),r(597222)),d=r(490079);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function E(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:String(t)}var g,h,S,w=r(675263),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(n);if(o){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={},t}return t=l,(r=[{key:"componentDidMount",value:function(){this.props.searchBarVisible&&this.props.changeActiveSearchTool("coordinatesSearch")}},{key:"render",value:function(){var e=this;return this.props.visibleLegendPanel?s().createElement("div",{className:"simple-view-panel "+(this.props.searchBarVisible?"legend-panel-with-search":"legend-panel")},s().createElement("div",{className:"row h4 legend-heading"},"Legend",s().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return e.props.setVisibleLegendPanel(!1)}})),this.props.visibleLayers.map((function(t){var r,n,o=null===(r=e.props.legendOverrides)||void 0===r||null===(n=r.filter((function(e){return(null==e?void 0:e.layerName)===t.name})))||void 0===n?void 0:n[0];return"wms"!==t.type?null:o?s().createElement("div",{key:t.id,className:"row legend-row"},s().createElement("div",{className:"col-sm-7 legend-background"},s().createElement("span",{className:"legend-image"},s().createElement("img",{src:null==o?void 0:o.staticImageFilePath}))),s().createElement("div",{className:"col-sm-5 legend-text-label"},s().createElement("span",{className:"h5"},t.title))):s().createElement("div",{key:t.id,className:"row legend-row"},s().createElement("div",{className:"col-sm-7 legend-background"},s().createElement("span",{className:"legend-image"},s().createElement(d.Z,{layer:t,legendHeight:12,legendWidth:12,legendOptions:"dpi:150; countMatched:true; hideEmptyRules:true",scales:[1e5],scaleDependent:!0}))),s().createElement("div",{className:"col-sm-5 legend-text-label"},s().createElement("span",{className:"h5"},t.title)))}))):s().createElement("div",null,s().createElement("button",{className:"simple-view-menu-button "+(this.props.searchBarVisible?"legend-button-with-search":"legend-button"),onClick:function(){return e.props.setVisibleLegendPanel(!0)}},"Show Legend"))}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);g=_,h="propTypes",S={setVisibleLegendPanel:w.func,visibleLegendPanel:w.bool,visibleLayers:w.array,searchBarVisible:w.bool,changeActiveSearchTool:w.func,legendOverrides:w.array},(h=E(h))in g?Object.defineProperty(g,h,{value:S,enumerable:!0,configurable:!0,writable:!0}):g[h]=S;const O=(0,p.connect)((function(e){var t,r,n,o,i,l,u;return{visibleLayers:null==e||null===(t=e.layers)||void 0===t?void 0:t.flat.filter((function(e){return!0===(null==e?void 0:e.visibility)&&"background"!==(null==e?void 0:e.group)})),visibleLegendPanel:null==e||null===(r=e.simpleView)||void 0===r?void 0:r.visibleLegendPanel,legendOverrides:(null==e||null===(n=e.simpleView)||void 0===n||null===(o=n.config)||void 0===o?void 0:o.legendOverrides)||[],searchBarVisible:!(null==e||null===(i=e.localConfig)||void 0===i||null===(l=i.plugins)||void 0===l||null===(u=l.map_view)||void 0===u||!u.find((function(e){return"Search"===e.name})))}}),(function(e){return{setVisibleLegendPanel:function(t){return e((0,o.setVisibleLegendPanel)(t))},changeActiveSearchTool:function(t){return e((0,f.a)(t))}}}))(_);var T=r(388380);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function V(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:String(t)}var j=r(675263),N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(n);if(o){var r=P(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,e)}return t=l,(r=[{key:"render",value:function(){var e,t=this;return"basemaps"===this.props.openMenuGroupId?s().createElement("div",{className:"menu-rows-container"},this.props.baseMapLayers.map((function(e){return s().createElement(T.j,{layer:e})}))):0===(null===(e=this.props.layerList)||void 0===e?void 0:e.length)?s().createElement("div",{className:"menu-rows-container"},s().createElement(T.j,{layer:null})):s().createElement("div",{className:"menu-rows-container"},this.props.layerSubheadings.map((function(e){var r;return s().createElement(s().Fragment,null,s().createElement("h5",{style:{textAlign:"left"}},e),null===(r=t.props.layerList)||void 0===r?void 0:r.filter((function(t){return t.group.split(".")[1]===e})).map((function(e){return s().createElement(T.j,{layer:e})})))})))}}])&&I(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);!function(e,t,r){(t=V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(N,"propTypes",{menuGroups:j.array,flatLayers:j.array,layerList:j.array,layerSubheadings:j.array,menuDatasets:j.array,openMenuGroupId:j.string,baseMapLayers:j.array});var k=(0,p.connect)((function(e){var t,r,n,o,i,l,u,a,c;return{openMenuGroupId:null==e||null===(t=e.simpleView)||void 0===t?void 0:t.openMenuGroupId,menuGroups:null==e||null===(r=e.layers)||void 0===r?void 0:r.groups,flatLayers:null==e||null===(n=e.layers)||void 0===n?void 0:n.flat,layerList:null==e||null===(o=e.layers)||void 0===o||null===(i=o.flat)||void 0===i?void 0:i.filter((function(t){var r,n;return(null==t||null===(r=t.group)||void 0===r?void 0:r.split(".")[0])===(null==e||null===(n=e.simpleView)||void 0===n?void 0:n.openMenuGroupId)})),layerSubheadings:(c=new Set(null==e||null===(l=e.layers)||void 0===l||null===(u=l.flat)||void 0===u?void 0:u.filter((function(t){var r,n;return(null==t||null===(r=t.group)||void 0===r?void 0:r.split(".")[0])===(null==e||null===(n=e.simpleView)||void 0===n?void 0:n.openMenuGroupId)})).map((function(e){return e.group.split(".")[1]}))),function(e){if(Array.isArray(e))return R(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),baseMapLayers:null==e||null===(a=e.layers)||void 0===a?void 0:a.flat.filter((function(e){return"background"===(null==e?void 0:e.group)}))}}),(function(e){return{}}))(N),D=r(843614),L=r(38560);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B(n.key),n)}}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function B(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==M(t)?t:String(t)}var G=r(675263),H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(o){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={},t}return t=l,(r=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return s().createElement("div",{className:"introduction-container"},s().createElement(D.Z,{show:!0,onHide:function(){return e.props.setVisibleIntroduction(!1)}},s().createElement(D.Z.Header,{closeButton:!0},s().createElement(D.Z.Title,{id:"contained-modal-title-lg"},"Welcome to Hydrata")),s().createElement(D.Z.Body,null,s().createElement("p",{style:{fontSize:"small"}},'The application is provided "as-is", without warranty of any kind, express or implied, including but not limited to the warranties of merchantability, firness for a particular pupose and noninfringement. In no event shall the authors or copyright holders be liable for any claim, damages or other liability, whether in an action of contract, tort or otherwise, arising from, out of or in connection with the software or the use or other dealings in the software.'),s().createElement(L.Z,{onClick:function(){return e.props.setVisibleIntroduction(!1)},bsStyle:"primary",style:{marginLeft:"45%"}},"Accept"))))}}])&&U(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);!function(e,t,r){(t=B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(H,"propTypes",{setVisibleIntroduction:G.func});const K=(0,p.connect)((function(){return{}}),(function(e){return{setVisibleIntroduction:function(t){return e((0,o.setVisibleIntroduction)(t))}}}))(H);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function J(e,t,r){return(t=z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:String(t)}var Q=r(675263),$=r(472986),ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Y(n);if(o){var r=Y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).handleChange=t.handleChange.bind(q(t)),t.handleOverrideChange=t.handleOverrideChange.bind(q(t)),t.handleMultiSelectOverrideChange=t.handleMultiSelectOverrideChange.bind(q(t)),t.state={},t}return t=l,r=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"renderOverride",value:function(e,t){var r,n,o,i,l,u;switch(e){case"datepicker":return s().createElement("input",{style:{color:"white",borderRadius:"4px",textAlign:"right"},name:t,value:null===(r=this.props.simpleViewAttributeForm)||void 0===r||null===(n=r[t])||void 0===n?void 0:n.value,onChange:this.handleOverrideChange,type:"date"});case"float":return s().createElement("input",{style:{color:"white",borderRadius:"4px",textAlign:"right"},name:t,value:null===(o=this.props.simpleViewAttributeForm)||void 0===o||null===(i=o[t])||void 0===i?void 0:i.value,onChange:this.handleOverrideChange,type:"number"});case"text":return s().createElement("input",{style:{color:"white",borderRadius:"4px",textAlign:"right"},name:t,value:null===(l=this.props.simpleViewAttributeForm)||void 0===l||null===(u=l[t])||void 0===u?void 0:u.value,onChange:this.handleOverrideChange,type:"text"});case"multi-select":return s().createElement("div",null);default:return s().createElement("div",null,e," widget not found")}}},{key:"render",value:function(){var e,t,r,n,o=this;return s().createElement("div",{id:"simple-view-attribute-form-panel",className:"simple-view-panel menu-rows-container"},s().createElement("div",{id:"simple-view-attribute-form-header"},s().createElement("div",{className:"simple-view-panel-header"},"Import external data - attribute mapping"),s().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){o.props.setVisibleSimpleViewAttributeForm(!1)}})),s().createElement("div",{className:"simple-view-panel-body"},s().createElement("div",{className:"simple-view-panel-col-one",style:{width:"800px",marginLeft:"auto",marginTop:"15px",marginRight:"auto"}},s().createElement("div",{style:{display:"flex",marginBottom:"5px"}},s().createElement("h2",{style:{width:"150px",textAlign:"center"}},null===(e=this.props.headings)||void 0===e?void 0:e[0]),s().createElement("h2",{style:{width:"450px",textAlign:"center"}},null===(t=this.props.headings)||void 0===t?void 0:t[1]),s().createElement("h2",{style:{width:"250px",textAlign:"center"}},null===(r=this.props.headings)||void 0===r?void 0:r[2]),s().createElement("h2",{style:{width:"450px",textAlign:"center"}},null===(n=this.props.headings)||void 0===n?void 0:n[3])),Object.keys(this.props.simpleViewAttributeForm).map((function(e){var t,r,n,i,l=o.props.simpleViewAttributeForm[e];return null!=l&&l.hidden?null:s().createElement("div",{style:{position:"relative",top:"".concat(14*(null==l?void 0:l.position),"px"),border:"solid 1px #ffffff96",borderRadius:"3px",padding:"5px",paddingBottom:"2px"}},s().createElement("div",{style:{display:"flex",marginBottom:"5px"}},s().createElement("div",{style:{width:"150px"}},null==l?void 0:l.datatype),s().createElement("div",{style:{width:"450px",color:"external_id"===e.toLowerCase()?"red":"white"}},e),s().createElement("select",{style:{height:"multi-select"===(null==l?void 0:l.override_widget)?"150px":null,width:"250px",color:"#2b5994",borderRadius:"4px"},name:e,multiple:"multi-select"===(null==l?void 0:l.override_widget),value:null===(t=o.props.simpleViewAttributeForm)||void 0===t||null===(r=t[e])||void 0===r?void 0:r.value,defaultValue:"",onChange:"multi-select"===(null==l?void 0:l.override_widget)?o.handleMultiSelectOverrideChange:o.handleChange},null!=l&&l.override_allowed&&null!=l&&l.override_used?s().createElement(s().Fragment,null,s().createElement("option",{value:"---",selected:!0},"---"),null==l||null===(n=l.options)||void 0===n?void 0:n.map((function(e){return s().createElement("option",{value:e},e)}))):s().createElement(s().Fragment,null,s().createElement("option",{value:"",hidden:!0,selected:!0,disabled:!0},"---"),null==l||null===(i=l.options)||void 0===i?void 0:i.map((function(e){return s().createElement("option",{value:e},e)})))),s().createElement("div",{style:{marginLeft:"40px",width:"450px",textAlign:"center"}},null!=l&&l.override_allowed?o.renderOverride(null==l?void 0:l.override_widget,e):s().createElement("div",null))))})))),s().createElement("div",{id:"simple-view-attribute-form-grid-footer",className:"simple-view-panel-footer"},s().createElement("button",{type:"button",className:"swamm-button",style:{backgroundColor:"darkred"},onClick:function(){o.props.setVisibleSimpleViewAttributeForm(!1)}},"Cancel"),this.props.submitUrl.includes("importer-execute")?this.props.processingSimpleViewAttributeForm?s().createElement("button",{type:"button",className:"swamm-button",style:{backgroundColor:"darkgreen"}},s().createElement("span",null,s().createElement($,{color:"white",style:{display:"inline-block",marginTop:"2px",marginBottom:"2px"},spinnerName:"circle",noFadeIn:!0}))):s().createElement("button",{type:"button",className:"swamm-button",style:{backgroundColor:"darkgreen"},onClick:function(){o.props.submitSimpleViewAttributeForm(o.props.simpleViewAttributeForm,o.props.projectId,o.props.simpleViewImporterSessionId),o.props.setProcessingSimpleViewAttributeForm(!0)}},"Process"):s().createElement("button",{type:"button",className:"swamm-button",style:{backgroundColor:"darkgreen"},onClick:function(){o.props.submitSimpleViewAttributeForm(o.props.simpleViewAttributeForm,o.props.projectId,o.props.simpleViewImporterSessionId)}},"Next")))}},{key:"handleChange",value:function(e){var t,r=e.target.name,n=e.target.value,o=J({},r,n);"number"===(null===(t=e.target)||void 0===t?void 0:t.type)&&(o=J({},r,parseFloat(n))),o.override_used=!1,this.props.updateSimpleViewAttributeForm(o)}},{key:"handleOverrideChange",value:function(e){var t,r=e.target.name,n=e.target.value,o=J({},r,n);"number"===(null===(t=e.target)||void 0===t?void 0:t.type)&&(o=J({},r,parseFloat(n))),o.override_used=!0,this.props.updateSimpleViewAttributeForm(o)}},{key:"handleMultiSelectOverrideChange",value:function(e){var t,r,n=null===(t=e.target)||void 0===t?void 0:t.name,o=Array.from(e.target.selectedOptions,(function(e){return e.value})),i=J({},n,o);"number"===(null===(r=e.target)||void 0===r?void 0:r.type)&&(i=J({},n,parseFloat(o))),i.override_used=!0,this.props.updateSimpleViewAttributeForm(i)}}],r&&X(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);J(ee,"propTypes",{setVisibleSimpleViewAttributeForm:Q.func,updateSimpleViewAttributeForm:Q.func,simpleViewAttributeForm:Q.object,submitSimpleViewAttributeForm:Q.func,setProcessingSimpleViewAttributeForm:Q.func,processingSimpleViewAttributeForm:Q.bool,projectId:Q.number,submitUrl:Q.string,simpleViewImporterSessionId:Q.number,headings:Q.array}),J(ee,"defaultProps",{});var te=(0,p.connect)((function(e){var t,r,n,o,i,l,u,a,c,s,p,f=null;return null!=e&&null!==(t=e.simpleView)&&void 0!==t&&t.simpleViewAttributeForm&&(f=(null===(a=JSON.parse(JSON.stringify(null==e||null===(c=e.simpleView)||void 0===c?void 0:c.simpleViewAttributeForm)))||void 0===a?void 0:a.headings)||["Type","Target Attribute","Uploaded Attribute","Attribute Override"],null==e||null===(s=e.simpleView)||void 0===s||null===(p=s.simpleViewAttributeForm)||void 0===p||delete p.headings),{projectId:null==e||null===(r=e.simpleView)||void 0===r||null===(n=r.config)||void 0===n?void 0:n.project_id,simpleViewAttributeForm:(null==e||null===(o=e.simpleView)||void 0===o?void 0:o.simpleViewAttributeForm)||{},simpleViewImporterSessionId:null==e||null===(i=e.simpleView)||void 0===i?void 0:i.simpleViewImporterSessionId,processingSimpleViewAttributeForm:null==e||null===(l=e.simpleView)||void 0===l?void 0:l.processingSimpleViewAttributeForm,submitUrl:(null==e||null===(u=e.simpleView)||void 0===u?void 0:u.submitUrl)||"",headings:f}}),(function(e){return{setVisibleSimpleViewAttributeForm:function(t){return e((0,o.setVisibleSimpleViewAttributeForm)(t))},setProcessingSimpleViewAttributeForm:function(t){return e((0,o.setProcessingSimpleViewAttributeForm)(t))},updateSimpleViewAttributeForm:function(t){return e((0,o.updateSimpleViewAttributeForm)(t))},submitSimpleViewAttributeForm:function(t,r,n){return e((0,o.submitSimpleViewAttributeForm)(t,r,n))}}}))(ee);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ue(n.key),n)}}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function le(e,t,r){return(t=ue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e){var t=function(e,t){if("object"!=re(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==re(t)?t:String(t)}var ae=r(675263),ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ie(n);if(o){var r=ie(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={},t}return t=l,r=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return s().createElement("div",{id:"simple-view-attribute-result-panel",className:"simple-view-panel menu-rows-container",style:{backgroundColor:"rgba(0, 60, 136)",textAlign:"left"}},s().createElement("div",{id:"simple-view-attribute-form-header"},s().createElement("div",{className:"simple-view-panel-header"},'Import Result (showing "external_id" fields)'),s().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){e.props.setVisibleSimpleViewAttributeResult(!1)}})),s().createElement("div",{className:"simple-view-panel-body"},s().createElement("div",{className:"simple-view-panel-col-one",style:{width:"800px",minHeight:"300px",marginLeft:"auto",marginTop:"15px",marginRight:"auto",marginBottom:"50px",overflowY:"scroll"}},Object.keys(this.props.simpleViewAttributeResult).map((function(t){return s().createElement(s().Fragment,null,s().createElement("h3",null,t.charAt(0).toUpperCase()+t.slice(1)," (",e.props.simpleViewAttributeResult[t].length,"):"),e.props.simpleViewAttributeResult[t].map((function(e){return"".concat(e,", ")})))})))),s().createElement("div",{id:"simple-view-attribute-result-grid-footer",className:"simple-view-panel-footer"},s().createElement("button",{type:"button",className:"swamm-button",style:{backgroundColor:"darkred"},onClick:function(){e.props.setVisibleSimpleViewAttributeResult(!1)}},"Close")))}}],r&&ne(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);le(ce,"propTypes",{setVisibleSimpleViewAttributeResult:ae.func,projectId:ae.number,simpleViewAttributeResult:ae.object}),le(ce,"defaultProps",{});var se=(0,p.connect)((function(e){var t,r,n,o;return{projectId:null==e||null===(t=e.simpleView)||void 0===t||null===(r=t.config)||void 0===r?void 0:r.project_id,simpleViewAttributeResult:(null==e||null===(n=e.simpleView)||void 0===n?void 0:n.simpleViewAttributeResult)||{},simpleViewImporterSessionId:null==e||null===(o=e.simpleView)||void 0===o?void 0:o.simpleViewImporterSessionId}}),(function(e){return{setVisibleSimpleViewAttributeResult:function(t){return e((0,o.setVisibleSimpleViewAttributeResult)(t))}}}))(ce);function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ye(n.key),n)}}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},me(e)}function be(e,t,r){return(t=ye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e){var t=function(e,t){if("object"!=pe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pe(t)?t:String(t)}var ve=r(675263),Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=me(n);if(o){var r=me(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,e)}return t=l,(r=[{key:"render",value:function(){var e=this;return s().createElement("div",{id:"simple-view-container"},s().createElement("ul",{className:"menu-groups"},s().createElement("button",{key:"basemaps",className:"simple-view-menu-button",style:{left:20},onClick:function(){var t;e.props.setOpenMenuGroupId(null===(t=e.props.baseMapMenuGroup)||void 0===t?void 0:t.id)}},"BaseMaps"),this.props.menuGroups&&this.props.menuGroups.length?this.props.menuGroups.map((function(t,r){return s().createElement("button",{id:"simpleViewContainer-mapped-button-".concat(null==t?void 0:t.name,"-").concat(null==t?void 0:t.title),key:"simpleViewContainer-mapped-button-".concat(null==t?void 0:t.name,"-").concat(null==t?void 0:t.title),className:"simple-view-menu-button",style:{left:100*(r+e.props.menuSpaces+1)+20},onClick:function(){e.props.setOpenMenuGroupId(t.id)}},"Default"===(null==t?void 0:t.title)?t.name:t.title)})):null),function(t){switch(null===(t=e.props)||void 0===t?void 0:t.openMenuGroupId){case null:case void 0:return null;default:return s().createElement("div",{className:"simple-view-panel"},s().createElement(k,null))}}(),s().createElement(O,null),this.props.visibleIntroduction?s().createElement(K,null):null,this.props.visibleSimpleViewAttributeForm?s().createElement(te,null):null,this.props.visibleSimpleViewAttributeResult?s().createElement(se,null):null)}}])&&fe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);be(Ee,"propTypes",{setOpenMenuGroupId:ve.func,menuGroups:ve.array,baseMapMenuGroup:ve.object,openMenuGroupId:ve.string,visibleIntroduction:ve.bool,visibleSimpleViewAttributeForm:ve.bool,visibleSimpleViewAttributeResult:ve.bool,setVisibleIntroduction:ve.func,menuSpaces:ve.number}),be(Ee,"defaultProps",{});const ge=(0,p.connect)((function(e){var t,r,n,o,i,l,u,a,c,s,p,f,d=(null==e||null===(t=e.simpleView)||void 0===t||null===(r=t.config)||void 0===r?void 0:r.customMenus)||[],m=(null==e||null===(n=e.simpleView)||void 0===n||null===(o=n.config)||void 0===o?void 0:o.menuSpaces)||0;return null!=e&&null!==(i=e.anuga)&&void 0!==i&&null!==(l=i.projectData)&&void 0!==l&&l.id&&(d=["Input Data","Results"],m=4),{menuSpaces:m,menuGroups:null==e||null===(u=e.layers)||void 0===u||null===(a=u.groups)||void 0===a?void 0:a.filter((function(e){return!(d.includes(e.name)||d.includes(e.title))})),baseMapMenuGroup:{id:"basemaps",title:"Base Maps",name:"basemaps"},openMenuGroupId:null==e||null===(c=e.simpleView)||void 0===c?void 0:c.openMenuGroupId,visibleIntroduction:null==e||null===(s=e.simpleView)||void 0===s?void 0:s.visibleIntroduction,visibleSimpleViewAttributeForm:null==e||null===(p=e.simpleView)||void 0===p?void 0:p.visibleSimpleViewAttributeForm,visibleSimpleViewAttributeResult:null==e||null===(f=e.simpleView)||void 0===f?void 0:f.visibleSimpleViewAttributeResult}}),(function(e){return{setOpenMenuGroupId:function(t){return e((0,o.setOpenMenuGroupId)(t))},setVisibleIntroduction:function(t){return e((0,o.setVisibleIntroduction)(t))}}}))(Ee);var he=r(49977),Se=r.n(he),we=r(433528),_e=r(197395),Oe=r(580416),Te=r(375875),Ae=r.n(Te);const Re=(0,n.rx)("SimpleView",{component:ge,reducers:{simpleView:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case o.SET_PROCESSING_SV_ATTRIBUTE_FORM:return u(u({},t),{},{processingSimpleViewAttributeForm:r.processing});case o.SET_SV_CONFIG:return u(u({},t),{},{config:r.config});case o.SET_OPEN_MENU_GROUP_ID:return t.openMenuGroupId===r.openMenuGroupId?u(u({},t),{},{openMenuGroupId:null}):u(u({},t),{},{openMenuGroupId:r.openMenuGroupId});case o.SET_VISIBLE_LEGEND_PANEL:return u(u({},t),{},{visibleLegendPanel:r.visible});case o.SET_VISIBLE_INTRODUCTION:return u(u({},t),{},{visibleIntroduction:r.visible});case o.SET_VISIBLE_SV_ATTRIBUTE_FORM:return u(u({},t),{},{visibleSimpleViewAttributeForm:r.visible});case o.SET_VISIBLE_SV_ATTRIBUTE_RESULT:return u(u({},t),{},{visibleSimpleViewAttributeResult:r.visible});case o.SET_SV_ATTRIBUTE_RESULT:return u(u({},t),{},{simpleViewAttributeResult:r.data});case o.CREATE_SV_ATTRIBUTE_FORM:return u(u({},t),{},{simpleViewAttributeForm:r.form,simpleViewImporterSessionId:r.simpleViewImporterSessionId,submitUrl:r.submitUrl,visibleSimpleViewAttributeForm:!0});case o.UPDATE_SV_ATTRIBUTE_FORM:console.log("UPDATE_SV_ATTRIBUTE_FORM action.kv",r.kv);var n=r.kv.override_used;delete r.kv.override_used;var i=Object.keys(r.kv)[0],l=r.kv[i];console.log("UPDATE_SV_ATTRIBUTE_FORM newKey",i),console.log("UPDATE_SV_ATTRIBUTE_FORM newValue",l);var c=u({},t.simpleViewAttributeForm[i]);console.log("UPDATE_SV_ATTRIBUTE_FORM existingAttributeValue",c);var s=u(u({},c),{},{value:l,override_used:n});console.log("UPDATE_SV_ATTRIBUTE_FORM updatedFormValue",s);var p=u(u({},t.simpleViewAttributeForm),{},a({},i,s));return console.log("UPDATE_SV_ATTRIBUTE_FORM updatedSimpleViewAttributeForm",p),u(u({},t),{},{simpleViewAttributeForm:p});case o.SUBMIT_SV_ATTRIBUTE_FORM_SUCCESS:return u(u({},t),{},{simpleViewImporterSessionId:null==r||null===(e=r.data)||void 0===e?void 0:e.importer_session_id});case o.SET_VISIBLE_UPLOADER_PANEL:return u(u({},t),{},{visibleUploaderPanel:r.visible,importerConfigKey:r.importerConfigKey,importerTargetObjectId:r.importerTargetObjectId});case o.UPDATE_UPLOAD_STATUS:return u(u({},t),{},{uploadStatus:r.status});case o.SV_SELECT_LAYER:return u(u({},t),{},{selectedLayer:r.layer});default:return t}}},epics:{beginEditLayerEpic:function(e){return e.ofType(we.Jb).concatMap((function(){return Se().Observable.of((0,we.lg)())}))},updateDatasetTitleEpic:function(e){return e.ofType(o.UPDATE_DATASET_TITLE).switchMap((function(e){return Se().Observable.from(Ae().get("/api/v2/datasets?search=".concat(e.datasetName.split("geonode:")[1],"&search_fields=name"))).concatMap((function(t){var r,n,o;return Se().Observable.from(Ae().patch("/api/v2/datasets/".concat(null==t||null===(r=t.data)||void 0===r||null===(n=r.datasets)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.pk,"/"),{title:e.newTitle}))})).concatMap((function(){return Se().Observable.of((0,o.updateDatasetTitleSuccess)())}))}))},svDownloadLayerEpic:function(e){return e.ofType(o.SV_DOWNLOAD_LAYER).concatMap((function(e){var t;return Se().Observable.concat(Se().Observable.of((0,Oe.UG)(null==e||null===(t=e.layer)||void 0===t?void 0:t.id,"layer")),Se().Observable.of((0,Oe.LR)(null==e?void 0:e.layer)))}))},submitAttributeFormEpic:function(e,t){return e.ofType(o.SUBMIT_SV_ATTRIBUTE_FORM).switchMap((function(e){var r,n;return Se().Observable.from(Ae().post(null===(r=t.getState())||void 0===r||null===(n=r.simpleView)||void 0===n?void 0:n.submitUrl,{form:null==e?void 0:e.form,project_id:null==e?void 0:e.projectId,importer_session_id:null==e?void 0:e.simpleViewImporterSessionId}).then((function(e){var t;return console.log("SUBMIT_SV_ATTRIBUTE_FORM response:",e),null!==(t=e.data)&&void 0!==t&&t.submitUrl?(0,o.createSimpleViewAttributeForm)(e.data):(0,o.submitSimpleViewAttributeFormSuccess)(e.data)})))}))},submitSimpleViewAttributeFormSuccessEpic:function(e){return e.ofType(o.SUBMIT_SV_ATTRIBUTE_FORM_SUCCESS).concatMap((function(e){return Se().Observable.of((0,o.setVisibleSimpleViewAttributeForm)(!1),(0,o.setVisibleUploaderPanel)(!1),(0,o.setProcessingSimpleViewAttributeForm)(!1),(0,o.setVisibleSimpleViewAttributeResult)(!0),(0,o.setSimpleViewAttributeResult)(e.data),(0,_e.show)({message:"Import successful",title:"Features added",uid:1e3,position:"tc"}))}))}}})}}]);