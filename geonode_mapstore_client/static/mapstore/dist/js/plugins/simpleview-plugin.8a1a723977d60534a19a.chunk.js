(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[16398],{597222:(e,t,n)=>{"use strict";n.d(t,{Vc:()=>o,qj:()=>i,bj:()=>u,p7:()=>l,Av:()=>a,M8:()=>c,wn:()=>s,gs:()=>f,NN:()=>p,C2:()=>d,O7:()=>y,oQ:()=>b,dX:()=>v,al:()=>m,Gh:()=>h,x2:()=>g,Y7:()=>E,b4:()=>O,GI:()=>w,KP:()=>S,dS:()=>_,Zw:()=>T,l4:()=>j,fZ:()=>P,Z:()=>R,a:()=>C,WN:()=>L,k9:()=>I,yo:()=>A,kE:()=>M,kV:()=>D,v2:()=>N,_q:()=>G,tt:()=>H,Jc:()=>k,w4:()=>V,QJ:()=>B,KG:()=>x,o$:()=>U,TS:()=>Z,Tw:()=>X,I3:()=>W});var r=n(197395),o="SEARCH:SEARCH_WITH_FILTER",i="SEARCH:SCHEDULE_SEARCH_WITH_FILTER",u="TEXT_SEARCH_STARTED",l="TEXT_SEARCH_RESULTS_LOADED",a="TEXT_SEARCH_RESULTS_PURGE",c="TEXT_SEARCH_RESET",s="TEXT_SEARCH_ADD_MARKER",f="TEXT_SEARCH_TEXT_CHANGE",p="TEXT_SEARCH_LOADING",d="TEXT_SEARCH_NESTED_SERVICE_SELECTED",y="TEXT_SEARCH_ERROR",b="TEXT_SEARCH_CANCEL_ITEM",v="TEXT_SEARCH_ITEM_SELECTED",m="TEXT_SEARCH_SHOW_GFI",h="TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",g="UPDATE_RESULTS_STYLE",E="CHANGE_SEARCH_TOOL",O="SEARCH:ZOOM_ADD_POINT",w="SEARCH:CHANGE_FORMAT",S="SEARCH:CHANGE_COORD",_="SEARCH:HIDE_MARKER";function T(e){return{type:w,format:e}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,n=e.cql_filter;return{type:o,layer:t,cql_filter:n}}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,n=e.cql_filter;return{type:i,layer:t,cql_filter:n}}function R(e,t,n){return{type:O,pos:e,zoom:t,crs:n}}function C(e){return{type:E,activeSearchTool:e}}function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return{type:l,results:e,append:t,services:n}}function I(e){return{type:f,searchText:e}}function A(e){return{type:p,loading:e}}function M(e){return{type:y,error:e}}function D(){return{type:a}}function N(){return{type:c}}function G(e,t){return{type:s,markerPosition:e,markerLabel:t}}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.services,r=void 0===n?null:n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return{type:u,searchText:e,services:r,maxResults:o}}function k(e,t,n){return{type:v,item:e,mapConfig:t,resultsStyle:n}}var V=function(e){return{type:m,item:e}};function B(e,t,n){return{type:d,searchText:n,services:e,items:t}}function x(e){return{type:b,item:e}}function U(e){return{type:g,style:e}}function Z(e,t){return{type:S,coord:e,val:t}}function X(){return(0,r.error)({title:"Error",position:"tc",message:"search.errors.nonQueriableLayers",autoDismiss:10})}function W(){return(0,r.error)({title:"Error",position:"tc",message:"search.errors.serverError",autoDismiss:10})}},490079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(472500),o=n.n(r),i=n(701469),u=n.n(i),l=n(414293),a=n.n(l),c=n(727418),s=n.n(c),f=n(45697),p=n.n(f),d=n(124852),y=n.n(d),b=n(233044),v=n(805346);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(c,e);var t,n,r,i,l=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(i){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function c(){var e;h(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(w(e=l.call.apply(l,[this].concat(n))),"state",{error:!1}),_(w(e),"onImgError",(function(){e.setState((function(){return{error:!0}}))})),_(w(e),"getUrl",(function(e,t){if(e.layer&&"wms"===e.layer.type&&e.layer.url){var n=e.layer,r=a()(t)?u()(n.url)&&Math.floor(Math.random()*n.url.length):t,i=u()(n.url)?n.url[r]:n.url.replace(/[?].*$/g,""),l=o().parse(i),c=(0,b.clearNilValuesForParams)(n.params),f=s()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:e.legendHeight,width:e.legendWidth,layer:n.name,style:n.style||null,version:n.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:e.legendOptions},n.legendParams||{},e.language&&n.localizedLayerStyles?{LANGUAGE:e.language}:{},(0,b.addAuthenticationToSLD)(c||{},e.layer),c&&c.SLD_BODY?{SLD_BODY:c.SLD_BODY}:{},e.scales&&e.currentZoomLvl&&e.scaleDependent?{SCALE:Math.round(e.scales[e.currentZoomLvl])}:{});return(0,b.addAuthenticationParameter)(i,f),o().format({host:l.host,protocol:l.protocol,pathname:l.pathname,query:f})}return""})),_(w(e),"validateImg",(function(t){t.height<=1&&t.width<=2&&e.onImgError()})),e}return t=c,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.error&&this.getUrl(e,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var e=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?y().createElement("img",{onError:this.onImgError,onLoad:function(t){return e.validateImg(t.target)},src:this.getUrl(this.props),style:this.props.style}):y().createElement(v.Z,{msgId:"layerProperties.legenderror"})}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(y().Component);_(T,"propTypes",{layer:p().object,legendHeight:p().number,legendWidth:p().number,legendOptions:p().string,style:p().object,currentZoomLvl:p().number,scales:p().array,scaleDependent:p().bool,language:p().string}),_(T,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const j=T},38560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(724469),o=n(124852),i=n.n(o),u=n(294184),l=n.n(u),a=["disabled","className","onClick"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const s=(f=r.Button,i().forwardRef((function(e,t){var n=e.disabled,r=e.className,o=e.onClick,u=void 0===o?function(){}:o,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,a);return i().createElement(f,c({ref:t,className:n?l()("disabled",r):r,onClick:function(){n||u.apply(void 0,arguments)}},s),s.children)})));var f},843614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(727418),o=n.n(r),i=n(724469),u=n(461365);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function u(){return a(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"handleDialogClick",value:function(e){e.target===e.currentTarget&&this.props.onHide(e)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(i.Modal);const y=o()((0,u.Z)(d),{Body:i.Modal.Body,Dialog:i.Modal.Dialog,Footer:i.Modal.Footer,Header:i.Modal.Header,Title:i.Modal.Title})},233837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ie});var r=n(322843),o=n(351288);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(124852),c=n.n(a),s=n(171703),f=(n(472619),n(597222)),p=n(490079);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,g,E,O=n(45697),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={},t}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.searchBarVisible&&this.props.changeActiveSearchTool("coordinatesSearch")}},{key:"render",value:function(){var e=this;return this.props.visibleLegendPanel?c().createElement("div",{className:"simple-view-panel "+(this.props.searchBarVisible?"legend-panel-with-search":"legend-panel")},c().createElement("div",{className:"row h4 legend-heading"},"Legend",c().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){return e.props.setVisibleLegendPanel(!1)}})),this.props.visibleLayers.map((function(e){return"wms"===e.type?c().createElement("div",{key:e.id,className:"row legend-row"},c().createElement("div",{className:"col-sm-7 legend-background"},c().createElement("span",{className:"legend-image"},c().createElement(p.Z,{layer:e,legendHeight:12,legendWidth:12,legendOptions:"dpi:150; countMatched:true; hideEmptyRules:true",scales:[1e5],scaleDependent:!0}))),c().createElement("div",{className:"col-sm-5 legend-text-label"},c().createElement("span",{className:"h5"},e.title))):null}))):c().createElement("div",null,c().createElement("button",{className:"simple-view-menu-button "+(this.props.searchBarVisible?"legend-button-with-search":"legend-button"),onClick:function(){return e.props.setVisibleLegendPanel(!0)}},"Show Legend"))}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c().Component);h=w,g="propTypes",E={setVisibleLegendPanel:O.func,visibleLegendPanel:O.bool,visibleLayers:O.array,searchBarVisible:O.bool,changeActiveSearchTool:O.func},g in h?Object.defineProperty(h,g,{value:E,enumerable:!0,configurable:!0,writable:!0}):h[g]=E;const S=(0,s.connect)((function(e){var t,n,r,o,i;return{visibleLayers:null==e||null===(t=e.layers)||void 0===t?void 0:t.flat.filter((function(e){return!0===e.visibility&&"background"!==(null==e?void 0:e.group)})),visibleLegendPanel:null==e||null===(n=e.simpleView)||void 0===n?void 0:n.visibleLegendPanel,searchBarVisible:!(null==e||null===(r=e.localConfig)||void 0===r||null===(o=r.plugins)||void 0===o||null===(i=o.map_view)||void 0===i||!i.find((function(e){return"Search"===e.name})))}}),(function(e){return{setVisibleLegendPanel:function(t){return e((0,o.setVisibleLegendPanel)(t))},changeActiveSearchTool:function(t){return e((0,f.a)(t))}}}))(w);var _=n(388380);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=n(45697),A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return t=u,(n=[{key:"render",value:function(){var e,t=this;return"basemaps"===this.props.openMenuGroupId?c().createElement("div",{className:"menu-rows-container"},this.props.baseMapLayers.map((function(e){return c().createElement(_.j,{layer:e})}))):0===(null===(e=this.props.layerList)||void 0===e?void 0:e.length)?c().createElement("div",{className:"menu-rows-container"},c().createElement(_.j,{layer:null})):c().createElement("div",{className:"menu-rows-container"},this.props.layerSubheadings.map((function(e){var n;return c().createElement(c().Fragment,null,c().createElement("h5",{style:{textAlign:"left"}},e),null===(n=t.props.layerList)||void 0===n?void 0:n.filter((function(t){return t.group.split(".")[1]===e})).map((function(e){return c().createElement(_.j,{layer:e})})))})))}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c().Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(A,"propTypes",{menuGroups:I.array,flatLayers:I.array,layerList:I.array,layerSubheadings:I.array,menuDatasets:I.array,openMenuGroupId:I.string,baseMapLayers:I.array});var M=(0,s.connect)((function(e){var t,n,r,o,i,u,l,a,c;return{openMenuGroupId:null==e||null===(t=e.simpleView)||void 0===t?void 0:t.openMenuGroupId,menuGroups:null==e||null===(n=e.layers)||void 0===n?void 0:n.groups,flatLayers:null==e||null===(r=e.layers)||void 0===r?void 0:r.flat,layerList:null==e||null===(o=e.layers)||void 0===o||null===(i=o.flat)||void 0===i?void 0:i.filter((function(t){var n,r;return(null==t||null===(n=t.group)||void 0===n?void 0:n.split(".")[0])===(null==e||null===(r=e.simpleView)||void 0===r?void 0:r.openMenuGroupId)})),layerSubheadings:(c=new Set(null==e||null===(u=e.layers)||void 0===u||null===(l=u.flat)||void 0===l?void 0:l.filter((function(t){var n,r;return(null==t||null===(n=t.group)||void 0===n?void 0:n.split(".")[0])===(null==e||null===(r=e.simpleView)||void 0===r?void 0:r.openMenuGroupId)})).map((function(e){return e.group.split(".")[1]}))),function(e){if(Array.isArray(e))return j(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),baseMapLayers:null==e||null===(a=e.layers)||void 0===a?void 0:a.flat.filter((function(e){return"background"===(null==e?void 0:e.group)}))}}),(function(e){return{}}))(A),D=n(843614),N=n(38560);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=n(45697),U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={},t}return t=u,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return c().createElement("div",{className:"introduction-container"},c().createElement(D.Z,{show:!0,onHide:function(){return e.props.setVisibleIntroduction(!1)}},c().createElement(D.Z.Header,{closeButton:!0},c().createElement(D.Z.Title,{id:"contained-modal-title-lg"},"Welcome to Hydrata")),c().createElement(D.Z.Body,null,c().createElement("p",{style:{fontSize:"small"}},'The application is provided "as-is", without warranty of any kind, express or implied, including but not limited to the warranties of merchantability, firness for a particular pupose and noninfringement. In no event shall the authors or copyright holders be liable for any claim, damages or other liability, whether in an action of contract, tort or otherwise, arising from, out of or in connection with the software or the use or other dealings in the software.'),c().createElement(N.Z,{onClick:function(){return e.props.setVisibleIntroduction(!1)},bsStyle:"primary",style:{marginLeft:"45%"}},"Accept"))))}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c().Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(U,"propTypes",{setVisibleIntroduction:x.func});const Z=(0,s.connect)((function(){return{}}),(function(e){return{setVisibleIntroduction:function(t){return e((0,o.setVisibleIntroduction)(t))}}}))(U);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=n(45697),z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Y(r);if(o){var n=Y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return t=u,(n=[{key:"render",value:function(){var e=this;return c().createElement("div",{id:"simple-view-container"},c().createElement("ul",{className:"menu-groups"},c().createElement("button",{key:"basemaps",className:"simple-view-menu-button",style:{left:20},onClick:function(){var t;e.props.setOpenMenuGroupId(null===(t=e.props.baseMapMenuGroup)||void 0===t?void 0:t.id)}},"BaseMaps"),this.props.menuGroups&&this.props.menuGroups.length?this.props.menuGroups.map((function(t,n){return c().createElement("button",{id:"simpleViewContainer-mapped-button-".concat(null==t?void 0:t.name,"-").concat(null==t?void 0:t.title),key:"simpleViewContainer-mapped-button-".concat(null==t?void 0:t.name,"-").concat(null==t?void 0:t.title),className:"simple-view-menu-button",style:{left:100*(n+e.props.numberOfCustomMenuSpaces+1)+20},onClick:function(){e.props.setOpenMenuGroupId(t.id)}},"Default"===(null==t?void 0:t.title)?t.name:t.title)})):null),function(){var t;switch(null===(t=e.props)||void 0===t?void 0:t.openMenuGroupId){case null:case void 0:return null;default:return c().createElement("div",{className:"simple-view-panel"},c().createElement(M,null))}}(),c().createElement(S,null),this.props.visibleIntroduction?c().createElement(Z,null):null)}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c().Component);J(z,"propTypes",{setOpenMenuGroupId:K.func,menuGroups:K.array,baseMapMenuGroup:K.object,openMenuGroupId:K.string,visibleIntroduction:K.bool,setVisibleIntroduction:K.func,numberOfCustomMenuSpaces:K.number}),J(z,"defaultProps",{});const Q=(0,s.connect)((function(e){var t,n,r,o,i,u,l=[],a=0;return null!=e&&null!==(t=e.anuga)&&void 0!==t&&null!==(n=t.projectData)&&void 0!==n&&n.id&&(l=["Input Data","Results"],a=4),{numberOfCustomMenuSpaces:a,menuGroups:null==e||null===(r=e.layers)||void 0===r||null===(o=r.groups)||void 0===o?void 0:o.filter((function(e){return!l.includes(e.name)})),baseMapMenuGroup:{id:"basemaps",title:"Base Maps",name:"basemaps"},openMenuGroupId:null==e||null===(i=e.simpleView)||void 0===i?void 0:i.openMenuGroupId,visibleIntroduction:null==e||null===(u=e.simpleView)||void 0===u?void 0:u.visibleIntroduction}}),(function(e){return{setOpenMenuGroupId:function(t){return e((0,o.setOpenMenuGroupId)(t))},setVisibleIntroduction:function(t){return e((0,o.setVisibleIntroduction)(t))}}}))(z);var $=n(49977),ee=n.n($),te=n(433528),ne=n(580416),re=n(375875),oe=n.n(re);const ie=(0,r.rx)("SimpleView",{component:Q,reducers:{simpleView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.SET_OPEN_MENU_GROUP_ID:return e.openMenuGroupId===t.openMenuGroupId?u(u({},e),{},{openMenuGroupId:null}):u(u({},e),{},{openMenuGroupId:t.openMenuGroupId});case o.SET_VISIBLE_LEGEND_PANEL:return u(u({},e),{},{visibleLegendPanel:t.visible});case o.SET_VISIBLE_INTRODUCTION:return u(u({},e),{},{visibleIntroduction:t.visible});case o.SET_VISIBLE_UPLOADER_PANEL:return u(u({},e),{},{visibleUploaderPanel:t.visible});case o.UPDATE_UPLOAD_STATUS:return u(u({},e),{},{uploadStatus:t.status});case o.SV_SELECT_LAYER:return u(u({},e),{},{selectedLayer:t.layer});default:return e}}},epics:{beginEditLayerEpic:function(e){return e.ofType(te.Jb).concatMap((function(){return ee().Observable.of((0,te.lg)())}))},updateDatasetTitleEpic:function(e){return e.ofType(o.UPDATE_DATASET_TITLE).switchMap((function(e){return ee().Observable.from(oe().get("/api/v2/datasets?search=".concat(e.datasetName.split("geonode:")[1],"&search_fields=name"))).concatMap((function(t){var n,r,o;return ee().Observable.from(oe().patch("/api/v2/datasets/".concat(null==t||null===(n=t.data)||void 0===n||null===(r=n.datasets)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.pk,"/"),{title:e.newTitle}))})).concatMap((function(){return ee().Observable.of((0,o.updateDatasetTitleSuccess)())}))}))},svDownloadLayerEpic:function(e){return e.ofType(o.SV_DOWNLOAD_LAYER).concatMap((function(e){var t;return ee().Observable.concat(ee().Observable.of((0,ne.UG)(null==e||null===(t=e.layer)||void 0===t?void 0:t.id,"layer")),ee().Observable.of((0,ne.LR)(null==e?void 0:e.layer)))}))}}})},923645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var u=this[i][0];null!=u&&(o[u]=!0)}for(var l=0;l<e.length;l++){var a=[].concat(e[l]);r&&o[a[0]]||(n&&(a[2]?a[2]="".concat(n," and ").concat(a[2]):a[2]=n),t.push(a))}},t}},893379:(e,t,n)=>{"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function u(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],o=0;o<e.length;o++){var l=e[o],a=t.base?l[0]+t.base:l[0],c=n[a]||0,s="".concat(a," ").concat(c);n[a]=c+1;var f=u(s),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:s,updater:b(p,t),references:1}),r.push(s)}return r}function a(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var u=o(e.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(t)}return t}var c,s=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=s(t,o);else{var i=document.createTextNode(o),u=e.childNodes;u[t]&&e.removeChild(u[t]),u.length?e.insertBefore(i,u[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,y=0;function b(e,t){var n,r,o;if(t.singleton){var i=y++;n=d||(d=a(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=a(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=u(n[r]);i[o].references--}for(var a=l(e,t),c=0;c<n.length;c++){var s=u(n[c]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}n=a}}}}}]);