(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[51127,47310],{604206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>l,IC:()=>a,iU:()=>u,W7:()=>p,uB:()=>s,Rh:()=>m,G_:()=>d,vU:()=>c,Vw:()=>v,KD:()=>f,uj:()=>g,lo:()=>_,Yf:()=>y,fo:()=>b,PY:()=>h,bp:()=>E,oJ:()=>w,k4:()=>T,sc:()=>B,Li:()=>F});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",l="DRAW:GEOMETRY_CHANGED",a="DRAW:DRAW_SUPPORT_STOPPED",u="DRAW:FEATURES_SELECTED",p="DRAW:DRAWING_FEATURES",s="DRAW:SET_SNAPPING_LAYER",m="DRAW:SNAPPING_IS_LOADING",d="DRAW:TOGGLE_SNAPPING",c="DRAW:SET_SNAPPING_CONFIG";function v(e,t,r,n,o){return{type:l,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function f(){return{type:u,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function g(){return{type:p,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function _(){return{type:a}}function y(e,t,r,o,i,l){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:l}}function b(e,t){return{type:o,geometry:e,owner:t}}function h(e){return{type:i,currentStyle:e}}var E=function(e){return y("clean","",e,[],{})};function w(){return{type:d}}function T(e){return{type:s,snappingLayer:e}}function B(){return{type:m}}function F(e,t,r){return{type:c,value:e,prop:t,pluginCfg:r}}},129386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>n,fu:()=>o,NF:()=>i,WP:()=>l,_E:()=>a});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function l(e){return{type:i,featuresPath:e}}function a(e,t){return{type:o,features:e,status:t}}},921914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>i,Ih:()=>l,Xw:()=>a,Pn:()=>u,DZ:()=>p,e8:()=>s,E0:()=>m,F9:()=>d,X_:()=>c,pb:()=>v,qb:()=>f,Re:()=>g,ih:()=>_,xy:()=>y,jL:()=>b,oz:()=>h,ph:()=>E,lF:()=>w,gG:()=>T,cb:()=>B,GI:()=>F,B1:()=>S,fv:()=>M,gc:()=>P,zX:()=>O,ZF:()=>x,Zb:()=>I,DW:()=>N,Xp:()=>A,Fm:()=>R,sV:()=>C,Mn:()=>D,LU:()=>G,XP:()=>L,WU:()=>k,JB:()=>j,g:()=>U,ws:()=>W,HP:()=>H,aN:()=>Y,Pg:()=>q,u0:()=>z,TM:()=>K,PM:()=>J,lK:()=>X,sv:()=>Z,MO:()=>$,oO:()=>Q,Mc:()=>ee,Zw:()=>te,RA:()=>re,am:()=>ne,ZM:()=>oe,wm:()=>ie,Y$:()=>le,Qu:()=>ae,kT:()=>ue});var n=r(647310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",l="EXCEPTIONS_FEATURE_INFO",a="CHANGE_MAPINFO_STATE",u="NEW_MAPINFO_REQUEST",p="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",m="SHOW_MAPINFO_MARKER",d="HIDE_MAPINFO_MARKER",c="SHOW_REVERSE_GEOCODE",v="HIDE_REVERSE_GEOCODE",f="GET_VECTOR_INFO",g="NO_QUERYABLE_LAYERS",_="CLEAR_WARNING",y="FEATURE_INFO_CLICK",b="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",h="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",E="TOGGLE_MAPINFO_STATE",w="UPDATE_CENTER_TO_MARKER",T="IDENTIFY:CHANGE_PAGE",B="IDENTIFY:CLOSE_IDENTIFY",F="IDENTIFY:CHANGE_FORMAT",S="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",M="IDENTIFY:EDIT_LAYER_FEATURES",P="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",O="IDENTIFY:SET_MAP_TRIGGER",x="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",I="IDENTIFY:SET_SHOW_IN_MAP_POPUP",N="IDENTIFY:IDENTIFY_IS_MOUNTED",A="IDENTIFY:INIT_PLUGIN";function R(e,t,r,n,i){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:i}}function C(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function D(e,t,r,n){return{type:l,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function G(){return{type:g}}function L(){return{type:_}}function k(e,t){return{type:u,reqId:e,request:t}}function j(e,t,r,n){return{type:f,layer:e,request:t,metadata:r,queryableLayers:n}}function U(){return{type:p}}function W(e){return{type:s,infoFormat:e}}function H(){return{type:m}}function Y(){return{type:d}}function V(e){return{type:c,reverseGeocodeData:e.data}}function q(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(V(e))})).catch((function(e){t(V(e))}))}}function z(){return{type:v}}function K(){return{type:E}}function J(e){return{type:w,status:e}}function X(e,t){return{type:y,point:e,layer:t,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null}}function Z(e){return{type:b,point:e}}function $(e){return{type:h,enabled:e}}function Q(e){return{type:T,index:e}}var ee=function(){return{type:B}},te=function(e){return{type:F,format:e}},re=function(e){return{type:S,showCoordinateEditor:e}},ne=function(e){return{type:M,layer:e}},oe=function(e){return{type:P,query:e}},ie=function(e){return{type:O,trigger:e}},le=function(e){return{type:I,value:e}},ae=function(e){return{type:N,isMounted:e}},ue=function(e){return{type:A,cfg:e}}},647310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(375875),o=r.n(n),i=r(531940),l=r.n(i),a=r(737295),u=r.n(a),p={format:"json",bounded:0,polygon_geojson:1,priority:5};const s={geocode:function(e,t){var r=u()({q:e},p,t||{}),n=l().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=u()({lat:e.lat,lon:e.lng},t||{},p),n=l().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},615402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(675263),o=r.n(n),i=r(124852),l=r.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function m(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:String(t)}var c=r(868195).FormattedHTMLMessage,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(m,e);var t,r,n,o,i=(n=m,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(n);if(o){var r=s(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function m(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),i.apply(this,arguments)}return t=m,(r=[{key:"render",value:function(){return this.context.intl?l().createElement(c,{id:this.props.msgId,values:this.props.msgParams}):l().createElement("span",null,this.props.msgId||"")}}])&&u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),m}(l().Component);m(v,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),m(v,"contextTypes",{intl:o().object});const f=v},675516:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>tt});var n=r(322843),o=r(652948);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){var n,o,l,a;n=e,o=t,l=r[t],a=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==i(a)?a:String(a))in n?Object.defineProperty(n,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[o]=l})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={showOutlets:!0,showFootprints:!0,showWatersheds:!0,bmpTypes:[],groupProfiles:[],allBmps:[],statuses:[],targets:[],visibleBmpForm:!1,visibleTargetForm:!1,creatingNewBmp:!1,drawingBmpLayerName:!1,bmpFilterMode:"type",expandedFilter:null,priorities:[{id:0,label:"Not Assigned",value:0,visibility:!0},{id:1,label:"Critical",value:1,visibility:!0},{id:2,label:"Normal",value:2,visibility:!0},{id:3,label:"Low",value:3,visibility:!0}]},s=r(124852),m=r.n(s),d=r(171703),c=r(480681),v=r(351288),f=r(433528),g=r(921914),_=r(95797);function y(e){return!isNaN(e)&&(0|(t=parseFloat(e)))===t;var t}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{t=Math.abs(t),t=isNaN(t)?2:t;var o=e<0?"-":"",i=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),l=i.length>3?i.length%3:0;return o+(l?i.substr(0,l)+n:"")+i.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?r+Math.abs(e-i).toFixed(t).slice(2):"")}catch(e){console.log(e)}}var h=function(e){var t,r;return null!=e&&null!==(t=e.swamm)&&void 0!==t&&t.bmpTypes?null==e||null===(r=e.swamm)||void 0===r?void 0:r.bmpTypes.filter((function(e,t,r){return r.findIndex((function(t){return(null==t?void 0:t.name)===(null==e?void 0:e.name)}))===t})):[]},E=function(e){var t,r,n,o;return(null==e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(t){var r,n,o,i;return parseInt(null==t||null===(r=t.extendedParams)||void 0===r?void 0:r.pk,10)===(null==e||null===(n=e.swamm)||void 0===n||null===(o=n.projectData)||void 0===o||null===(i=o.bmp_outlet)||void 0===i?void 0:i.id)}))[0])||(null==e||null===(n=e.layers)||void 0===n||null===(o=n.flat)||void 0===o?void 0:o.filter((function(t){var r,n,o;return t.name.includes(null==e||null===(r=e.swamm)||void 0===r||null===(n=r.projectData)||void 0===n||null===(o=n.bmp_outlet)||void 0===o?void 0:o.name)}))[0])},w=function(e){var t,r,n,o;return(null==e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(t){var r,n,o,i;return parseInt(null==t||null===(r=t.extendedParams)||void 0===r?void 0:r.pk,10)===(null==e||null===(n=e.swamm)||void 0===n||null===(o=n.projectData)||void 0===o||null===(i=o.bmp_footprint)||void 0===i?void 0:i.id)}))[0])||(null==e||null===(n=e.layers)||void 0===n||null===(o=n.flat)||void 0===o?void 0:o.filter((function(t){var r,n,o;return t.name.includes(null==e||null===(r=e.swamm)||void 0===r||null===(n=r.projectData)||void 0===n||null===(o=n.bmp_footprint)||void 0===o?void 0:o.name)}))[0])},T=function(e){var t,r,n,o;return(null==e||null===(t=e.layers)||void 0===t||null===(r=t.flat)||void 0===r?void 0:r.filter((function(t){var r,n,o,i;return parseInt(null==t||null===(r=t.extendedParams)||void 0===r?void 0:r.pk,10)===(null==e||null===(n=e.swamm)||void 0===n||null===(o=n.projectData)||void 0===o||null===(i=o.bmp_watershed)||void 0===i?void 0:i.id)}))[0])||(null==e||null===(n=e.layers)||void 0===n||null===(o=n.flat)||void 0===o?void 0:o.filter((function(t){var r,n,o;return t.name.includes(null==e||null===(r=e.swamm)||void 0===r||null===(n=r.projectData)||void 0===n||null===(o=n.bmp_watershed)||void 0===o?void 0:o.name)}))[0])},B=function(e){var t,r,n;return null==e||null===(t=e.gnresource)||void 0===t||null===(r=t.initialResource)||void 0===r||null===(n=r.perms)||void 0===n?void 0:n.includes("change_resourcebase")},F=r(580416);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function I(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:String(t)}var A=r(675263),R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(o){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).handleChange=t.handleChange.bind(O(t)),t.handleBmpChange=t.handleBmpChange.bind(O(t)),t.handleGroupProfileChange=t.handleGroupProfileChange.bind(O(t)),t.state={},t}return t=l,(r=[{key:"componentDidMount",value:function(){this.props.setOpenMenuGroupId(null),0!==Object.keys(this.props.storedBmpForm).length||this.props.creatingNewBmp||(this.props.purgeMapInfoResults(),this.props.setMenuGroup(null))}},{key:"componentDidUpdate",value:function(){0===Object.keys(this.props.storedBmpForm).length&&!this.props.creatingNewBmp&&this.props.updatingBmp&&this.props.makeExistingBmpForm(this.props.updatingBmp)}},{key:"render",value:function(){var e,t,r,n,o,i,l,a,u,p,s,d,v,f,g,_,y,b,h,E,w,T,B,F,S,M,P,O,x,I,N,A,R,C,D,G,L,k,j,U,W,H,Y,V,q,z,K,J,X,Z,$,Q,ee,te,re,ne,oe,ie,le,ae,ue,pe,se,me,de,ce,ve,fe,ge,_e,ye,be,he,Ee,we,Te,Be,Fe,Se,Me,Pe,Oe,xe,Ie,Ne,Ae,Re,Ce,De,Ge,Le,ke,je,Ue,We,He,Ye,Ve,qe,ze,Ke,Je,Xe,Ze,$e,Qe,et,tt,rt,nt,ot,it,lt,at,ut,pt,st,mt,dt,ct,vt,ft,gt,_t,yt,bt,ht,Et,wt,Tt,Bt,Ft,St,Mt,Pt,Ot,xt,It,Nt,At,Rt,Ct,Dt,Gt,Lt,kt,jt,Ut,Wt,Ht,Yt,Vt,qt,zt,Kt,Jt,Xt,Zt=this;return m().createElement("div",{id:"swamm-bmp-form-panel",className:"simple-view-panel menu-rows-container"},m().createElement("div",{id:"swamm-bmp-form-grid-header"},m().createElement("div",{className:"simple-view-panel-header"},this.props.storedBmpForm.id?"BMP "+this.props.storedBmpForm.id+": "+(null===(e=this.props.storedBmpForm)||void 0===e?void 0:e.bmpName):"Create a new BMP"),m().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){Zt.props.clearBmpForm(),Zt.props.setComplexBmpForm(!1),Zt.refreshBmpLayers()}})),m().createElement("div",{id:"swamm-bmp-form-grid-col-one"},null!==(t=this.props.storedBmpForm)&&void 0!==t&&t.id?m().createElement("div",{className:"simple-view-panel-item-row"},m().createElement("div",null,"Type: ",null===(r=this.props.storedBmpForm)||void 0===r||null===(n=r.type_data)||void 0===n?void 0:n.name),m().createElement("button",{type:"button",className:"swamm-button",onClick:function(){window.confirm("This will remove any custom data you have entered for the current BMP Type. Are you sure?")&&Zt.props.setChangingBmpType(!0)}},"Edit Type")):null,this.props.requiresOutlet||this.props.complexBmpForm?m().createElement("div",{className:"simple-view-panel-item-row"},m().createElement("div",null,"Outlet Point:"),null!==(o=this.props.storedBmpForm)&&void 0!==o&&o.outlet_fid?m().createElement("button",{type:"button",className:"swamm-button",onClick:function(){var e,t,r;Zt.props.showLoadingBmp(!0),Zt.props.toggleLayer(null===(e=Zt.props.bmpOutletLayer)||void 0===e?void 0:e.id,!0),Zt.drawBmpStep1(null===(t=Zt.props.bmpOutletLayer)||void 0===t?void 0:t.name,null===(r=Zt.props.storedBmpForm)||void 0===r?void 0:r.outlet_fid)}},"Edit Outlet"):m().createElement("button",{type:"button",style:{backgroundColor:"darkgreen"},disabled:!(null!==(i=this.props.storedBmpForm)&&void 0!==i&&i.group_profile_id&&this.props.storedBmpForm.bmpName),className:(null!==(l=this.props.storedBmpForm)&&void 0!==l&&l.group_profile_id&&this.props.storedBmpForm.bmpName,"swamm-button default"),onClick:function(){var e,t;Zt.props.showLoadingBmp(!0),Zt.props.toggleLayer(null===(e=Zt.props.bmpOutletLayer)||void 0===e?void 0:e.id,!0),Zt.drawBmpStep1(null===(t=Zt.props.bmpOutletLayer)||void 0===t?void 0:t.name,null)}},"Locate")):null,this.props.requiresFootprint||this.props.complexBmpForm?m().createElement("div",{className:"simple-view-panel-item-row"},null!==(a=this.props.storedBmpForm)&&void 0!==a&&a.footprint_fid?m().createElement(m().Fragment,null,m().createElement("div",null,"Footprint: ",null!==(u=this.props.storedBmpForm)&&void 0!==u&&u.calculated_footprint_area?(null===(p=this.props.storedBmpForm)||void 0===p||null===(s=p.calculated_footprint_area)||void 0===s?void 0:s.toFixed(2))+" acres":" "),m().createElement("button",{type:"button",className:"swamm-button",onClick:function(){var e,t,r;Zt.props.showLoadingBmp(!0),Zt.props.toggleLayer(null===(e=Zt.props.bmpFootprintLayer)||void 0===e?void 0:e.id,!0),Zt.drawBmpStep1(null===(t=Zt.props.bmpFootprintLayer)||void 0===t?void 0:t.name,null===(r=Zt.props.storedBmpForm)||void 0===r?void 0:r.footprint_fid)}},"Edit Footprint")):m().createElement("button",{type:"button",disabled:!(null!==(d=this.props.storedBmpForm)&&void 0!==d&&d.group_profile_id&&this.props.storedBmpForm.bmpName),className:(null!==(v=this.props.storedBmpForm)&&void 0!==v&&v.group_profile_id&&this.props.storedBmpForm.bmpName,"swamm-button default"),style:{backgroundColor:"darkgreen"},onClick:function(){var e,t;Zt.props.showLoadingBmp(!0),Zt.props.toggleLayer(null===(e=Zt.props.bmpFootprintLayer)||void 0===e?void 0:e.id,!0),Zt.drawBmpStep1(null===(t=Zt.props.bmpFootprintLayer)||void 0===t?void 0:t.name)}},"Draw Footprint")):null,!this.props.requiresWatershed&&!this.props.complexBmpForm||this.props.watershedIsFootprint?null:m().createElement("div",{className:"simple-view-panel-item-row"},null!==(f=this.props.storedBmpForm)&&void 0!==f&&f.watershed_fid?m().createElement(m().Fragment,null,m().createElement("div",null,"Watershed: ",null!==(g=this.props.storedBmpForm)&&void 0!==g&&g.calculated_watershed_area?(null===(_=this.props.storedBmpForm)||void 0===_||null===(y=_.calculated_watershed_area)||void 0===y?void 0:y.toFixed(2))+" acres":" "),m().createElement("button",{type:"button",className:"swamm-button",onClick:function(){var e,t,r;Zt.props.showLoadingBmp(!0),Zt.props.toggleLayer(null===(e=Zt.props.bmpWatershedLayer)||void 0===e?void 0:e.id,!0),Zt.drawBmpStep1(null===(t=Zt.props.bmpWatershedLayer)||void 0===t?void 0:t.name,null===(r=Zt.props.storedBmpForm)||void 0===r?void 0:r.watershed_fid)}},"Edit Watershed")):m().createElement("button",{disabled:!(null!==(b=this.props.storedBmpForm)&&void 0!==b&&b.group_profile_id&&this.props.storedBmpForm.bmpName),className:(null!==(h=this.props.storedBmpForm)&&void 0!==h&&h.group_profile_id&&this.props.storedBmpForm.bmpName,"swamm-button default"),style:{backgroundColor:"darkgreen"},onClick:function(){var e,t,r;Zt.props.showLoadingBmp(!0),Zt.props.toggleLayer(null===(e=Zt.props.bmpWatershedLayer)||void 0===e?void 0:e.id,!0),Zt.drawBmpStep1(null===(t=Zt.props)||void 0===t||null===(r=t.bmpWatershedLayer)||void 0===r?void 0:r.name)}},"Draw Watershed")),m().createElement("div",{className:"simple-view-panel-item-row"},m().createElement("div",null,"Field Identifier:"),m().createElement("input",{type:"text",name:"field_identifier",style:{maxWidth:"fit-content"},value:null===(E=this.props.storedBmpForm)||void 0===E?void 0:E.field_identifier,onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row"},m().createElement("div",{style:{textAlign:"left"}},"Owner details:"),m().createElement("input",{type:"text",name:"owner_identifier",style:{maxWidth:"fit-content"},value:null===(w=this.props.storedBmpForm)||void 0===w?void 0:w.owner_identifier,onChange:this.handleChange,placeholder:"---"})),this.props.complexBmpForm?m().createElement(m().Fragment,null,m().createElement("div",{className:"simple-view-panel-item-row",id:"organization-selector-container"},m().createElement("div",null,"Organization"),m().createElement("select",{id:"organization-selector",name:"group_profile",value:null===(T=this.props.storedBmpForm)||void 0===T||null===(B=T.group_profile)||void 0===B?void 0:B.pk,onChange:this.handleGroupProfileChange,placeholder:null===(F=this.props.storedBmpForm)||void 0===F||null===(S=F.group_profile)||void 0===S?void 0:S.title},this.props.saveableGroupProfiles.map((function(e){return m().createElement("option",{key:e.pk,value:null==e?void 0:e.pk,className:null!=e&&e.saveable?"":"non-savable-group-profile"},e.title)})))),m().createElement("div",{className:"simple-view-panel-item-row",id:"status-selector-container"},m().createElement("div",null,"BMP Status"),m().createElement("select",{id:"status-selector",name:"status",value:null===(M=this.props.storedBmpForm)||void 0===M?void 0:M.status,onChange:this.handleChange},m().createElement("option",{key:"Unknown",value:"Unknown"},"Unknown"),this.props.statuses.filter((function(e){return"Unknown"!==(null==e?void 0:e.name)})).map((function(e){return m().createElement("option",{key:null==e?void 0:e.name,value:null==e?void 0:e.name},null==e?void 0:e.name)})))),m().createElement("div",{className:"simple-view-panel-item-row",id:"priority-selector-container"},m().createElement("div",null,"BMP Priority"),m().createElement("select",{id:"priority-selector",name:"priority",value:null===(P=this.props.storedBmpForm)||void 0===P?void 0:P.priority,onChange:this.handleChange},this.props.priorities.map((function(e){return m().createElement("option",{id:e.id,key:e.id,value:null==e?void 0:e.value},e.label)})))),m().createElement("div",{className:"simple-view-panel-item-row",id:"n_surface_red_percent-selector-container"},m().createElement("div",null,"Surface Nitrogen Reduction Percentage"),m().createElement("input",{type:"number",step:1,name:"override_n_surface_red_percent",value:parseFloat(null===(O=this.props.storedBmpForm)||void 0===O?void 0:O.override_n_surface_red_percent,10).toFixed(0),onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"p_surface_red_percent-selector-container"},m().createElement("div",null,"Surface Phosphorus Reduction Percentage"),m().createElement("input",{type:"number",step:1,name:"override_p_surface_red_percent",value:null===(x=this.props.storedBmpForm)||void 0===x?void 0:x.override_p_surface_red_percent,onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"s_surface_red_percent-selector-container"},m().createElement("div",null,"Surface Sediment Reduction Percentage"),m().createElement("input",{type:"number",step:1,name:"override_s_surface_red_percent",value:parseFloat(null===(I=this.props.storedBmpForm)||void 0===I?void 0:I.override_s_surface_red_percent,10).toFixed(0),onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"n_tiled_red_percent-selector-container"},m().createElement("div",null,"Tiled Nitrogen Reduction Percentage"),m().createElement("input",{type:"number",step:1,name:"override_n_tiled_red_percent",value:parseFloat(null===(N=this.props.storedBmpForm)||void 0===N?void 0:N.override_n_tiled_red_percent,10).toFixed(0),onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"p_tiled_red_percent-selector-container"},m().createElement("div",null,"Tiled Phosphorus Reduction Percentage"),m().createElement("input",{type:"number",step:1,name:"override_p_tiled_red_percent",value:parseFloat(null===(A=this.props.storedBmpForm)||void 0===A?void 0:A.override_p_tiled_red_percent,10).toFixed(0),onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"n_erosion_red_percent-selector-container"},m().createElement("div",null,"Erosion Nitrogen Reduction Percentage"),m().createElement("input",{type:"number",step:1,name:"override_n_erosion_red_percent",value:parseFloat(null===(R=this.props.storedBmpForm)||void 0===R?void 0:R.override_n_erosion_red_percent,10).toFixed(0),onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"p_erosion_red_percent-selector-container"},m().createElement("div",null,"Erosion Phosphorus Reduction Percentage"),m().createElement("input",{type:"number",step:1,name:"override_p_erosion_red_percent",value:parseFloat(null===(C=this.props.storedBmpForm)||void 0===C?void 0:C.override_p_erosion_red_percent,10).toFixed(0),onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"s_erosion_red_percent-selector-container"},m().createElement("div",null,"Erosion Sediment Reduction Percentage"),m().createElement("input",{type:"number",step:1,name:"override_s_erosion_red_percent",value:parseFloat(null===(D=this.props.storedBmpForm)||void 0===D?void 0:D.override_s_erosion_red_percent,10).toFixed(0),onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"override_cost_base-selector-container"},m().createElement("div",null,"Base Cost ($)"),m().createElement("input",{type:"number",step:1,name:"override_cost_base",value:null===(G=this.props.storedBmpForm)||void 0===G?void 0:G.override_cost_base,onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"cost_rate_per_footprint_area-selector-container"},m().createElement("div",null,"Footprint Cost ($/acre)"),m().createElement("input",{type:"number",step:1,name:"override_cost_rate_per_footprint_area",value:null===(L=this.props.storedBmpForm)||void 0===L?void 0:L.override_cost_rate_per_footprint_area,onChange:this.handleChange,placeholder:"---"})),m().createElement("div",{className:"simple-view-panel-item-row",id:"cost_rate_per_watershed_area-selector-container"},m().createElement("div",null,"Watershed Cost ($/acre)"),m().createElement("input",{type:"number",step:1,name:"override_cost_rate_per_watershed_area",value:null===(k=this.props.storedBmpForm)||void 0===k?void 0:k.override_cost_rate_per_watershed_area,onChange:this.handleChange,placeholder:"---"}))):null,m().createElement("div",{style:{marginTop:"10px"}},"Notes"),m().createElement("textarea",{id:"bmp-notes",rows:4,cols:50,name:"notes",value:null===(j=this.props.storedBmpForm)||void 0===j?void 0:j.notes,onChange:this.handleChange})),m().createElement("div",{id:"swamm-bmp-form-grid-col-two"},null===(U=this.props.storedBmpForm)||void 0===U||!U.id||this.props.changingBmpType?m().createElement(m().Fragment,null,m().createElement("div",{style:{textAlign:"left"}},m().createElement("h5",null,"Select a BMP Type..."),null===(W=this.props.bmpTypeGroups)||void 0===W?void 0:W.map((function(e){return m().createElement("div",{key:"group-".concat(e),style:{textAlign:"left",marginLeft:0,marginBottom:"3px",padding:"3px",border:"1px solid white",borderRadius:"3px"}},m().createElement("span",{style:{marginLeft:"15px"},className:"btn glyphicon bmp-type-group-glyph"+(Zt.props.expandedBmpTypeGroupName===e[0]?" glyphicon-chevron-down bmp-type-group-bottom-margin":" glyphicon-chevron-right"),onClick:Zt.props.expandedBmpTypeGroupName===e[0]?function(){return Zt.props.setExpandedBmpTypeGroupName(null)}:function(){return Zt.props.setExpandedBmpTypeGroupName(e[0])}}),m().createElement("span",{className:"bmp-type-group-name"},e[1]),Zt.props.expandedBmpTypeGroupName===e[0]?Zt.props.bmpTypes.filter((function(t){return t.group_name===e[0]})).map((function(e){return m().createElement("div",{key:"bmpType-".concat(null==e?void 0:e.name),style:{marginLeft:"30px"}},m().createElement("input",{id:"bmp-type-selector-box-".concat(null==e?void 0:e.name),type:"radio",name:"bmpType",value:null==e?void 0:e.name,onChange:Zt.handleBmpChange}),m().createElement("label",{htmlFor:"bmp-type-selector-box-".concat(null==e?void 0:e.name),style:{marginLeft:"6px",verticalAlign:"middle"}},null==e?void 0:e.name))})):null)}))),this.props.changingBmpType?m().createElement("button",{type:"button",className:"swamm-button",style:{marginTop:"20px",backgroundColor:"darkgreen"},onClick:function(){return Zt.props.setChangingBmpType(!1)}},"Accept"):null):this.props.complexBmpForm?m().createElement(m().Fragment,null,m().createElement(c.Table,{condensed:!0,bordered:!0,hover:!0,responsive:"sm",className:"text-right",style:{tableLayout:"fixed",border:"solid 1px rgb(255, 255, 255, 0.2)",borderRadius:"2px"}},m().createElement("thead",null,m().createElement("tr",{style:{borderTop:"solid 3px rgb(255, 255, 255, 1)"}},m().createElement("th",{style:{width:"30%"}},"Results"),m().createElement("th",{style:{width:"13%"}},"Surface"),m().createElement("th",{style:{width:"13%"}},"Tiled"),m().createElement("th",{style:{width:"13%","word-break":"break-word"}},"Gully/",m().createElement("wbr",null),"Bank"),m().createElement("th",{style:{width:"10%"}},"Total"),this.props.watershedIsFootprint?m().createElement(m().Fragment,null,m().createElement("th",{style:{width:"10%"}},"Per Acre"),m().createElement("th",{style:{width:"11%"}})):m().createElement("th",{style:{width:"11%"}}))),m().createElement("tbody",null,m().createElement("tr",{style:{borderTop:"solid 3px rgb(255, 255, 255, 1)"}},m().createElement("td",null,"Nitrogen load previous: "),m().createElement("td",null,null===(H=this.props.storedBmpForm)||void 0===H||null===(Y=H.surface_previous_n_load)||void 0===Y?void 0:Y.toFixed(0)),m().createElement("td",null,null===(V=this.props.storedBmpForm)||void 0===V||null===(q=V.tiled_previous_n_load)||void 0===q?void 0:q.toFixed(0)),m().createElement("td",null,parseFloat(null===(z=this.props.storedBmpForm)||void 0===z||null===(K=z.erosion_previous_n_load)||void 0===K?void 0:K.toPrecision(3))),m().createElement("td",null,null===(J=this.props.storedBmpForm)||void 0===J||null===(X=J.total_previous_n_load)||void 0===X?void 0:X.toFixed(0)),this.props.watershedIsFootprint?m().createElement("td",null,((null===(Z=this.props.storedBmpForm)||void 0===Z?void 0:Z.total_previous_n_load)/(null===($=this.props.storedBmpForm)||void 0===$?void 0:$.calculated_footprint_area)).toFixed(1)):null,m().createElement("td",{className:"text-left"},"lbs/",m().createElement("wbr",null),"year")),m().createElement("tr",null,m().createElement("td",null,"Nitrogen load reduction: "),m().createElement("td",null,null===(Q=this.props.storedBmpForm)||void 0===Q||null===(ee=Q.surface_n_load_reduction)||void 0===ee?void 0:ee.toFixed(0)),m().createElement("td",null,null===(te=this.props.storedBmpForm)||void 0===te||null===(re=te.tiled_n_load_reduction)||void 0===re?void 0:re.toFixed(0)),m().createElement("td",null,parseFloat(null===(ne=this.props.storedBmpForm)||void 0===ne||null===(oe=ne.erosion_n_load_reduction)||void 0===oe?void 0:oe.toPrecision(3))),m().createElement("td",null,null===(ie=this.props.storedBmpForm)||void 0===ie||null===(le=ie.total_n_load_reduction)||void 0===le?void 0:le.toFixed(0)),this.props.watershedIsFootprint?m().createElement("td",null,((null===(ae=this.props.storedBmpForm)||void 0===ae?void 0:ae.total_n_load_reduction)/(null===(ue=this.props.storedBmpForm)||void 0===ue?void 0:ue.calculated_footprint_area)).toFixed(1)):null,m().createElement("td",{className:"text-left"},"lbs/",m().createElement("wbr",null),"year")),m().createElement("tr",null,m().createElement("td",null,"Nitrogen load new: "),m().createElement("td",null,null===(pe=this.props.storedBmpForm)||void 0===pe||null===(se=pe.surface_new_n_load)||void 0===se?void 0:se.toFixed(0)),m().createElement("td",null,null===(me=this.props.storedBmpForm)||void 0===me||null===(de=me.tiled_new_n_load)||void 0===de?void 0:de.toFixed(0)),m().createElement("td",null,parseFloat(null===(ce=this.props.storedBmpForm)||void 0===ce||null===(ve=ce.erosion_new_n_load)||void 0===ve?void 0:ve.toPrecision(3))),m().createElement("td",null,null===(fe=this.props.storedBmpForm)||void 0===fe||null===(ge=fe.total_new_n_load)||void 0===ge?void 0:ge.toFixed(0)),this.props.watershedIsFootprint?m().createElement("td",null,((null===(_e=this.props.storedBmpForm)||void 0===_e?void 0:_e.total_new_n_load)/(null===(ye=this.props.storedBmpForm)||void 0===ye?void 0:ye.calculated_footprint_area)).toFixed(1)):null,m().createElement("td",{className:"text-left"},"lbs/",m().createElement("wbr",null),"year")),m().createElement("tr",{style:{borderTop:"solid 3px rgb(255, 255, 255, 1)"}},m().createElement("td",null,"Phosphorus load previous: "),m().createElement("td",null,null===(be=this.props.storedBmpForm)||void 0===be||null===(he=be.surface_previous_p_load)||void 0===he?void 0:he.toFixed(0)),m().createElement("td",null,null===(Ee=this.props.storedBmpForm)||void 0===Ee||null===(we=Ee.tiled_previous_p_load)||void 0===we?void 0:we.toFixed(0)),m().createElement("td",null,parseFloat(null===(Te=this.props.storedBmpForm)||void 0===Te||null===(Be=Te.erosion_previous_p_load)||void 0===Be?void 0:Be.toPrecision(3))),m().createElement("td",null,null===(Fe=this.props.storedBmpForm)||void 0===Fe||null===(Se=Fe.total_previous_p_load)||void 0===Se?void 0:Se.toFixed(0)),this.props.watershedIsFootprint?m().createElement("td",null,((null===(Me=this.props.storedBmpForm)||void 0===Me?void 0:Me.total_previous_p_load)/(null===(Pe=this.props.storedBmpForm)||void 0===Pe?void 0:Pe.calculated_footprint_area)).toFixed(1)):null,m().createElement("td",{className:"text-left"},"lbs/",m().createElement("wbr",null),"year")),m().createElement("tr",null,m().createElement("td",null,"Phosphorus load reduction: "),m().createElement("td",null,null===(Oe=this.props.storedBmpForm)||void 0===Oe||null===(xe=Oe.surface_p_load_reduction)||void 0===xe?void 0:xe.toFixed(0)),m().createElement("td",null,null===(Ie=this.props.storedBmpForm)||void 0===Ie||null===(Ne=Ie.tiled_p_load_reduction)||void 0===Ne?void 0:Ne.toFixed(0)),m().createElement("td",null,parseFloat(null===(Ae=this.props.storedBmpForm)||void 0===Ae||null===(Re=Ae.erosion_p_load_reduction)||void 0===Re?void 0:Re.toPrecision(3))),m().createElement("td",null,null===(Ce=this.props.storedBmpForm)||void 0===Ce||null===(De=Ce.total_p_load_reduction)||void 0===De?void 0:De.toFixed(0)),this.props.watershedIsFootprint?m().createElement("td",null,((null===(Ge=this.props.storedBmpForm)||void 0===Ge?void 0:Ge.total_p_load_reduction)/(null===(Le=this.props.storedBmpForm)||void 0===Le?void 0:Le.calculated_footprint_area)).toFixed(1)):null,m().createElement("td",{className:"text-left"},"lbs/",m().createElement("wbr",null),"year")),m().createElement("tr",null,m().createElement("td",null,"Phosphorus load new: "),m().createElement("td",null,null===(ke=this.props.storedBmpForm)||void 0===ke||null===(je=ke.surface_new_p_load)||void 0===je?void 0:je.toFixed(0)),m().createElement("td",null,null===(Ue=this.props.storedBmpForm)||void 0===Ue||null===(We=Ue.tiled_new_p_load)||void 0===We?void 0:We.toFixed(0)),m().createElement("td",null,parseFloat(null===(He=this.props.storedBmpForm)||void 0===He||null===(Ye=He.erosion_new_p_load)||void 0===Ye?void 0:Ye.toPrecision(3))),m().createElement("td",null,null===(Ve=this.props.storedBmpForm)||void 0===Ve||null===(qe=Ve.total_new_p_load)||void 0===qe?void 0:qe.toFixed(0)),this.props.watershedIsFootprint?m().createElement("td",null,((null===(ze=this.props.storedBmpForm)||void 0===ze?void 0:ze.total_new_p_load)/(null===(Ke=this.props.storedBmpForm)||void 0===Ke?void 0:Ke.calculated_footprint_area)).toFixed(1)):null,m().createElement("td",{className:"text-left"},"lbs/",m().createElement("wbr",null),"year")),m().createElement("tr",{style:{borderTop:"solid 3px rgb(255, 255, 255, 1)"}},m().createElement("td",null,"Sediment load previous: "),m().createElement("td",null,null===(Je=this.props.storedBmpForm)||void 0===Je||null===(Xe=Je.surface_previous_s_load)||void 0===Xe?void 0:Xe.toFixed(0)),m().createElement("td",null,null===(Ze=this.props.storedBmpForm)||void 0===Ze||null===($e=Ze.tiled_previous_s_load)||void 0===$e?void 0:$e.toFixed(0)),m().createElement("td",null,parseFloat(null===(Qe=this.props.storedBmpForm)||void 0===Qe||null===(et=Qe.erosion_previous_s_load)||void 0===et?void 0:et.toPrecision(3))),m().createElement("td",null,null===(tt=this.props.storedBmpForm)||void 0===tt||null===(rt=tt.total_previous_s_load)||void 0===rt?void 0:rt.toFixed(0)),this.props.watershedIsFootprint?m().createElement("td",null,((null===(nt=this.props.storedBmpForm)||void 0===nt?void 0:nt.total_previous_s_load)/(null===(ot=this.props.storedBmpForm)||void 0===ot?void 0:ot.calculated_footprint_area)).toFixed(1)):null,m().createElement("td",{className:"text-left"},"tons/",m().createElement("wbr",null),"year")),m().createElement("tr",null,m().createElement("td",null,"Sediment load reduction: "),m().createElement("td",null,null===(it=this.props.storedBmpForm)||void 0===it||null===(lt=it.surface_s_load_reduction)||void 0===lt?void 0:lt.toFixed(0)),m().createElement("td",null,null===(at=this.props.storedBmpForm)||void 0===at||null===(ut=at.tiled_s_load_reduction)||void 0===ut?void 0:ut.toFixed(0)),m().createElement("td",null,parseFloat(null===(pt=this.props.storedBmpForm)||void 0===pt||null===(st=pt.erosion_s_load_reduction)||void 0===st?void 0:st.toPrecision(3))),m().createElement("td",null,null===(mt=this.props.storedBmpForm)||void 0===mt||null===(dt=mt.total_s_load_reduction)||void 0===dt?void 0:dt.toFixed(0)),this.props.watershedIsFootprint?m().createElement("td",null,((null===(ct=this.props.storedBmpForm)||void 0===ct?void 0:ct.total_s_load_reduction)/(null===(vt=this.props.storedBmpForm)||void 0===vt?void 0:vt.calculated_footprint_area)).toFixed(1)):null,m().createElement("td",{className:"text-left"},"tons/",m().createElement("wbr",null),"year")),m().createElement("tr",{style:{borderBottom:"solid 3px rgb(255, 255, 255, 1)"}},m().createElement("td",null,"Sediment load new: "),m().createElement("td",null,null===(ft=this.props.storedBmpForm)||void 0===ft||null===(gt=ft.surface_new_s_load)||void 0===gt?void 0:gt.toFixed(0)),m().createElement("td",null,null===(_t=this.props.storedBmpForm)||void 0===_t||null===(yt=_t.tiled_new_s_load)||void 0===yt?void 0:yt.toFixed(0)),m().createElement("td",null,parseFloat(null===(bt=this.props.storedBmpForm)||void 0===bt||null===(ht=bt.erosion_new_s_load)||void 0===ht?void 0:ht.toPrecision(3))),m().createElement("td",null,null===(Et=this.props.storedBmpForm)||void 0===Et||null===(wt=Et.total_new_s_load)||void 0===wt?void 0:wt.toFixed(0)),this.props.watershedIsFootprint?m().createElement("td",null,((null===(Tt=this.props.storedBmpForm)||void 0===Tt?void 0:Tt.total_new_s_load)/(null===(Bt=this.props.storedBmpForm)||void 0===Bt?void 0:Bt.calculated_footprint_area)).toFixed(1)):null,m().createElement("td",{className:"text-left"},"tons/",m().createElement("wbr",null),"year")),m().createElement("tr",null,m().createElement("td",null,"Potential Incentive Payment:"),null!==(Ft=this.props.storedBmpForm)&&void 0!==Ft&&Ft.calculated_total_cost?m().createElement("td",null,"$",Number(null===(St=this.props.storedBmpForm)||void 0===St||null===(Mt=St.calculated_total_cost)||void 0===Mt?void 0:Mt.toFixed(0)).toLocaleString()):m().createElement("td",null),m().createElement("td",null)),m().createElement("tr",null,m().createElement("td",null,"Nitrogen reduction value: "),null!==(Pt=this.props.storedBmpForm)&&void 0!==Pt&&Pt.total_cost_per_lbs_n_reduced?m().createElement("td",null,Number(null===(Ot=this.props.storedBmpForm)||void 0===Ot||null===(xt=Ot.total_cost_per_lbs_n_reduced)||void 0===xt?void 0:xt.toFixed(0)).toLocaleString()):m().createElement("td",null),m().createElement("td",{className:"text-left"},"$/lb/",m().createElement("wbr",null),"year")),m().createElement("tr",null,m().createElement("td",null,"Phosphorus reduction value: "),null!==(It=this.props.storedBmpForm)&&void 0!==It&&It.total_cost_per_lbs_p_reduced?m().createElement("td",null,Number(null===(Nt=this.props.storedBmpForm)||void 0===Nt||null===(At=Nt.total_cost_per_lbs_p_reduced)||void 0===At?void 0:At.toFixed(0)).toLocaleString()):m().createElement("td",null),m().createElement("td",{className:"text-left"},"$/lb/",m().createElement("wbr",null),"year")),m().createElement("tr",null,m().createElement("td",null,"Sediment reduction value: "),null!==(Rt=this.props.storedBmpForm)&&void 0!==Rt&&Rt.total_cost_per_ton_s_reduced?m().createElement("td",null,Number(null===(Ct=this.props.storedBmpForm)||void 0===Ct||null===(Dt=Ct.total_cost_per_ton_s_reduced)||void 0===Dt?void 0:Dt.toFixed(0)).toLocaleString()):m().createElement("td",null),m().createElement("td",{className:"text-left"},"$/ton/",m().createElement("wbr",null),"year")))),null!==(Gt=this.props.storedBmpForm)&&void 0!==Gt&&Gt.created_by?m().createElement("p",null,"Created by: ",null===(Lt=this.props.storedBmpForm)||void 0===Lt?void 0:Lt.created_by," on ",new Date(null===(kt=this.props.storedBmpForm)||void 0===kt?void 0:kt.created_at).toLocaleString()):null,null!==(jt=this.props.storedBmpForm)&&void 0!==jt&&jt.updated_by?m().createElement("p",null,"Updated by: ",null===(Ut=this.props.storedBmpForm)||void 0===Ut?void 0:Ut.updated_by," on ",new Date(null===(Wt=this.props.storedBmpForm)||void 0===Wt?void 0:Wt.updated_at).toLocaleString()):null):m().createElement(c.Table,{bordered:!0,condensed:!0,hover:!0,responsive:"sm",style:{tableLayout:"fixed",border:"solid 1px rgb(255, 255, 255, 0.2)",borderRadius:"2px"},className:"text-right"},m().createElement("thead",null,m().createElement("tr",null,m().createElement("th",null,"Results"),m().createElement("th",{style:{width:"100px"}},"Total"),m().createElement("th",null))),m().createElement("tbody",null,m().createElement("tr",null,m().createElement("td",null,"Nitrogen load reduction: "),m().createElement("td",null,null===(Ht=this.props.storedBmpForm)||void 0===Ht||null===(Yt=Ht.total_n_load_reduction)||void 0===Yt?void 0:Yt.toFixed(0)),m().createElement("td",{className:"text-left"},"lbs/year")),m().createElement("tr",null,m().createElement("td",null,"Phosphorus load reduction: "),m().createElement("td",null,null===(Vt=this.props.storedBmpForm)||void 0===Vt||null===(qt=Vt.total_p_load_reduction)||void 0===qt?void 0:qt.toFixed(0)),m().createElement("td",{className:"text-left"},"lbs/year")),m().createElement("tr",null,m().createElement("td",null,"Sediment load reduction: "),m().createElement("td",null,null===(zt=this.props.storedBmpForm)||void 0===zt||null===(Kt=zt.total_s_load_reduction)||void 0===Kt?void 0:Kt.toFixed(0)),m().createElement("td",{className:"text-left"},"tons/year"))))),m().createElement("div",{id:"swamm-bmp-form-grid-footer",className:"simple-view-panel-item-row",style:{display:"flex",justifyContent:"flex-end"}},null!==(Jt=this.props.storedBmpForm)&&void 0!==Jt&&Jt.id?m().createElement(m().Fragment,null,this.props.complexBmpForm?m().createElement("button",{type:"button",className:"swamm-button",onClick:function(){return Zt.props.setComplexBmpForm(!1)}},"Simple"):m().createElement("button",{type:"button",className:"swamm-button",onClick:function(){return Zt.props.setComplexBmpForm(!0)}},"Advanced"),m().createElement("button",{type:"button",className:"swamm-button",onClick:function(){var e;Zt.props.downloadBmpReport(null===(e=Zt.props.storedBmpForm)||void 0===e?void 0:e.id)}},"Make PDF")):null,m().createElement("button",{type:"button",className:"swamm-button",onClick:function(){Zt.props.hideBmpForm(),Zt.refreshBmpLayers()}},"View Map"),m().createElement("button",{type:"button",disabled:!!this.props.standard_url,className:"swamm-button ".concat(this.props.standard_url?"":"swamm-button-disabled"),onClick:function(){return window.open(Zt.props.standard_url,"_blank")}},"Description"),null!==(Xt=this.props.storedBmpForm)&&void 0!==Xt&&Xt.id?m().createElement("button",{type:"button",className:"swamm-button",style:{backgroundColor:"darkred"},onClick:function(){var e;window.confirm("This action can not be undone. Are you sure?")&&Zt.props.deleteBmp(Zt.props.projectId,null===(e=Zt.props.storedBmpForm)||void 0===e?void 0:e.id)}},"Delete"):null,m().createElement("button",{type:"button",className:this.props.hasGeometry?"swamm-button":"swamm-button disabled",style:{backgroundColor:"darkgreen"},onClick:function(){Zt.props.submitBmpForm(Zt.props.storedBmpForm,Zt.props.projectId)}},"Save")))}},{key:"validateRatio",value:function(e){var t=this.props.storedBmpForm[e];return t<1&&t>0?"success":1===t?"warning":t>1||t<0?"error":null}},{key:"validateCost",value:function(e){var t=this.props.storedBmpForm[e];return t>=0?"success":t<0?"error":null}},{key:"validateFid",value:function(e){var t=this.props.storedBmpForm[e];return t>=0&&y(t)?"success":t<0?"error":null}},{key:"handleChange",value:function(e){var t=e.target.name,r=e.target.value,n=I({},t,r);"number"===e.target.type&&(n=I({},t,parseFloat(r))),this.props.updateBmpForm(n)}},{key:"handleGroupProfileChange",value:function(e){var t=e.target.name,r=JSON.parse(e.target.value),n=I({},t,this.props.groupProfiles.filter((function(e){return(null==e?void 0:e.pk)===r}))[0]);this.props.updateBmpForm(n)}},{key:"handleBmpChange",value:function(e){var t=e.target.value,r=this.props.bmpTypes.filter((function(e){return(null==e?void 0:e.name)===t}))[0];this.props.makeDefaultsBmpForm(r)}},{key:"drawBmpStep1",value:function(e,t){var r,n,o;console.log("this.props.bmpOutletLayer?.id",null===(r=this.props.bmpOutletLayer)||void 0===r?void 0:r.id),console.log("this.props.bmpFootprintLayer?.id",null===(n=this.props.bmpFootprintLayer)||void 0===n?void 0:n.id),console.log("this.props.bmpWatershedLayer?.id",null===(o=this.props.bmpWatershedLayer)||void 0===o?void 0:o.id),this.refreshBmpLayers(),this.props.hideBmpForm();var i=this.props.layers.flat.filter((function(t){return null==t?void 0:t.name.includes(e)}))[0];console.log("drawBmpStep1 targetLayer",i),console.log("drawBmpStep1 layerName",e),console.log("drawBmpStep1 featureId",t),this.props.setDrawingBmpLayerName(null==i?void 0:i.name),t?this.props.setEditingBmpFeatureId(t):this.props.clearEditingBmpFeatureId(),this.props.toggleLayer(i.id,!0),this.props.setLayer(null==i?void 0:i.id),this.props.featureTypeSelected("http://localhost:8080/geoserver/wfs",null==i?void 0:i.name),console.log("drawBmpStep1 finished")}},{key:"refreshBmpLayers",value:function(){var e,t,r;this.props.refreshLayerVersion(null===(e=this.props.bmpOutletLayer)||void 0===e?void 0:e.id),this.props.refreshLayerVersion(null===(t=this.props.bmpFootprintLayer)||void 0===t?void 0:t.id),this.props.refreshLayerVersion(null===(r=this.props.bmpWatershedLayer)||void 0===r?void 0:r.id)}}])&&M(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(m().Component);I(R,"propTypes",{bmpTypeId:A.number,bmpTypes:A.array,bmpTypeGroups:A.array,statuses:A.array,setMenuGroup:A.func,priorities:A.array,setOpenMenuGroupId:A.func,creatingNewBmp:A.bool,updatingBmp:A.object,hideLoadingBmp:A.func,showLoadingBmp:A.func,hideBmpForm:A.func,submitBmpForm:A.func,showSubmitBmpFormSuccess:A.bool,showSubmitBmpFormError:A.bool,storeBmpForm:A.func,complexBmpForm:A.bool,setComplexBmpForm:A.func,thisBmpType:A.object,newBmpForm:A.object,storedBmpForm:A.object,clearBmpForm:A.func,groupProfiles:A.array,saveableGroupProfiles:A.array,makeDefaultsBmpForm:A.func,makeExistingBmpForm:A.func,updateBmpForm:A.func,setLayer:A.func,featureTypeSelected:A.func,toggleEditMode:A.func,createNewFeatures:A.func,createQuery:A.func,startDrawingFeature:A.func,saveChanges:A.func,setDrawingBmpLayerName:A.func,setEditingBmpFeatureId:A.func,clearEditingBmpFeatureId:A.func,layers:A.object,query:A.func,projectId:A.number,purgeMapInfoResults:A.func,bmpUniqueNames:A.array,setHighlightFeaturesPath:A.func,projectData:A.object,toggleLayer:A.func,bmpOutletLayer:A.object,bmpFootprintLayer:A.object,bmpWatershedLayer:A.object,hasGeometry:A.bool,requiresOutlet:A.bool,requiresFootprint:A.bool,requiresWatershed:A.bool,watershedIsFootprint:A.bool,changingBmpType:A.bool,deleteBmp:A.func,setChangingBmpType:A.func,cppe_url:A.string,standard_url:A.string,ned_url:A.string,infosheet_url:A.string,downloadBmpReport:A.func,refreshLayerVersion:A.func,expandedBmpTypeGroupName:A.string,setExpandedBmpTypeGroupName:A.func}),I(R,"defaultProps",{});var C=(0,d.connect)((function(e){var t,r,n,o,i,l,a,u,p,s,m,d,c,v,f,g,_,y,b,B,F,S,M,P,O,x,I,N,A,R,C,D,G,L,k,j,U,W,H,Y,V,q,z,K,J,X,Z=(null==e||null===(t=e.swamm)||void 0===t?void 0:t.groupProfiles.filter((function(e){return!["anonymous","registered-members","admin","swamm-users","illinois-pork-producers"].includes(e.slug)}))).filter((function(t){var r,n,o;return null==e||null===(r=e.swamm)||void 0===r||null===(n=r.projectData)||void 0===n||null===(o=n.permitted_groups.map((function(e){return e.pk})))||void 0===o?void 0:o.includes(t.pk)})).map((function(t){var r,n,o,i;return t.saveable=null==e||null===(r=e.security)||void 0===r||null===(n=r.user)||void 0===n||null===(o=n.info)||void 0===o||null===(i=o.groups)||void 0===i?void 0:i.includes(null==t?void 0:t.slug),t}));return{projectId:null==e||null===(r=e.swamm)||void 0===r||null===(n=r.projectData)||void 0===n?void 0:n.id,projectData:null==e||null===(o=e.swamm)||void 0===o?void 0:o.projectData,bmpUniqueNames:h(e).map((function(e){return null==e?void 0:e.name})),bmpTypes:null==e||null===(i=e.swamm)||void 0===i?void 0:i.bmpTypes,bmpTypeGroups:(null==e||null===(l=e.swamm)||void 0===l?void 0:l.bmpTypeGroups)||[],expandedBmpTypeGroupName:null==e||null===(a=e.swamm)||void 0===a?void 0:a.expandedBmpTypeGroupName,saveableGroupProfiles:Z,statuses:null==e||null===(u=e.swamm)||void 0===u?void 0:u.statuses,priorities:null==e||null===(p=e.swamm)||void 0===p?void 0:p.priorities,thisBmpType:null==e||null===(s=e.swamm)||void 0===s?void 0:s.bmpTypes.filter((function(t){var r;return t.id===(null==e||null===(r=e.swamm)||void 0===r?void 0:r.BmpFormBmpTypeId)}))[0],storedBmpForm:(null==e||null===(m=e.swamm)||void 0===m?void 0:m.storedBmpForm)||{},complexBmpForm:(null==e||null===(d=e.swamm)||void 0===d?void 0:d.complexBmpForm)||!1,bmpOutletLayer:E(e),bmpFootprintLayer:w(e),bmpWatershedLayer:T(e),hasGeometry:(null==e||null===(c=e.swamm)||void 0===c||null===(v=c.storedBmpForm)||void 0===v?void 0:v.outlet_fid)||(null==e||null===(f=e.swamm)||void 0===f||null===(g=f.storedBmpForm)||void 0===g?void 0:g.footprint_fid)||(null==e||null===(_=e.swamm)||void 0===_||null===(y=_.storedBmpForm)||void 0===y?void 0:y.watershed_fid),requiresOutlet:null==e||null===(b=e.swamm)||void 0===b||null===(B=b.storedBmpForm)||void 0===B||null===(F=B.type_data)||void 0===F?void 0:F.requires_outlet,requiresFootprint:null==e||null===(S=e.swamm)||void 0===S||null===(M=S.storedBmpForm)||void 0===M||null===(P=M.type_data)||void 0===P?void 0:P.requires_footprint,requiresWatershed:null==e||null===(O=e.swamm)||void 0===O||null===(x=O.storedBmpForm)||void 0===x||null===(I=x.type_data)||void 0===I?void 0:I.requires_watershed,watershedIsFootprint:null==e||null===(N=e.swamm)||void 0===N||null===(A=N.storedBmpForm)||void 0===A||null===(R=A.type_data)||void 0===R?void 0:R.watershed_is_footprint,cppe_url:null==e||null===(C=e.swamm)||void 0===C||null===(D=C.storedBmpForm)||void 0===D||null===(G=D.type_data)||void 0===G?void 0:G.cppe_url,standard_url:null==e||null===(L=e.swamm)||void 0===L||null===(k=L.storedBmpForm)||void 0===k||null===(j=k.type_data)||void 0===j?void 0:j.standard_url,ned_url:null==e||null===(U=e.swamm)||void 0===U||null===(W=U.storedBmpForm)||void 0===W||null===(H=W.type_data)||void 0===H?void 0:H.ned_url,infosheet_url:null==e||null===(Y=e.swamm)||void 0===Y||null===(V=Y.storedBmpForm)||void 0===V||null===(q=V.type_data)||void 0===q?void 0:q.infosheet_url,creatingNewBmp:null==e||null===(z=e.swamm)||void 0===z?void 0:z.creatingNewBmp,changingBmpType:null==e||null===(K=e.swamm)||void 0===K?void 0:K.changingBmpType,updatingBmp:null==e||null===(J=e.swamm)||void 0===J?void 0:J.updatingBmp,groupProfiles:null==e||null===(X=e.swamm)||void 0===X?void 0:X.groupProfiles,layers:null==e?void 0:e.layers,query:null==e?void 0:e.query}}),(function(e){return{setMenuGroup:function(t){return e((0,o.setMenuGroup)(t))},setOpenMenuGroupId:function(t){return e((0,v.setOpenMenuGroupId)(t))},hideBmpForm:function(){return e((0,o.hideBmpForm)())},hideLoadingBmp:function(){return e((0,o.hideLoadingBmp)())},showLoadingBmp:function(){return e((0,o.showLoadingBmp)())},submitBmpForm:function(t,r){return e((0,o.submitBmpForm)(t,r))},updateBmpForm:function(t){return e((0,o.updateBmpForm)(t))},clearBmpForm:function(){return e((0,o.clearBmpForm)())},deleteBmp:function(t,r){return e((0,o.deleteBmp)(t,r))},makeDefaultsBmpForm:function(t){return e((0,o.makeDefaultsBmpForm)(t))},setChangingBmpType:function(t){return e((0,o.setChangingBmpType)(t))},setExpandedBmpTypeGroupName:function(t){return e((0,o.setExpandedBmpTypeGroupName)(t))},setComplexBmpForm:function(t){return e((0,o.setComplexBmpForm)(t))},setLayer:function(t){return e((0,f.uF)(t))},setDrawingBmpLayerName:function(t){return e((0,o.setDrawingBmpLayerName)(t))},setEditingBmpFeatureId:function(t){return e((0,o.setEditingBmpFeatureId)(t))},clearEditingBmpFeatureId:function(){return e((0,o.clearEditingBmpFeatureId)())},featureTypeSelected:function(t,r){return e((0,_.gT)(t,r))},toggleEditMode:function(){return e((0,f.lg)())},toggleLayer:function(t,r){return e((0,F.He)(t,{visibility:r}))},createNewFeatures:function(t){return e((0,f.lx)(t))},createQuery:function(t,r){return e((0,_.rP)(t,r))},query:function(t,r,n,o){return e((0,_.IO)(t,r,n,o))},startDrawingFeature:function(){return e((0,f.kA)())},saveChanges:function(){return e((0,f.$S)())},purgeMapInfoResults:function(){return e((0,g.g)())},makeExistingBmpForm:function(t){return e((0,o.makeExistingBmpForm)(t))},downloadBmpReport:function(t){return e((0,o.downloadBmpReport)(t))},refreshLayerVersion:function(t,r){return e((0,F.ct)(t,r))}}}))(R),D=r(893379),G=r.n(D),L=r(666129);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function Y(e,t,r){return(t=V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=function(e,t){if("object"!=k(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:String(t)}G()(L.Z,{insert:"head",singleton:!1}),L.Z.locals;var q=r(675263),z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(n);if(o){var r=H(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).handleChange=t.handleChange.bind(W(t)),t.handleMultiSelection=t.handleMultiSelection.bind(W(t)),t.state={},t}return t=l,(r=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t,r,n,o,i,l,a,u,p,s,d,c,v=this;return m().createElement("div",{id:"swamm-target-form-panel",className:"simple-view-panel menu-rows-container"},m().createElement("div",{id:"swamm-target-form-header"},m().createElement("div",{className:"swamm-bmp-chart-heading"},this.props.targetForm.id?"Edit Target: "+(null===(e=this.props.targetForm)||void 0===e?void 0:e.name):"Create a new Target"),m().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){v.props.hideTargetForm()}})),m().createElement("div",{id:"swamm-target-form-body"},m().createElement("div",{id:"swamm-target-form-col-one"},m().createElement("div",{className:"swamm-target-row"},m().createElement("div",{style:{marginRight:"15px"}},"Target Name:"),m().createElement("input",{type:"text",name:"name",style:{width:"200px",maxWidth:"200px",textAlign:"left"},value:null===(t=this.props.targetForm)||void 0===t?void 0:t.name,onChange:this.handleChange})),m().createElement("div",{className:"swamm-target-row"},m().createElement("div",null,"Description:")),m().createElement("div",{className:"swamm-target-row"},m().createElement("textarea",{id:"swamm-target-description-textarea",style:{boderRadius:"4px",marginBottom:"15px"},rows:4,cols:50,name:"description",value:null===(r=this.props.targetForm)||void 0===r?void 0:r.description,onChange:this.handleChange})),m().createElement("div",{id:"swamm-target-percentages"},m().createElement("div",{className:"swamm-target-form-heading"},"Set Targets:"),m().createElement("div",{className:"swamm-target-row"},m().createElement("div",{style:{width:"90px"}},"Nitrogen:"),m().createElement("input",{type:"number",step:1,name:"target_percent_n_reduction",value:(100*(null===(n=this.props.targetForm)||void 0===n?void 0:n.target_percent_n_reduction)).toFixed(0),onChange:this.handleChange}),m().createElement("div",{style:{marginLeft:"4px"}},"% reduction")),m().createElement("div",{className:"swamm-target-row"},m().createElement("div",{style:{width:"90px"}},"Phosphorus:"),m().createElement("input",{type:"number",step:1,name:"target_percent_p_reduction",value:(100*(null===(o=this.props.targetForm)||void 0===o?void 0:o.target_percent_p_reduction)).toFixed(0),onChange:this.handleChange}),m().createElement("div",{style:{marginLeft:"4px"}},"% reduction")),m().createElement("div",{className:"swamm-target-row"},m().createElement("div",{style:{width:"90px"}},"Sediment:"),m().createElement("input",{type:"number",step:1,name:"target_percent_s_reduction",value:(100*(null===(i=this.props.targetForm)||void 0===i?void 0:i.target_percent_s_reduction)).toFixed(0),onChange:this.handleChange}),m().createElement("div",{style:{marginLeft:"4px"}},"% reduction")))),m().createElement("div",{id:"swamm-target-form-col-two"},m().createElement("div",{className:"swamm-target-form-heading"},"Include BMPs from these organizations:"),m().createElement("select",{multiple:!0,name:"group_profiles",className:"swamm-target-select",value:null===(l=this.props.targetForm)||void 0===l?void 0:l.group_profiles,onChange:this.handleMultiSelection,style:{height:"200px"}},null===(a=this.props.viewableGroupProfiles)||void 0===a?void 0:a.map((function(e){return m().createElement("option",{value:e.pk},e.title)}))),m().createElement("div",{className:"swamm-target-form-heading"},"Include these BMP types:"),m().createElement("select",{multiple:!0,name:"bmp_types",className:"swamm-target-select",value:null===(u=this.props.targetForm)||void 0===u?void 0:u.bmp_types,onChange:this.handleMultiSelection,style:{height:"200px"}},null===(p=this.props.bmpTypes)||void 0===p?void 0:p.map((function(e){return m().createElement("option",{value:e.id},e.name)}))),m().createElement("div",{className:"swamm-target-form-heading"},"Include these BMP statuses:"),m().createElement("select",{multiple:!0,name:"statuses",className:"swamm-target-select",value:null===(s=this.props.targetForm)||void 0===s?void 0:s.statuses,onChange:this.handleMultiSelection,style:{height:"200px"}},null===(d=this.props.statuses)||void 0===d?void 0:d.map((function(e){return m().createElement("option",{value:e.name},e.name)}))))),m().createElement("div",{id:"swamm-target-form-footer"},m().createElement("button",{className:"swamm-button",onClick:function(){return v.props.hideTargetForm()}},"Close"),m().createElement("button",{className:"swamm-button",style:{backgroundColor:"darkgreen"},onClick:function(){v.props.submitTargetForm(v.props.targetForm,v.props.projectId)}},"Save Target"),null!==(c=this.props.targetForm)&&void 0!==c&&c.id?m().createElement("button",{className:"swamm-button",style:{backgroundColor:"darkred"},onClick:function(){var e;window.confirm("This action can not be undone. Are you sure?")&&v.props.deleteTarget(v.props.projectId,null===(e=v.props.targetForm)||void 0===e?void 0:e.id)}},"Delete Target"):null))}},{key:"handleMultiSelection",value:function(e){var t=Y({},e.target.name,Array.from(e.target.selectedOptions,(function(e){return e.value})));this.props.updateTargetForm(t)}},{key:"handleChange",value:function(e){var t=e.target.name,r=e.target.value,n=Y({},t,r);"number"===e.target.type&&e.target.name.includes("target_percent_")&&(n=Y({},t,parseInt(r,10)/100)),this.props.updateTargetForm(n)}},{key:"validatePercentage",value:function(e){var t=this.props.targetForm[e];return t<1&&t>0?"success":1===t?"warning":t>1||t<0?"error":null}}])&&j(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(m().Component);Y(z,"propTypes",{projectId:q.number,targetForm:q.object,hideTargetForm:q.func,deleteTarget:q.func,clearTargetForm:q.func,submitTargetForm:q.func,updateTargetForm:q.func,viewableGroupProfiles:q.array,bmpTypes:q.array,statuses:q.array}),Y(z,"defaultProps",{});var K=(0,d.connect)((function(e){var t,r,n,o,i,l,a=(null==e||null===(t=e.swamm)||void 0===t?void 0:t.groupProfiles.filter((function(e){return!["anonymous","registered-members","admin","swamm-users","illinois-pork-producers"].includes(e.slug)}))).filter((function(t){var r,n,o;return null==e||null===(r=e.swamm)||void 0===r||null===(n=r.projectData)||void 0===n||null===(o=n.permitted_groups.map((function(e){return e.pk})))||void 0===o?void 0:o.includes(t.pk)}));return{projectId:null==e||null===(r=e.swamm)||void 0===r||null===(n=r.projectData)||void 0===n?void 0:n.id,bmpTypes:null==e||null===(o=e.swamm)||void 0===o?void 0:o.bmpTypes,statuses:null==e||null===(i=e.swamm)||void 0===i?void 0:i.statuses,targetForm:(null==e||null===(l=e.swamm)||void 0===l?void 0:l.targetForm)||{},viewableGroupProfiles:a}}),(function(e){return{hideTargetForm:function(){return e((0,o.hideTargetForm)())},deleteTarget:function(t,r){return e((0,o.deleteTarget)(t,r))},clearTargetForm:function(){return e((0,o.clearTargetForm)())},submitTargetForm:function(t,r){return e((0,o.submitTargetForm)(t,r))},updateTargetForm:function(t){return e((0,o.updateTargetForm)(t))}}}))(z);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,te(n.key),n)}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function ee(e,t,r){return(t=te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e){var t=function(e,t){if("object"!=J(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==J(t)?t:String(t)}var re=r(675263),ne=r(280798),oe=ne.Cell,ie=ne.BarChart,le=ne.Bar,ae=ne.PieChart,ue=ne.Pie,pe=ne.ResponsiveContainer,se=ne.XAxis,me=ne.YAxis,de=(ne.Legend,ne.Tooltip),ce=100,ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(n);if(o){var r=Q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),ee($(t=i.call(this,e)),"pollutants",[{name:"Phosphorus",load_red_total_key:"total_p_load_reduction",title:"Phosphorus Load reductions (lbs/year)",initial:"p"},{name:"Nitrogen",load_red_total_key:"total_n_load_reduction",title:"Nitrogen Load reductions (lbs/year)",initial:"n"},{name:"Sediment",load_red_total_key:"total_s_load_reduction",title:"Sediment Load reductions (tons/year)",initial:"s"},{name:"Total",load_red_total_key:"calculated_watershed_area",title:"Treated Area (acres)",initial:"a"}]),ee($(t),"colours",["#0088FE","#00C49F","#FFBB28","#FF8042","#39CCCC","#7FDBFF","#0074D9","#001f3f","#FFDC00","#01FF70","#2ECC40","#3D9970","#DDDDDD","#AAAAAA","#B10DC9","#F012BE","#85144b","#FF4136","#FF851B","#FFFFFF","#0088FEAA","#00C49FAA","#FFBB28AA","#FF8042AA","#39CCCCAA","#7FDBFFAA","#0074D9AA","#001f3fAA"]),t.state={tooltipKey:null},t}return t=l,(r=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t,r,n,o,i,l,a,u,p,s,d,v,f,g,_,y,h,E,w,T,B,F,S,M,P,O,x,I,N,A,R,C,D,G,L,k,j,U,W,H,Y,V,q=this;return m().createElement("div",{id:"swamm-bmp-chart-panel",className:"simple-view-panel menu-rows-container"},m().createElement("div",{id:"swamm-bmp-chart-header"},m().createElement("div",null,"Dashboard: ",null===(e=this.props.selectedTarget)||void 0===e?void 0:e.name),m().createElement("span",{className:"btn glyphicon glyphicon-remove legend-close",onClick:function(){q.props.hideSwammBmpChart()}})),m().createElement("div",{id:"swamm-bmp-chart-body"},m().createElement("div",{id:"swamm-bmp-chart-col-one"},m().createElement("div",{id:"swamm-bmp-chart-targets"},m().createElement("div",{className:"swamm-bmp-chart-heading"},"Targets"),this.props.targets.map((function(e){return m().createElement("button",{className:"swamm-button",style:{backgroundColor:e.id===q.props.selectedTargetId?"rgba(39,202,59,1)":"rgba(39,202,59,0.6)"},onClick:function(){return q.props.selectSwammTargetId(null==e?void 0:e.id)}},null==e?void 0:e.name)})),m().createElement("button",{className:"swamm-button",style:{marginTop:"10px"},onClick:function(){return q.props.showTargetForm(null)}},"New Target"),m().createElement("button",{className:"swamm-button",style:{marginTop:"10px",marginBottom:"10px"},onClick:function(){return q.props.showTargetForm(q.props.selectedTarget)}},"Edit Target")),m().createElement("div",{id:"swamm-bmp-chart-filter"},m().createElement("div",{className:"swamm-bmp-chart-heading"},"Sort Data By:"),m().createElement("button",{className:"swamm-button",style:{backgroundColor:"type"===this.props.bmpFilterMode?"rgba(39,202,59,1)":"rgba(39,202,59,0.6)"},onClick:function(){return q.props.setBmpFilterMode("type")}},"BMP Type"),m().createElement("button",{className:"swamm-button",style:{backgroundColor:"status"===this.props.bmpFilterMode?"rgba(39,202,59,1)":"rgba(39,202,59,0.6)"},onClick:function(){return q.props.setBmpFilterMode("status")}},"BMP Status"),m().createElement("button",{className:"swamm-button",style:{backgroundColor:"group_profile"===this.props.bmpFilterMode?"rgba(39,202,59,1)":"rgba(39,202,59,0.6)"},onClick:function(){return q.props.setBmpFilterMode("group_profile")}},"Organization")),m().createElement("div",{id:"swamm-bmp-chart-download"},m().createElement("div",{className:"swamm-bmp-chart-heading"},"Download target data:"),m().createElement("button",{className:"swamm-button",onClick:function(){return q.props.downloadTargetData(q.props.projectId,q.props.selectedTargetId)}},"*.xlsx"))),m().createElement("div",{id:"swamm-bmp-chart-col-two"},this.pollutants.map((function(e){var t,r,n,o,i,l,a,u,p,s;return m().createElement("div",{id:"swamm-bmp-chart-".concat(e.name.toLowerCase()),className:"swamm-bmp-chart-graph-container"},m().createElement("div",{className:"swamm-bmp-chart-heading"},e.title),m().createElement("div",{id:"swamm-bmp-chart-".concat(e.name.toLowerCase(),"-graph-box"),className:"swamm-bmp-chart-graph-box"},m().createElement("div",{className:"swamm-bmp-chart-pie-group"},m().createElement(ae,{width:150,height:150,style:{paddingTop:"10px"}},m().createElement(ue,{data:null===(t=q.props.selectedTarget)||void 0===t||null===(r=t.speedDialData)||void 0===r?void 0:r["percent".concat(e.name,"Target")],dataKey:"value",cx:66.92307692307692,cy:50,innerRadius:ce/3,outerRadius:50,fill:"#82ca9d",startAngle:180,endAngle:0,isAnimationActive:!1},m().createElement(oe,{fill:"#27ca3b",cornerRadius:1}),m().createElement(oe,{fill:"#97b3c3",cornerRadius:1})),"a"!==e.initial?m().createElement("text",{x:ce/1.3-5,y:45,textAnchor:"middle",fontSize:20,dominantBaseline:"middle",className:"progress-label"},m().createElement("tspan",{y:40},(null===(n=q.props.selectedTarget)||void 0===n||null===(o=n.speedDialData["percent".concat(e.name,"Target")])||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value.toFixed(1))+"%"),m().createElement("tspan",{x:ce/1.3-5,y:68,textAnchor:"middle",fontSize:20,dominantBaseline:"middle",className:"progress-label"},"of Target")):m().createElement("text",{x:ce/1.3-5,y:18,textAnchor:"middle",fontSize:20,dominantBaseline:"middle",className:"progress-label"},m().createElement("tspan",{y:18},"BMP Count:"),m().createElement("tspan",{x:ce/1.3-5,y:50,textAnchor:"middle",fontSize:20,dominantBaseline:"middle",className:"progress-label"},null===(l=q.props.selectedTarget)||void 0===l||null===(a=l.barChartData)||void 0===a?void 0:a.total_bmp_count)))),m().createElement("div",{className:"swamm-bmp-chart-bar-group"},m().createElement(pe,{width:"95%",height:100,className:"swamm-bmp-chart-bar-group-responsive"},m().createElement(ie,{data:q.props.rechartsBarData,layout:"vertical",height:100},null===(u=q.props.rechartsBarData)||void 0===u||null===(p=u[0])||void 0===p||null===(s=p.barOne)||void 0===s?void 0:s.map((function(t,r){var n="barOne.".concat(r,".").concat(e.load_red_total_key);return m().createElement(le,{key:"".concat(null==t?void 0:t.type," + ").concat(e.initial," + ").concat(r),stackId:"a",dataKey:n,fill:q.colours[r],name:null==t?void 0:t.label,onMouseOver:function(){return q.setState({tooltipKey:n})},isAnimationActive:!1})})),m().createElement(de,{content:m().createElement(fe,{tooltipKey:q.state.tooltipKey})}),m().createElement(se,{type:"number"}),m().createElement(me,{type:"category",domain:[0,0],hide:!0}))))))})),m().createElement("div",{id:"swamm-bmp-chart-summary"},m().createElement(c.Table,{bordered:!0,condensed:!0,hover:!0,className:"text-right"},m().createElement("thead",null,m().createElement("tr",null,m().createElement("th",null,"Summary"),m().createElement("th",{style:{textAlign:"center"}},"Phosphorus"),m().createElement("th",{style:{textAlign:"center"}},"Nitrogen"),m().createElement("th",{style:{textAlign:"center"}},"Sediment"),m().createElement("th",null))),m().createElement("tbody",null,m().createElement("tr",null,m().createElement("td",null,"Current total untreated pollutant volume:"),m().createElement("td",null,b(null===(t=this.props.selectedTarget)||void 0===t||null===(r=t.speedDialData)||void 0===r?void 0:r.currentPhosphorusLoad,0)),m().createElement("td",null,b(null===(n=this.props.selectedTarget)||void 0===n||null===(o=n.speedDialData)||void 0===o?void 0:o.currentNitrogenLoad,0)),m().createElement("td",null,b(null===(i=this.props.selectedTarget)||void 0===i||null===(l=i.speedDialData)||void 0===l?void 0:l.currentSedimentLoad,0)),m().createElement("td",{className:"text-left"},"units/year")),m().createElement("tr",null,m().createElement("td",null,"Selected target reduction percentage:"),m().createElement("td",null,(100*(null===(a=this.props.selectedTarget)||void 0===a||null===(u=a.speedDialData)||void 0===u?void 0:u.percentPhosphorusReductionTarget)).toFixed(0)),m().createElement("td",null,(100*(null===(p=this.props.selectedTarget)||void 0===p||null===(s=p.speedDialData)||void 0===s?void 0:s.percentNitrogenReductionTarget)).toFixed(0)),m().createElement("td",null,(100*(null===(d=this.props.selectedTarget)||void 0===d||null===(v=d.speedDialData)||void 0===v?void 0:v.percentSedimentReductionTarget)).toFixed(0)),m().createElement("td",{className:"text-left"},"% of total")),m().createElement("tr",null,m().createElement("td",null,"Selected target load reduction required:"),m().createElement("td",null,b(null===(f=this.props.selectedTarget)||void 0===f||null===(g=f.speedDialData)||void 0===g?void 0:g.targetPhosphorusLoadReductionRequired,0)),m().createElement("td",null,b(null===(_=this.props.selectedTarget)||void 0===_||null===(y=_.speedDialData)||void 0===y?void 0:y.targetNitrogenLoadReductionRequired,0)),m().createElement("td",null,b(null===(h=this.props.selectedTarget)||void 0===h||null===(E=h.speedDialData)||void 0===E?void 0:E.targetSedimentLoadReductionRequired,0)),m().createElement("td",{className:"text-left"},"units/year")),m().createElement("tr",null,m().createElement("td",null,"Actual pollutant reduction from BMPs:"),m().createElement("td",null,b(null===(w=this.props.selectedTarget)||void 0===w||null===(T=w.speedDialData)||void 0===T?void 0:T.totalBmpPhosphorusReduction,0)),m().createElement("td",null,b(null===(B=this.props.selectedTarget)||void 0===B||null===(F=B.speedDialData)||void 0===F?void 0:F.totalBmpNitrogenReduction,0)),m().createElement("td",null,b(null===(S=this.props.selectedTarget)||void 0===S||null===(M=S.speedDialData)||void 0===M?void 0:M.totalBmpSedimentReduction,0)),m().createElement("td",{className:"text-left"},"units/year")),m().createElement("tr",null,m().createElement("td",null,"Percentage of target achieved:"),m().createElement("td",null,null===(P=this.props.selectedTarget)||void 0===P||null===(O=P.speedDialData)||void 0===O||null===(x=O.percentPhosphorusTarget)||void 0===x||null===(I=x[0])||void 0===I||null===(N=I.value)||void 0===N?void 0:N.toFixed(1)),m().createElement("td",null,null===(A=this.props.selectedTarget)||void 0===A||null===(R=A.speedDialData)||void 0===R||null===(C=R.percentNitrogenTarget)||void 0===C||null===(D=C[0])||void 0===D||null===(G=D.value)||void 0===G?void 0:G.toFixed(1)),m().createElement("td",null,null===(L=this.props.selectedTarget)||void 0===L||null===(k=L.speedDialData)||void 0===k||null===(j=k.percentSedimentTarget)||void 0===j||null===(U=j[0])||void 0===U||null===(W=U.value)||void 0===W?void 0:W.toFixed(1)),m().createElement("td",{className:"text-left"},"%")))))),m().createElement("div",{id:"swamm-bmp-chart-col-three"},m().createElement("div",{className:"swamm-bmp-chart-heading"},"Legend"),m().createElement("div",{id:"swamm-bmp-chart-legend-rows"},null===(H=this.props.selectedTarget)||void 0===H||null===(Y=H.barChartData)||void 0===Y||null===(V=Y[this.props.bmpFilterMode])||void 0===V?void 0:V.map((function(e,t){return m().createElement("div",{className:"swamm-bmp-chart-legend-row"},m().createElement("div",null,m().createElement("svg",{width:"30px",height:"15px"},m().createElement("rect",{width:"15px",height:"15px",fill:q.colours[t]}))),m().createElement("div",null,null==e?void 0:e.label))}))))),m().createElement("div",{id:"swamm-bmp-chart-footer"},m().createElement("button",{className:"swamm-button",onClick:function(){return q.props.hideSwammBmpChart()}},"Close")))}}])&&X(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(m().Component);ee(ve,"propTypes",{hideSwammBmpChart:re.func,data:re.array,rechartsBarData:re.array,targets:re.array,selectSwammTargetId:re.func,showTargetForm:re.func,selectedTargetId:re.number,defaultTargetId:re.number,selectedTarget:re.object,bmpFilterMode:re.string,setBmpFilterMode:re.func,downloadTargetData:re.func,projectId:re.number}),ee(ve,"defaultProps",{});var fe=function(e){var t=e.active,r=e.payload,n=(e.label,e.tooltipKey);return t&&r&&r.length&&n?r.map((function(e){if(e.dataKey===n){var t=n.split("."),r=e.payload[t[0]][Number(t[1])][t[2]];return m().createElement("div",{className:"custom-tooltip"},m().createElement("div",{className:"custom-tooltip-label"},null==e?void 0:e.name," - ",b(r,0)),m().createElement("br",null))}return null})):null},ge=(0,d.connect)((function(e){var t,r,n,o,i,l,a,u,p,s,m=null==e||null===(t=e.swamm)||void 0===t||null===(r=t.targets)||void 0===r||null===(n=r.filter((function(t){var r;return t.id===(null==e||null===(r=e.swamm)||void 0===r?void 0:r.selectedTargetId)})))||void 0===n?void 0:n[0],d=(null==e||null===(o=e.swamm)||void 0===o?void 0:o.bmpFilterMode)||"type",c=[{barOne:null==m||null===(i=m.barChartData)||void 0===i?void 0:i[d]}];return{statuses:(null==e||null===(l=e.swamm)||void 0===l?void 0:l.statuses)||[],targets:(null==e||null===(a=e.swamm)||void 0===a?void 0:a.targets)||[],selectedTargetId:null==e||null===(u=e.swamm)||void 0===u?void 0:u.selectedTargetId,selectedTarget:m,rechartsBarData:c,bmpFilterMode:d,visibleTargetForm:null==e?void 0:e.swamm.visibleTargetForm,projectId:null==e||null===(p=e.swamm)||void 0===p||null===(s=p.projectData)||void 0===s?void 0:s.id}}),(function(e){return{hideSwammBmpChart:function(){return e((0,o.hideSwammBmpChart)())},selectSwammTargetId:function(t){return e((0,o.selectSwammTargetId)(t))},setBmpFilterMode:function(t){return e((0,o.setBmpFilterMode)(t))},showTargetForm:function(t){return e((0,o.showTargetForm)(t))},downloadTargetData:function(t,r){return e((0,o.downloadTargetData)(t,r))}}}))(ve);function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},be(e,t)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function we(e,t,r){return(t=Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=function(e,t){if("object"!=_e(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_e(t)?t:String(t)}var Be=r(675263),Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ee(n);if(o){var r=Ee(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).handleChange=t.handleChange.bind(he(t)),t}return t=l,(r=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t,r=this;return m().createElement(m().Fragment,null,m().createElement("div",{id:"swamm-bmp-filters",className:"simple-view-panel",style:{top:"175px",width:"480px"}},m().createElement("div",{className:"menu-rows-container"},m().createElement("div",{className:"row menu-row menu-row-bmp-filter pull-left"},m().createElement("span",{className:"inline btn glyphicon bmp-filter-group-glyph "+("bmpType"===this.props.expandedFilter?"glyphicon-chevron-down":"glyphicon-chevron-right"),onClick:function(){r.props.setExpandedFilter("bmpType")}}),m().createElement("span",{className:"menu-row-text"},m().createElement("div",null,"Filter by BMP type"))),"bmpType"===this.props.expandedFilter?m().createElement("div",{className:"bmp-filter-group-expanded-panel"},null===(e=this.props.bmpTypeGroups)||void 0===e?void 0:e.map((function(e){return m().createElement("div",{key:"group-".concat(e),className:"bmp-filter-group-heading"},m().createElement("div",{className:"bmp-filter-type-row"},m().createElement("span",{style:{marginLeft:"15px"},className:"btn glyphicon bmp-type-group-glyph"+(r.props.expandedBmpTypeGroupName===e[0]?" glyphicon-chevron-down bmp-type-group-bottom-margin":" glyphicon-chevron-right"),onClick:r.props.expandedBmpTypeGroupName===e[0]?function(){return r.props.setExpandedBmpTypeGroupName(null)}:function(){return r.props.setExpandedBmpTypeGroupName(e[0])}}),m().createElement("span",{className:"bmp-type-group-name"},e[1]),m().createElement("span",{className:"btn glyphicon menu-row-glyph bmp-filter-type-heading-last-item"+(null!=e&&e[2]?" glyphicon-ok":" glyphicon-remove"),style:{color:null!=e&&e[2]?"limegreen":"red"},onClick:function(){r.props.toggleBmpTypeGroup(e)}})),r.props.expandedBmpTypeGroupName===e[0]?r.props.bmpTypes.filter((function(t){return t.group_name===e[0]})).map((function(e){return m().createElement("div",{key:"bmpType-".concat(null==e?void 0:e.name),className:"bmp-filter-group-selector-row"},m().createElement("span",{id:"bmp-type-toggle-box-".concat(null==e?void 0:e.name),className:"btn glyphicon menu-row-glyph "+(null!=e&&e.visibility?"glyphicon-ok":"glyphicon-remove"),style:{color:null!=e&&e.visibility?"limegreen":"red"},onClick:function(){r.props.toggleBmpTypeVisibility(e)}}),m().createElement("label",{htmlFor:"bmp-type-selector-box-".concat(null==e?void 0:e.name),style:{marginLeft:"6px",verticalAlign:"middle"}},null==e?void 0:e.name))})):null)}))):null,m().createElement("div",{className:"row menu-row menu-row-bmp-filter pull-left"},m().createElement("span",{className:"inline btn glyphicon bmp-filter-group-glyph "+("priority"===this.props.expandedFilter?"glyphicon-chevron-down":"glyphicon-chevron-right"),onClick:function(){r.props.setExpandedFilter("priority")}}),m().createElement("span",{className:"menu-row-text"},m().createElement("div",null,"Filter by BMP priority"))),"priority"===this.props.expandedFilter?m().createElement("div",{className:"bmp-filter-group-expanded-panel"},null===(t=this.props.priorities)||void 0===t?void 0:t.map((function(e,t){return m().createElement("div",{key:"priority-".concat(e),className:"bmp-filter-group-selector-row filter-row "+(t%2?"filter-row-odd":"")},m().createElement("span",{id:"bmp-type-toggle-box-".concat(null==e?void 0:e.label),className:"btn glyphicon menu-row-glyph "+(null!=e&&e.visibility?"glyphicon-ok":"glyphicon-remove"),style:{color:null!=e&&e.visibility?"limegreen":"red"},onClick:function(){r.props.toggleBmpPriorityVisibility(e)}}),m().createElement("label",{htmlFor:"bmp-type-selector-box-".concat(null==e?void 0:e.label),style:{marginLeft:"6px",verticalAlign:"middle"}},e.label))}))):null,m().createElement("div",{className:"row menu-row menu-row-bmp-filter pull-left"},m().createElement("span",{className:"inline btn glyphicon bmp-filter-group-glyph "+("status"===this.props.expandedFilter?"glyphicon-chevron-down":"glyphicon-chevron-right"),onClick:function(){r.props.setExpandedFilter("status")}}),m().createElement("span",{className:"menu-row-text"},m().createElement("div",null,"Filter by BMP status"))),"status"===this.props.expandedFilter?m().createElement("div",{className:"bmp-filter-group-expanded-panel"},this.props.statuses.map((function(e,t){return m().createElement("div",{key:"status-".concat(e),className:"bmp-filter-group-selector-row filter-row "+(t%2?"filter-row-odd":"")},m().createElement("span",{id:"bmp-type-toggle-box-".concat(null==e?void 0:e.name),className:"btn glyphicon menu-row-glyph "+(null!=e&&e.visibility?"glyphicon-ok":"glyphicon-remove"),style:{color:null!=e&&e.visibility?"limegreen":"red"},onClick:function(){r.props.toggleBmpStatusVisibility(e)}}),m().createElement("label",{htmlFor:"bmp-type-selector-box-".concat(null==e?void 0:e.name),style:{marginLeft:"6px",verticalAlign:"middle"}},null==e?void 0:e.name))}))):null,m().createElement("div",{className:"row menu-row menu-row-bmp-filter pull-left"},m().createElement("span",{className:"inline btn glyphicon bmp-filter-group-glyph "+("groupProfile"===this.props.expandedFilter?"glyphicon-chevron-down":"glyphicon-chevron-right"),onClick:function(){r.props.setExpandedFilter("groupProfile")}}),m().createElement("span",{className:"menu-row-text"},m().createElement("div",null,"Filter by Organization"))),"groupProfile"===this.props.expandedFilter?m().createElement("div",{className:"bmp-filter-group-expanded-panel"},this.props.groupProfiles.map((function(e,t){var n;return m().createElement("div",{key:"groupProfile-".concat(null==e?void 0:e.title),className:"bmp-filter-group-selector-row filter-row "+(t<(null===(n=r.props.groupProfiles)||void 0===n?void 0:n.length)/2+1?"filter-row-odd":"")},m().createElement("span",{id:"bmp-type-toggle-box-".concat(null==e?void 0:e.title),className:"btn glyphicon menu-row-glyph "+(null!=e&&e.visibility?"glyphicon-ok":"glyphicon-remove"),style:{color:null!=e&&e.visibility?"limegreen":"red"},onClick:function(){r.props.toggleBmpGroupProfileVisibility(e)}}),m().createElement("label",{htmlFor:"bmp-type-selector-box-".concat(e),style:{marginLeft:"6px",verticalAlign:"middle"}},null==e?void 0:e.title))}))):null)))}},{key:"handleChange",value:function(e){console.log(e)}}])&&ye(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(m().Component);we(Fe,"propTypes",{bmpTypes:Be.array,expandedFilter:Be.string,setExpandedFilter:Be.func,bmpFilter:Be.object,changeLayerProperties:Be.func,toggleBmpTypeVisibility:Be.func,toggleBmpGroupProfileVisibility:Be.func,toggleBmpStatusVisibility:Be.func,setAllBmpTypesVisibility:Be.func,toggleBmpPriorityVisibility:Be.func,bmpWatershedLayer:Be.object,bmpFootprintLayer:Be.object,bmpOutletLayer:Be.object,priorities:Be.object,statuses:Be.object,groupProfiles:Be.object,bmpTypeGroups:Be.array,expandedBmpTypeGroupName:Be.string,toggleBmpTypeGroup:Be.func,setExpandedBmpTypeGroupName:Be.func,setGroupBmpTypesVisibility:Be.func}),we(Fe,"defaultProps",{});var Se=(0,d.connect)((function(e){var t,r,n,o,i,l,a,u,p,s,m,d=(null==e||null===(t=e.swamm)||void 0===t?void 0:t.groupProfiles.filter((function(e){return!["anonymous","registered-members","admin","swamm-users","illinois-pork-producers"].includes(e.slug)}))).filter((function(t){var r,n,o;return null==e||null===(r=e.swamm)||void 0===r||null===(n=r.projectData)||void 0===n||null===(o=n.permitted_groups.map((function(e){return e.pk})))||void 0===o?void 0:o.includes(t.pk)}));return d.sort((function(e,t){return e.title.localeCompare(t.title)})),{mapId:null==e||null===(r=e.swamm)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.base_map,projectData:null==e||null===(o=e.swamm)||void 0===o?void 0:o.data,statuses:null==e||null===(i=e.swamm)||void 0===i?void 0:i.statuses,groupProfiles:d,layers:null==e?void 0:e.layers,query:null==e?void 0:e.query,expandedFilter:null==e||null===(l=e.swamm)||void 0===l?void 0:l.expandedFilter,bmpFilter:null==e||null===(a=e.swamm)||void 0===a?void 0:a.bmpFilter,bmpOutletLayer:E(e),bmpFootprintLayer:w(e),bmpWatershedLayer:T(e),priorities:null==e||null===(u=e.swamm)||void 0===u?void 0:u.priorities,bmpTypes:null==e||null===(p=e.swamm)||void 0===p?void 0:p.bmpTypes,bmpTypeGroups:(null==e||null===(s=e.swamm)||void 0===s?void 0:s.bmpTypeGroups)||[],expandedBmpTypeGroupName:null==e||null===(m=e.swamm)||void 0===m?void 0:m.expandedBmpTypeGroupName}}),(function(e){return{setExpandedFilter:function(t){return e((0,o.setExpandedFilter)(t))},changeLayerProperties:function(t,r){return e((0,F.He)(t,r))},toggleBmpTypeVisibility:function(t){return e((0,o.toggleBmpTypeVisibility)(t))},toggleBmpGroupProfileVisibility:function(t){return e((0,o.toggleBmpGroupProfileVisibility)(t))},toggleBmpStatusVisibility:function(t){return e((0,o.toggleBmpStatusVisibility)(t))},setAllBmpTypesVisibility:function(t){return e((0,o.setAllBmpTypesVisibility)(t))},toggleBmpPriorityVisibility:function(t){return e((0,o.toggleBmpPriorityVisibility)(t))},setExpandedBmpTypeGroupName:function(t){return e((0,o.setExpandedBmpTypeGroupName)(t))},toggleBmpTypeGroup:function(t){return e((0,o.toggleBmpTypeGroup)(t))}}}))(Fe),Me=r(604206),Pe=(r(472619),r(388380)),Oe=r(427995);function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ce(n.key),n)}}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}function Re(e,t,r){return(t=Ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){var t=function(e,t){if("object"!=xe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xe(t)?t:String(t)}var De=r(675263),Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ae(n);if(o){var r=Ae(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={showAdvanced:!1},t}return t=l,(r=[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e,t,r,n,o=this;return m().createElement("div",{id:"swamm-input-menu",className:"simple-view-panel",style:{top:"70px",width:"530px"}},m().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},m().createElement("div",{className:"row menu-row menu-row-header",style:{width:"510px",textAlign:"left",border:"none"}},m().createElement("span",{className:"menu-row-text"},"Erosion"),m().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){o.props.setVisibleUploaderPanel(!0,"erosion",null)}})),null===(e=this.props.erosionLayers)||void 0===e?void 0:e.map((function(e){return m().createElement(Pe.j,{layer:e})})),0===(null===(t=this.props.erosionLayers)||void 0===t?void 0:t.length)?m().createElement("div",{className:"row menu-row menu-row",style:{width:"510px",textAlign:"left",border:"none"}},"No erosion layer available"):null),m().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},m().createElement("div",{className:"row menu-row menu-row-header",style:{width:"510px",textAlign:"left",border:"none"}},m().createElement("span",{className:"menu-row-text"},"SWAMM Models"),m().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){o.props.setVisibleUploaderPanel(!0,"swamm-engine",null)}})),null===(r=this.props.swammEngines)||void 0===r?void 0:r.map((function(e){return m().createElement(Pe.j,{layer:e})})),0===(null===(n=this.props.swammEngines)||void 0===n?void 0:n.length)?m().createElement("div",{className:"row menu-row menu-row",style:{width:"510px",textAlign:"left",border:"none"}},"No SWAMM models available"):null),m().createElement("div",{className:"menu-rows-container",style:{border:"1px solid rgba(255, 255, 255, 1)",borderRadius:"3px",margin:"3px 0"}},m().createElement("div",{className:"row menu-row menu-row-header",style:{width:"510px",textAlign:"left",border:"none"}},m().createElement("span",{className:"menu-row-text"},"BMPs")),m().createElement("div",{className:"row menu-row menu-row-header",style:{width:"510px",textAlign:"left",border:"none"}},m().createElement("span",{className:"menu-row-text"},"Outlets"),m().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){o.props.setVisibleUploaderPanel(!0,"bmp-outlet",null)}})),m().createElement("div",{className:"row menu-row menu-row-header",style:{width:"510px",textAlign:"left",border:"none"}},m().createElement("span",{className:"menu-row-text"},"Footprints"),m().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){o.props.setVisibleUploaderPanel(!0,"bmp-footprint",null)}})),m().createElement("div",{className:"row menu-row menu-row-header",style:{width:"510px",textAlign:"left",border:"none"}},m().createElement("span",{className:"menu-row-text"},"Watersheds"),m().createElement("span",{className:"btn pull-right glyphicon menu-row-glyph glyphicon-upload",style:{color:"limegreen",fontSize:"smaller",textAlign:"right",marginRight:"8px"},onClick:function(){o.props.setVisibleUploaderPanel(!0,"bmp-watershed",null)}}))),m().createElement(Oe.h,null))}}])&&Ie(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(m().Component);Re(Ge,"propTypes",{projectData:De.object,setVisibleUploaderPanel:De.func,swammEngines:De.array,nitrogenLayers:De.array,phosphorusLayers:De.array,sedimentLayers:De.array,erosionLayers:De.array,setSwammInputMenu:De.func}),Re(Ge,"defaultProps",{});var Le=(0,d.connect)((function(e){var t,r,n,o,i,l,a,u,p,s,m,d,c,v,f;return{projectData:null==e||null===(t=e.swamm)||void 0===t?void 0:t.projectData,erosionLayers:null==e||null===(r=e.layers)||void 0===r||null===(n=r.flat)||void 0===n||null===(o=n.filter((function(e){return(null==e?void 0:e.name.indexOf("erosion_"))>-1})))||void 0===o?void 0:o.map((function(t){var r,n,o;return t.importerTargetObjectId=null==e||null===(r=e.swamm)||void 0===r||null===(n=r.erosions)||void 0===n||null===(o=n.filter((function(e){var r;return(null==e?void 0:e.gn_layer)===parseInt(null==t||null===(r=t.extendedParams)||void 0===r?void 0:r.pk,10)}))[0])||void 0===o?void 0:o.id,t})),nitrogenLayers:null==e||null===(i=e.layers)||void 0===i||null===(l=i.flat)||void 0===l||null===(a=l.filter((function(e){return(null==e?void 0:e.name.indexOf("_n_surface_loading"))>-1})))||void 0===a?void 0:a.map((function(t){var r,n,o;return t.importerTargetObjectId=null==e||null===(r=e.swamm)||void 0===r||null===(n=r.nitrogen)||void 0===n||null===(o=n.filter((function(e){var r;return(null==e?void 0:e.gn_layer)===parseInt(null==t||null===(r=t.extendedParams)||void 0===r?void 0:r.pk,10)}))[0])||void 0===o?void 0:o.id,t})),phosphorusLayers:null==e||null===(u=e.layers)||void 0===u||null===(p=u.flat)||void 0===p||null===(s=p.filter((function(e){return(null==e?void 0:e.name.indexOf("_p_surface_loading"))>-1})))||void 0===s?void 0:s.map((function(t){var r,n,o;return t.importerTargetObjectId=null==e||null===(r=e.swamm)||void 0===r||null===(n=r.phosphorus)||void 0===n||null===(o=n.filter((function(e){var r;return(null==e?void 0:e.gn_layer)===parseInt(null==t||null===(r=t.extendedParams)||void 0===r?void 0:r.pk,10)}))[0])||void 0===o?void 0:o.id,t})),sedimentLayers:null==e||null===(m=e.layers)||void 0===m||null===(d=m.flat)||void 0===d||null===(c=d.filter((function(e){return(null==e?void 0:e.name.indexOf("_s_surface_loading"))>-1})))||void 0===c?void 0:c.map((function(t){var r,n,o;return t.importerTargetObjectId=null==e||null===(r=e.swamm)||void 0===r||null===(n=r.sediment)||void 0===n||null===(o=n.filter((function(e){var r;return(null==e?void 0:e.gn_layer)===parseInt(null==t||null===(r=t.extendedParams)||void 0===r?void 0:r.pk,10)}))[0])||void 0===o?void 0:o.id,t})),erosionModels:null==e||null===(v=e.swamm)||void 0===v?void 0:v.erosions,swammEngines:null==e||null===(f=e.swamm)||void 0===f?void 0:f.swammEngines,canEditSwammMap:B(e)}}),(function(e){return{setSwammInputMenu:function(t){return e((0,o.setSwammInputMenu)(t))},setVisibleUploaderPanel:function(t,r,n){return e((0,v.setVisibleUploaderPanel)(t,r,n))}}}))(Ge);function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ye(n.key),n)}}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ue(e,t)}function We(e){return We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},We(e)}function He(e,t,r){return(t=Ye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ke(t)?t:String(t)}var Ve=r(675263),qe=r(472986),ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=We(n);if(o){var r=We(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,e)}return t=l,(r=[{key:"componentDidMount",value:function(){this.props.initSwamm()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t=this;return m().createElement("div",{id:"swamm-container"},this.props.isSwammProject?m().createElement(m().Fragment,null,!this.props.storedBmpForm||this.props.visibleBmpForm||this.props.drawingBmpLayerName||this.props.editingBmpFeatureId?this.props.drawingBmpLayerName||this.props.editingBmpFeatureId?m().createElement(m().Fragment,null,m().createElement(c.Button,{bsStyle:"success",className:"simple-view-menu-button bmp-progress-button",style:{left:30,top:80,width:120,backgroundColor:"darkgreen"},onClick:function(){t.props.saveChanges(),t.props.showBmpForm()}},"Save Feature"),m().createElement(c.Button,{bsStyle:"danger",className:"simple-view-menu-button bmp-progress-button",style:{left:160,top:80,width:120,backgroundColor:"darkred"},onClick:function(){t.props.showBmpForm(),t.props.setLayer(null),t.props.toggleViewMode(),t.props.drawStopped(),t.props.clearDrawingBmpLayerName(),t.props.clearEditingBmpFeatureId()}},"Cancel Feature"),m().createElement("button",{key:"swamm-bmp-creator-button",className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+1)+20},onClick:function(){t.props.saveChanges(),t.props.showBmpForm(),t.props.setOpenMenuGroupId(null)}},"Create BMPs")):this.props.visibleBmpForm?m().createElement("button",{className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+1)+20},disabled:!0},"Create BMPs"):m().createElement("button",{key:"swamm-bmp-creator-button",className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+1)+20},onClick:function(){t.props.makeBmpForm(t.props.defaultGroupProfile),t.props.setOpenMenuGroupId(null)}},"Create BMPs"):m().createElement(m().Fragment,null,m().createElement(c.Button,{className:"simple-view-menu-button bmp-progress-button-success",style:{left:30,top:80,width:120,backgroundColor:"darkgreen"},bsStyle:"success",onClick:function(){return t.props.showBmpForm()}},"BMP in progress"),m().createElement("button",{key:"swamm-bmp-creator-button",className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+1)+20},onClick:function(){t.props.showBmpForm(),t.props.setOpenMenuGroupId(null)}},"Create BMPs")),null!==(e=this.props.targets)&&void 0!==e&&e.length?m().createElement("button",{key:"swamm-bmp-chart-button",className:"simple-view-menu-button",style:{left:100*(this.props.numberOfMenus+2)+20},onClick:function(){t.props.showSwammBmpChart(),t.props.selectSwammTargetId(t.props.defaultTargetId),t.props.setOpenMenuGroupId(null)}},"Dashboard"):m().createElement("button",{key:"swamm-bmp-chart-button",className:"simple-view-menu-button disabled",style:{left:100*(this.props.numberOfMenus+2)+20}},m().createElement("span",null,m().createElement(qe,{color:"white",style:{display:"inline-block"},spinnerName:"circle",noFadeIn:!0}))),this.props.canEditSwammMap?m().createElement("button",{key:"swamm-input-button",className:"simple-view-menu-button",style:{left:620},onClick:function(){t.props.setSwammInputMenu(!t.props.showSwammInputMenu),t.props.setOpenMenuGroupId(null)}},"Swamm Model"):null,this.props.showSwammInputMenu?m().createElement(Le,null):null,this.props.visibleTargetForm?m().createElement(K,null):null,this.props.visibleBmpForm?m().createElement(C,null):null,this.props.visibleSwammBmpChart?m().createElement(ge,null):null,this.props.viewBmpGroupId===this.props.openMenuGroupId?m().createElement(Se,null):null,this.props.loadingBmp?m().createElement("button",{className:"simple-view-menu-button bmp-loading-button"},m().createElement("div",{style:{marginBottom:"10px"}},"Loading BMP data..."),m().createElement("span",null,m().createElement(qe,{color:"white",style:{display:"inline-block"},spinnerName:"circle",noFadeIn:!0}))):null):null)}}])&&je(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(m().Component);He(ze,"propTypes",{fetchSwammBmpTypes:Ve.func,fetchSwammBmpStatuses:Ve.func,fetchSwammTargets:Ve.func,fetchProjectManagerConfig:Ve.func,fetchGroupProfiles:Ve.func,fetchingGroupProfiles:Ve.bool,fetchingTargets:Ve.bool,statuses:Ve.array,targets:Ve.array,swammData:Ve.array,mapId:Ve.number,bmpUniqueNames:Ve.array,bmpTypes:Ve.array,groupProfiles:Ve.array,projectCode:Ve.string,layers:Ve.object,toggleLayer:Ve.func,showBmpForm:Ve.func,visibleBmpForm:Ve.bool,makeBmpForm:Ve.func,storedBmpForm:Ve.object,showMenuGroup:Ve.bool,setOpenMenuGroupId:Ve.func,loadingBmp:Ve.bool,saveChanges:Ve.func,clearDrawingBmpLayerName:Ve.func,clearEditingBmpFeatureId:Ve.func,drawingBmpLayerName:Ve.string,setEditingBmpFeatureId:Ve.func,editingBmpFeatureId:Ve.string,query:Ve.func,toggleBmpType:Ve.func,visibleSwammBmpChart:Ve.bool,visibleTargetForm:Ve.bool,defaultTargetId:Ve.number,selectSwammTargetId:Ve.func,showSwammBmpChart:Ve.func,bmpByUniqueNameSelector:Ve.func,setLayer:Ve.func,toggleViewMode:Ve.func,drawStopped:Ve.func,numberOfMenus:Ve.number,hasPmData:Ve.object,bmpDataLayer:Ve.object,defaultGroupProfile:Ve.object,viewBmpGroupId:Ve.string,openMenuGroupId:Ve.string,setBmpLayers:Ve.func,toggleSyncWms:Ve.func,gnResourceLoaded:Ve.string,isSwammProject:Ve.bool,initSwamm:Ve.func,setSwammInputMenu:Ve.func,showSwammInputMenu:Ve.bool,canEditSwammMap:Ve.func}),He(ze,"defaultProps",{});const Ke=(0,d.connect)((function(e){var t,r,n,o,i,l,a,u,p,s,m,d,c,v,f,g,_,y,b,E,w,T,F,S,M,P,O,x,I,N,A,R,C,D,G=null==e||null===(t=e.security)||void 0===t||null===(r=t.user)||void 0===r||null===(n=r.info)||void 0===n?void 0:n.groups.filter((function(e){return!["anonymous","registered-members","admin"].includes(e)})),L=null==e||null===(o=e.swamm)||void 0===o?void 0:o.groupProfiles.filter((function(e){return G.includes(e.slug)}));return{canEditSwammMap:B(e),gnResourceLoaded:null==e||null===(i=e.gnresource)||void 0===i?void 0:i.id,isSwammProject:!(null==e||null===(l=e.swamm)||void 0===l||null===(a=l.projectData)||void 0===a||!a.id),mapId:null==e||null===(u=e.map)||void 0===u||null===(p=u.present)||void 0===p||null===(s=p.info)||void 0===s?void 0:s.id,hasPmData:null==e||null===(m=e.swamm)||void 0===m?void 0:m.data,defaultGroupProfile:L[0],bmpUniqueNames:h(e),bmpTypes:null==e||null===(d=e.swamm)||void 0===d?void 0:d.bmpTypes,groupProfiles:null==e?void 0:e.swamm.groupProfiles,statuses:null==e||null===(c=e.swamm)||void 0===c?void 0:c.statuses,targets:null==e||null===(v=e.swamm)||void 0===v?void 0:v.targets,fetchingTargets:null==e||null===(f=e.swamm)||void 0===f?void 0:f.fetchingTargets,projectCode:null==e||null===(g=e.swamm)||void 0===g||null===(_=g.data)||void 0===_?void 0:_.code,layers:null==e?void 0:e.layers,visibleBmpForm:null==e||null===(y=e.swamm)||void 0===y?void 0:y.visibleBmpForm,storedBmpForm:null==e||null===(b=e.swamm)||void 0===b?void 0:b.storedBmpForm,drawingBmpLayerName:null==e||null===(E=e.swamm)||void 0===E?void 0:E.drawingBmpLayerName,editingBmpFeatureId:null==e||null===(w=e.swamm)||void 0===w?void 0:w.editingBmpFeatureId,visibleSwammBmpChart:null==e||null===(T=e.swamm)||void 0===T?void 0:T.visibleSwammBmpChart,showSwammInputMenu:null==e||null===(F=e.swamm)||void 0===F?void 0:F.showSwammInputMenu,defaultTargetId:(null==e||null===(S=e.swamm)||void 0===S||null===(M=S.targets)||void 0===M||null===(P=M[0])||void 0===P?void 0:P.id)||0,visibleTargetForm:null==e||null===(O=e.swamm)||void 0===O?void 0:O.visibleTargetForm,loadingBmp:null==e||null===(x=e.swamm)||void 0===x?void 0:x.loadingBmp,numberOfMenus:null==e||null===(I=e.layers)||void 0===I||null===(N=I.groups)||void 0===N?void 0:N.length,viewBmpGroupId:null==e||null===(A=e.layers)||void 0===A||null===(R=A.groups)||void 0===R||null===(C=R.filter((function(e){return"View BMPs"===(null==e?void 0:e.title)||"View BMPs"===(null==e?void 0:e.name)}))[0])||void 0===C?void 0:C.id,openMenuGroupId:null==e||null===(D=e.simpleView)||void 0===D?void 0:D.openMenuGroupId}}),(function(e){return{initSwamm:function(){return e((0,o.initSwamm)())},setSwammInputMenu:function(t){return e((0,o.setSwammInputMenu)(t))},fetchSwammBmpTypes:function(t){return e((0,o.fetchSwammBmpTypes)(t))},fetchProjectManagerConfig:(0,o.fetchProjectManagerConfig)(e),fetchGroupProfiles:function(){return e((0,o.fetchGroupProfiles)())},fetchSwammBmpStatuses:function(t){return e((0,o.fetchSwammBmpStatuses)(t))},fetchSwammTargets:function(t){return e((0,o.fetchSwammTargets)(t))},selectSwammTargetId:function(t){return e((0,o.selectSwammTargetId)(t))},toggleLayer:function(t,r){return e((0,F.He)(t,{visibility:r}))},showBmpForm:function(){return e((0,o.showBmpForm)())},setLayer:function(t){return e((0,f.uF)(t))},setEditingBmpFeatureId:function(t){return e((0,o.setEditingBmpFeatureId)(t))},showSwammBmpChart:function(){return e((0,o.showSwammBmpChart)())},setOpenMenuGroupId:function(t){return e((0,v.setOpenMenuGroupId)(t))},makeBmpForm:function(t){return e((0,o.makeBmpForm)(t))},saveChanges:function(){return e((0,f.$S)())},clearDrawingBmpLayerName:function(){return e((0,o.clearDrawingBmpLayerName)())},clearEditingBmpFeatureId:function(){return e((0,o.clearEditingBmpFeatureId)())},query:function(t,r,n,o){return e((0,_.IO)(t,r,n,o))},toggleBmpType:function(t){return e((0,o.toggleBmpType)(t))},toggleViewMode:function(){return e((0,f.nY)())},drawStopped:function(){return e((0,Me.lo)())},toggleSyncWms:function(){return e((0,_.XO)())}}}))(ze);var Je=r(49977),Xe=r.n(Je),Ze=r(129386),$e=r(375875),Qe=function(e,t){return{attribute:e,rowId:123456,type:"number",groupId:"".concat(e,"_1"),operator:"=",value:t}},et={filterObj:{featureTypeName:null,filterType:"OGC",ogcVersion:"1.1.0",groupFields:[{id:123456,index:0,logic:"AND"},{id:"type_1",groupId:123456,logic:"OR",index:1},{id:"priority_1",groupId:123456,logic:"OR",index:1},{id:"group_profile_1",groupId:123456,logic:"OR",index:1},{id:"status_1",groupId:123456,logic:"OR",index:1}],filterFields:[],spatialField:[],spatialFieldOperator:"AND"}};const tt=(0,n.rx)("Swamm",{component:Ke,reducers:{swamm:function(){var e,t,r,n,i,a,s,m,d,c,v,f,g,_,y,b,h,E,w,T,B,F,S,M,P,O,x,I,N,A,R,C,D,G,L,k,j,U,W,H,Y,V,q,z,K,J,X,Z,$,Q,ee,te,re,ne,oe,ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,le=arguments.length>1?arguments[1]:void 0;switch(le.type){case o.SET_SWAMM_PROJECT_DATA:return u(u({},ie),{},{projectData:le.projectData});case o.FETCH_GROUP_PROFILES:return u(u({},ie),{},{fetchingGroupProfiles:le.groupProfiles});case o.FETCH_GROUP_PROFILES_SUCCESS:return u(u({},ie),{},{fetchingGroupProfiles:!1,groupProfiles:le.groupProfiles});case o.FETCH_PROJECT_MANAGER_CONFIG:return u(u({},ie),{},{fetching:le.mapId});case o.FETCH_PROJECT_MANAGER_CONFIG_SUCCESS:return u(u({},ie),{},{fetching:null,data:le.payload});case o.FETCH_SWAMM_BMPTYPES:return u(u({},ie),{},{fetching:le.mapId});case o.FETCH_SWAMM_BMPTYPES_SUCCESS:var ae=le.bmpTypes;return ae.sort((function(e,t){return e.name.localeCompare(t.name)})),u(u({},ie),{},{fetching:!1,bmpTypes:ae});case o.FETCH_SWAMM_ALL_BMPS_SUCCESS:return u(u({},ie),{},{fetching:!1,allBmps:le.allBmps});case o.FETCH_SWAMM_BMP_STATUSES:return u(u({},ie),{},{fetchingStatuses:!0});case o.FETCH_SWAMM_BMP_STATUSES_SUCCESS:return u(u({},ie),{},{statuses:le.statuses});case o.TOGGLE_BMP_TYPE_VISIBILITY:return u(u({},ie),{},{bmpTypes:ie.bmpTypes.map((function(e){var t;return e.id===le.bmpType.id?u(u({},e),{},{visibility:!(null!==(t=le.bmpType)&&void 0!==t&&t.visibility)}):e}))});case o.TOGGLE_BMP_TYPE_GROUP:return u(u({},ie),{},{bmpTypeGroups:ie.bmpTypeGroups.map((function(e){var t;return e[0]===(null===(t=le.bmpTypeGroup)||void 0===t?void 0:t[0])?null!=e&&e[2]?(e.splice(2),e):(e.push(!0),e):e})),bmpTypes:ie.bmpTypes.map((function(e){var t;if(e.group_name===(null===(t=le.bmpTypeGroup)||void 0===t?void 0:t[0])){var r,n=null===(r=le.bmpTypeGroup)||void 0===r?void 0:r[2];return u(u({},e),{},{visibility:n})}return e}))});case o.SET_BMP_TYPE:return u(u({},ie),{},{bmpTypes:ie.bmpTypes.map((function(e){return e.id===le.bmpType.id?u(u({},e),{},{visibility:le.isVisible}):e}))});case o.TOGGLE_BMP_PRIORITY_VISIBILITY:return u(u({},ie),{},{priorities:ie.priorities.map((function(e){var t;return e.id===le.priority.id?u(u({},e),{},{visibility:!(null!==(t=le.priority)&&void 0!==t&&t.visibility)}):e}))});case o.TOGGLE_BMP_GROUP_PROFILE_VISIBILITY:return u(u({},ie),{},{groupProfiles:ie.groupProfiles.map((function(e){var t;return e.id===le.groupProfile.id?u(u({},e),{},{visibility:!(null!==(t=le.groupProfile)&&void 0!==t&&t.visibility)}):e}))});case o.TOGGLE_BMP_STATUS_VISIBILITY:return u(u({},ie),{},{statuses:ie.statuses.map((function(e){var t;return e.id===le.status.id?u(u({},e),{},{visibility:!(null!==(t=le.status)&&void 0!==t&&t.visibility)}):e}))});case o.SET_ALL_BMP_TYPES_VISIBILITY:return u(u({},ie),{},{bmpTypes:ie.bmpTypes.map((function(e){return e.visibility=le.boolValue,e}))});case o.SET_MENU_GROUP:return le.payload?u(u({},ie),{},{visibleBmpManager:!1}):ie;case o.SET_SWAMM_INPUT_MENU:return u(u({},ie),{},{showSwammInputMenu:le.visible});case o.SHOW_BMP_MANAGER:return u(u({},ie),{},{visibleBmpManager:!0});case o.HIDE_BMP_MANAGER:return u(u({},ie),{},{visibleBmpManager:!1});case o.TOGGLE_BMP_MANAGER:return u(u({},ie),{},{visibleBmpManager:!ie.visibleBmpManager});case o.SHOW_SWAMM_DATA_GRID:return u(u({},ie),{},{visibleSwammDataGrid:!0});case o.HIDE_SWAMM_DATA_GRID:return u(u({},ie),{},{visibleSwammDataGrid:!1});case o.SHOW_SWAMM_BMP_CHART:return u(u({},ie),{},{visibleSwammBmpChart:!0});case o.HIDE_SWAMM_BMP_CHART:return u(u({},ie),{},{visibleSwammBmpChart:!1});case o.SHOW_BMP_FORM:return u(u({},ie),{},{visibleBmpForm:!0});case o.SHOW_LOADING_BMP:return u(u({},ie),{},{loadingBmp:!0});case o.HIDE_LOADING_BMP:return u(u({},ie),{},{loadingBmp:!1});case o.MAKE_BMP_FORM:return u(u({},ie),{},{creatingNewBmp:!0,visibleBmpForm:!0,storedBmpForm:{group_profile_id:null===(e=le.groupProfile)||void 0===e?void 0:e.pk,group_profile:le.groupProfile,bmpName:""}});case o.MAKE_DEFAULTS_BMP_FORM:var ue={bmpName:null===(t=le.bmpType)||void 0===t?void 0:t.name,type:null===(r=le.bmpType)||void 0===r?void 0:r.id,type_data:le.bmpType,project:null===(n=le.bmpType)||void 0===n||null===(i=n.project)||void 0===i?void 0:i.id,override_n_surface_red_percent:null===(a=le.bmpType)||void 0===a?void 0:a.n_surface_red_percent,override_p_surface_red_percent:null===(s=le.bmpType)||void 0===s?void 0:s.p_surface_red_percent,override_s_surface_red_percent:null===(m=le.bmpType)||void 0===m?void 0:m.s_surface_red_percent,override_n_tiled_red_percent:null===(d=le.bmpType)||void 0===d?void 0:d.n_tiled_red_percent,override_p_tiled_red_percent:null===(c=le.bmpType)||void 0===c?void 0:c.p_tiled_red_percent,override_n_erosion_red_percent:null===(v=le.bmpType)||void 0===v?void 0:v.n_erosion_red_percent,override_p_erosion_red_percent:null===(f=le.bmpType)||void 0===f?void 0:f.p_erosion_red_percent,override_s_erosion_red_percent:null===(g=le.bmpType)||void 0===g?void 0:g.s_erosion_red_percent,override_cost_base:null===(_=le.bmpType)||void 0===_?void 0:_.cost_base,override_cost_rate_per_watershed_area:null===(y=le.bmpType)||void 0===y?void 0:y.cost_rate_per_watershed_area,override_cost_rate_per_footprint_area:null===(b=le.bmpType)||void 0===b?void 0:b.cost_rate_per_footprint_area,notes:""};return u(u({},ie),{},{storedBmpForm:u(u({},ie.storedBmpForm),ue)});case o.MAKE_EXISTING_BMP_FORM:var pe=null!=ie&&null!==(h=ie.storedBmpForm)&&void 0!==h&&h.outlet_fid?null===(E=ie.storedBmpForm)||void 0===E?void 0:E.outlet_fid:null===(w=le.bmp)||void 0===w?void 0:w.outlet_fid,se=null!=ie&&null!==(T=ie.storedBmpForm)&&void 0!==T&&T.footprint_fid?null===(B=ie.storedBmpForm)||void 0===B?void 0:B.footprint_fid:null===(F=le.bmp)||void 0===F?void 0:F.footprint_fid,me=null!=ie&&null!==(S=ie.storedBmpForm)&&void 0!==S&&S.watershed_fid?null===(M=ie.storedBmpForm)||void 0===M?void 0:M.watershed_fid:null===(P=le.bmp)||void 0===P?void 0:P.watershed_fid,de=u(u({},le.bmp),{},{id:null===(O=le.bmp)||void 0===O?void 0:O.id,bmpName:null===(x=le.bmp)||void 0===x||null===(I=x.type_data)||void 0===I?void 0:I.name,type:null===(N=le.bmp)||void 0===N||null===(A=N.type_data)||void 0===A?void 0:A.id,type_data:null===(R=le.bmp)||void 0===R?void 0:R.type_data,project:null===(C=le.bmp)||void 0===C?void 0:C.project,group_profile:null===(D=le.bmp)||void 0===D?void 0:D.group_profile,group_profile_id:null===(G=le.bmp)||void 0===G||null===(L=G.group_profile)||void 0===L?void 0:L.id,override_n_surface_red_percent:null===(k=le.bmp)||void 0===k?void 0:k.override_n_surface_red_percent,override_p_surface_red_percent:null===(j=le.bmp)||void 0===j?void 0:j.override_p_surface_red_percent,override_s_surface_red_percent:null===(U=le.bmp)||void 0===U?void 0:U.override_s_surface_red_percent,override_n_tiled_red_percent:null===(W=le.bmp)||void 0===W?void 0:W.override_n_tiled_red_percent,override_p_tiled_red_percent:null===(H=le.bmp)||void 0===H?void 0:H.override_p_tiled_red_percent,override_n_erosion_red_percent:null===(Y=le.bmp)||void 0===Y?void 0:Y.override_n_erosion_red_percent,override_p_erosion_red_percent:null===(V=le.bmp)||void 0===V?void 0:V.override_p_erosion_red_percent,override_s_erosion_red_percent:null===(q=le.bmp)||void 0===q?void 0:q.override_s_erosion_red_percent,override_cost_base:null===(z=le.bmp)||void 0===z?void 0:z.override_cost_base,override_cost_rate_per_watershed_area:null===(K=le.bmp)||void 0===K?void 0:K.override_cost_rate_per_watershed_area,override_cost_rate_per_footprint_area:null===(J=le.bmp)||void 0===J?void 0:J.override_cost_rate_per_footprint_area,notes:null===(X=le.bmp)||void 0===X?void 0:X.notes,owner_identifier:null===(Z=le.bmp)||void 0===Z?void 0:Z.owner_identifier,field_identifier:null===($=le.bmp)||void 0===$?void 0:$.field_identifier,outlet_fid:pe,footprint_fid:se,watershed_fid:me});return u(u({},ie),{},{storedBmpForm:de,updatingBmp:null});case o.HIDE_BMP_FORM:return u(u({},ie),{},{visibleBmpForm:!1});case o.CLEAR_BMP_FORM:return u(u({},ie),{},{creatingNewBmp:!1,storedBmpForm:null,BmpFormBmpTypeId:null,visibleBmpForm:!1,updatingBmp:null});case o.SUBMIT_BMP_FORM_SUCCESS:return(null===(Q=ie.allBmps)||void 0===Q?void 0:Q.map((function(e){return e.id}))).indexOf(null===(ee=le.bmp)||void 0===ee?void 0:ee.id)>-1?u(u({},ie),{},{allBmps:ie.allBmps.map((function(e){var t;return e.id===(null===(t=le.bmp)||void 0===t?void 0:t.id)?le.bmp:e}))}):u(u({},ie),{},{allBmps:[].concat((oe=ie.allBmps,function(e){if(Array.isArray(e))return l(e)}(oe)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(oe)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(oe)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[le.bmp])});case o.SUBMIT_BMP_FORM_ERROR:return u(u({},ie),{},{showSubmitBmpFormError:!0});case o.UPDATE_BMP_FORM:return null!=le&&null!==(te=le.kv)&&void 0!==te&&null!==(re=te.type_data)&&void 0!==re&&re.id?u(u({},ie),{},{BmpFormBmpTypeId:le.kv.type_data.id}):null!=le&&null!==(ne=le.kv)&&void 0!==ne&&ne.group_profile?u(u({},ie),{},{storedBmpForm:u(u(u({},ie.storedBmpForm),le.kv),{},{group_profile:null==le||null===(ce=le.kv)||void 0===ce?void 0:ce.group_profile,group_profile_id:null==le||null===(ve=le.kv)||void 0===ve||null===(fe=ve.group_profile)||void 0===fe?void 0:fe.pk})}):u(u({},ie),{},{storedBmpForm:u(u({},ie.storedBmpForm),le.kv)});var ce,ve,fe;case o.SET_DRAWING_BMP_LAYER_NAME:var ge=!1;return le.drawingBmpLayerName!==ie.drawingBmpLayerName&&(ge=le.drawingBmpLayerName),u(u({},ie),{},{drawingBmpLayerName:ge});case o.CLEAR_DRAWING_BMP_LAYER_NAME:return u(u({},ie),{},{drawingBmpLayerName:null});case o.SET_EXPANDED_BMP_TYPE_GROUP_NAME:return u(u({},ie),{},{expandedBmpTypeGroupName:le.expandedBmpTypeGroupName});case o.REGISTER_MISSING_BMP_FEATURE_ID:return u(u({},ie),{},{missingBmpFeatureId:le.missingBmpFeatureId});case o.SET_COMPLEX_BMP_FORM:return u(u({},ie),{},{complexBmpForm:le.complexBmpForm});case o.SET_EXPANDED_FILTER:return ie.expandedFilter===le.expandedFilter?u(u({},ie),{},{expandedFilter:null}):u(u({},ie),{},{expandedFilter:le.expandedFilter});case o.SET_BMP_LAYERS:return u(u({},ie),{},{bmpOutletLayer:le.bmpOutletLayer,bmpFootprintLayer:le.bmpFootprintLayer,bmpWatershedLayer:le.bmpWatershedLayer});case o.SET_CHANGING_BMP_TYPE:return u(u({},ie),{},{changingBmpType:le.changingBmpType});case o.SET_EDITING_BMP_FEATURE_ID:return u(u({},ie),{},{editingBmpFeatureId:le.editingBmpFeatureId});case o.CLEAR_EDITING_BMP_FEATURE_ID:return u(u({},ie),{},{editingBmpFeatureId:null});case o.DELETE_BMP_SUCCESS:return u(u({},ie),{},{allBmps:ie.allBmps.filter((function(e){return e.id!==le.bmpId}))});case o.FETCH_SWAMM_TARGETS_SUCCESS:return u(u({},ie),{},{fetchingTargets:!1,targets:le.targets});case o.SELECT_SWAMM_TARGET_ID:return u(u({},ie),{},{selectedTargetId:le.selectedTargetId});case o.SET_BMP_FILTER_MODE:return u(u({},ie),{},{bmpFilterMode:le.bmpFilterMode});case o.UPDATE_TARGET_FORM:return u(u({},ie),{},{targetForm:u(u({},ie.targetForm),le.kv)});case o.SHOW_TARGET_FORM:return u(u({},ie),{},{visibleTargetForm:le.visibleTargetForm,targetForm:le.target});case o.HIDE_TARGET_FORM:return u(u({},ie),{},{visibleTargetForm:le.visibleTargetForm});case o.UPDATE_BMP_TYPE_GROUPS:var _e=le.bmpTypeGroups;return _e.map((function(e){return null!=e&&e[2]||e.push(!0),e})),u(u({},ie),{},{bmpTypeGroups:_e});case o.SET_SWAMM_EROSION_DATA:return u(u({},ie),{},{erosions:le.data});case o.SET_SWAMM_NITROGEN_DATA:return u(u({},ie),{},{nitrogen:le.data});case o.SET_SWAMM_PHOSPHORUS_DATA:return u(u({},ie),{},{phosphorus:le.data});case o.SET_SWAMM_SEDIMENT_DATA:return u(u({},ie),{},{sediment:le.data});default:return ie}}},epics:{initSwammEpic:function(e,t){return e.ofType(o.INIT_SWAMM).filter((function(){var e;return null===(e=t.getState())||void 0===e?void 0:e.gnresource.id})).switchMap((function(){var e;return Xe().Observable.from($e.post("/swamm/api/project/get_project_from_map_id/",{mapId:null===(e=t.getState())||void 0===e?void 0:e.gnresource.id}).catch((function(e){return console.log("** swamm get_project_from_map_id",e),"error"}))).filter((function(e){return(null==e?void 0:e.status)<=400})).filter((function(){var e,r;return!(null===(e=t.getState())||void 0===e||null===(r=e.security)||void 0===r||!r.user)})).switchMap((function(e){return Xe().Observable.from($e.get("/swamm/api/project/".concat(e.data.projectId,"/"))).switchMap((function(t){var r;return Xe().Observable.of((0,o.setSwammProjectData)(t.data)).concat(Xe().Observable.of((0,v.setSvConfig)(null===(r=t.data)||void 0===r?void 0:r.simple_view_config)),Xe().Observable.from($e.get("/swamm/api/".concat(e.data.projectId,"/bmp-type/"))).switchMap((function(e){return Xe().Observable.of((0,o.fetchSwammBmpTypesSuccess)(e.data))})),Xe().Observable.from($e.get("/api/v2/groups?page_size=1000")).switchMap((function(e){var t;return Xe().Observable.of((0,o.fetchGroupProfilesSuccess)(null===(t=e.data)||void 0===t?void 0:t.group_profiles))})),Xe().Observable.from($e.get("/swamm/api/".concat(e.data.projectId,"/bmps/status_list/"))).switchMap((function(e){return Xe().Observable.of((0,o.fetchSwammBmpStatusesSuccess)(e.data))})),Xe().Observable.from($e.get("/swamm/api/".concat(e.data.projectId,"/pollutant-loading-target/"))).switchMap((function(e){return Xe().Observable.of((0,o.fetchSwammTargetsSuccess)(e.data))})),Xe().Observable.from($e.get("/swamm/api/".concat(e.data.projectId,"/bmp-type/bmp_type_group_list/"))).switchMap((function(e){return Xe().Observable.of((0,o.updateBmpTypeGroups)(e.data))})),Xe().Observable.from($e.get("/swamm/api/".concat(e.data.projectId,"/erosion/"))).switchMap((function(e){return Xe().Observable.of((0,o.setSwammErosionData)(e.data))})),Xe().Observable.from($e.get("/swamm/api/".concat(e.data.projectId,"/nitrogen/"))).switchMap((function(e){return Xe().Observable.of((0,o.setSwammNitrogenData)(e.data))})),Xe().Observable.from($e.get("/swamm/api/".concat(e.data.projectId,"/phosphorus/"))).switchMap((function(e){return Xe().Observable.of((0,o.setSwammPhosphorusData)(e.data))})),Xe().Observable.from($e.get("/swamm/api/".concat(e.data.projectId,"/sediment/"))).switchMap((function(e){return Xe().Observable.of((0,o.setSwammSedimentData)(e.data))})))}))}))}))},startBmpCreateFeatureEpic:function(e,t){return e.ofType(_.Hu).filter((function(){var e,r,n,o;return console.log("startBmpCreateFeatureEpic1",!(null!==(e=t.getState())&&void 0!==e&&null!==(r=e.swamm)&&void 0!==r&&r.editingBmpFeatureId)),!(null!==(n=t.getState())&&void 0!==n&&null!==(o=n.swamm)&&void 0!==o&&o.editingBmpFeatureId)})).filter((function(e){var r,n,o,i,l,a;return console.log("startBmpCreateFeatureEpic2",null==e||null===(r=e.filterObj)||void 0===r?void 0:r.featureTypeName.includes(null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.drawingBmpLayerName)),null==e||null===(i=e.filterObj)||void 0===i?void 0:i.featureTypeName.includes(null===(l=t.getState())||void 0===l||null===(a=l.swamm)||void 0===a?void 0:a.drawingBmpLayerName)})).filter((function(e){return console.log("startBmpCreateFeatureEpic3","querySetNewBmpLayer"===(null==e?void 0:e.reason)),"querySetNewBmpLayer"===(null==e?void 0:e.reason)})).flatMap((function(){return Xe().Observable.of((0,f.lg)(),(0,f.lx)([{}]),(0,f.kA)(),(0,Ze.WP)("draw.tempFeatures"),(0,o.hideLoadingBmp)())}))},saveBmpCreateFeatureEpic:function(e,t){return e.ofType(f.AY).filter((function(){var e,r,n,o;return console.log("saveBmpCreateFeatureEpic1",null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.drawingBmpLayerName),null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.drawingBmpLayerName})).filter((function(){var e,r,n,o;return console.log("WARNING: saveBmpCreateFeatureEpic2",!(null!==(e=t.getState())&&void 0!==e&&null!==(r=e.swamm)&&void 0!==r&&r.editingBmpFeatureId)),!(null!==(n=t.getState())&&void 0!==n&&null!==(o=n.swamm)&&void 0!==o&&o.editingBmpFeatureId)})).flatMap((function(){var e,r;return Xe().Observable.of((0,o.registerMissingBmpFeatureId)(null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.drawingBmpLayerName))}))},setCreateBmpDrawingLayerEpic:function(e,t){return e.ofType(_.u7).filter((function(e){var r,n,o,i,l,a;return console.log("action?.typeName",null==e?void 0:e.typeName),console.log("setBmpDrawingLayerEpic1",null==e||null===(r=e.typeName)||void 0===r?void 0:r.includes(null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.drawingBmpLayerName)),null==e||null===(i=e.typeName)||void 0===i?void 0:i.includes(null===(l=t.getState())||void 0===l||null===(a=l.swamm)||void 0===a?void 0:a.drawingBmpLayerName)})).flatMap((function(e){return Xe().Observable.of((0,_.IO)("http://localhost:8080/geoserver/wfs",{featureTypeName:null==e?void 0:e.typeName,filterType:"OGC",ogcVersion:"1.1.0"},{},"querySetNewBmpLayer"))}))},setEditBmpDrawingLayerEpic:function(e,t){return e.ofType(_.S0).filter((function(e){var r,n,o,i,l,a,u,p;return console.log("setBmpDrawingLayerEpic1",null==e||null===(r=e.typeName)||void 0===r?void 0:r.includes((null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.code)+"_bmp_")),null==e||null===(l=e.typeName)||void 0===l?void 0:l.includes((null===(a=t.getState())||void 0===a||null===(u=a.swamm)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.code)+"_bmp_")})).flatMap((function(e){return Xe().Observable.of((0,_.IO)("http://localhost:8080/geoserver/wfs",{featureTypeName:null==e?void 0:e.typeName,filterType:"OGC",ogcVersion:"1.1.0"},{},"querySetNewBmpLayer"))}))},startBmpEditFeatureEpic:function(e,t){return e.ofType(_.Hu).filter((function(){var e,r,n,o;return console.log("startBmpEditFeatureEpic1",null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.editingBmpFeatureId),null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.editingBmpFeatureId})).filter((function(e){return console.log("startBmpEditFeatureEpic2","querySetNewBmpLayer"===(null==e?void 0:e.reason)),"querySetNewBmpLayer"===(null==e?void 0:e.reason)})).flatMap((function(){var e,r,n;return Xe().Observable.of((0,f.KD)(null===(e=t.getState())||void 0===e||null===(r=e.query)||void 0===r||null===(n=r.result)||void 0===n?void 0:n.features.filter((function(e){var r,n;return(null==e?void 0:e.id)===(null===(r=t.getState())||void 0===r||null===(n=r.swamm)||void 0===n?void 0:n.editingBmpFeatureId)}))),(0,f.lg)(),(0,o.hideLoadingBmp)(),(0,_.zc)())}))},saveBmpEditFeatureEpic:function(e,t){return e.ofType(f.AY).filter((function(){var e,r,n,o;return console.log("saveBmpEditFeatureEpic",null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.editingBmpFeatureId),null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.editingBmpFeatureId})).flatMap((function(){var e,r,n,i,l,a,u,p;return Xe().Observable.of((0,o.clearEditingBmpFeatureId)(),(0,Me.lo)(),(0,f.nY)(),(0,Ze.WP)("highlight.emptyFeatures"),(0,o.submitBmpForm)(null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.storedBmpForm,null===(n=t.getState())||void 0===n||null===(i=n.swamm)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id),(0,_.zc)(),(0,F.ct)(null===(a=t.getState())||void 0===a||null===(u=a.layers)||void 0===u||null===(p=u.flat)||void 0===p?void 0:p.filter((function(e){var r,n;return null==e?void 0:e.name.includes(null===(r=t.getState())||void 0===r||null===(n=r.swamm)||void 0===n?void 0:n.drawingBmpLayerName)}))[0].id),(0,o.clearDrawingBmpLayerName)())}))},finishBmpCreateFeatureEpic:function(e,t){return e.ofType(_.Hu).filter((function(){var e,r,n,o;return console.log("finishBmpCreateFeatureEpic1",!(null!==(e=t.getState())&&void 0!==e&&null!==(r=e.swamm)&&void 0!==r&&r.editingBmpFeatureId)),!(null!==(n=t.getState())&&void 0!==n&&null!==(o=n.swamm)&&void 0!==o&&o.editingBmpFeatureId)})).filter((function(){var e,r,n,o;return console.log("finishBmpCreateFeatureEpic2",null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.missingBmpFeatureId),null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o?void 0:o.missingBmpFeatureId})).mergeMap((function(){var e,r,n,o,i,l,a=null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r||null===(n=r.projectData)||void 0===n?void 0:n.id,u=null===(o=t.getState())||void 0===o||null===(i=o.swamm)||void 0===i||null===(l=i.drawingBmpLayerName)||void 0===l?void 0:l.slice(8);return Xe().Observable.from($e.get("/swamm/api/".concat(a,"/bmps/get-latest-feature-id/").concat(u,"/")))})).mergeMap((function(e){var r,n,i,l,a,u,p,s;return Xe().Observable.of((0,o.updateBmpForm)(e.data),(0,o.registerMissingBmpFeatureId)(!1),(0,Me.lo)(),(0,f.nY)(),(0,Ze.WP)("highlight.emptyFeatures"),(0,o.submitBmpForm)(null===(r=t.getState())||void 0===r||null===(n=r.swamm)||void 0===n?void 0:n.storedBmpForm,null===(i=t.getState())||void 0===i||null===(l=i.swamm)||void 0===l||null===(a=l.projectData)||void 0===a?void 0:a.id),(0,_.zc)(),(0,F.ct)(null===(u=t.getState())||void 0===u||null===(p=u.layers)||void 0===p||null===(s=p.flat)||void 0===s?void 0:s.filter((function(e){var r,n;return null==e?void 0:e.name.includes(null===(r=t.getState())||void 0===r||null===(n=r.swamm)||void 0===n?void 0:n.drawingBmpLayerName)}))[0].id),(0,o.clearDrawingBmpLayerName)())}))},autoSaveBmpFormEpic:function(e,t){return e.ofType(o.MAKE_EXISTING_BMP_FORM).filter((function(){var e,r,n,o,i,l,a,u,p,s,m,d;return(null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r||null===(n=r.storedBmpForm)||void 0===n?void 0:n.footprint_fid)&&!(null!==(o=t.getState())&&void 0!==o&&null!==(i=o.swamm)&&void 0!==i&&null!==(l=i.storedBmpForm)&&void 0!==l&&l.calculated_footprint_area)||(null===(a=t.getState())||void 0===a||null===(u=a.swamm)||void 0===u||null===(p=u.storedBmpForm)||void 0===p?void 0:p.watershed_fid)&&!(null!==(s=t.getState())&&void 0!==s&&null!==(m=s.swamm)&&void 0!==m&&null!==(d=m.storedBmpForm)&&void 0!==d&&d.calculated_watershed_area)})).flatMap((function(){var e,r,n,i,l;return Xe().Observable.of((0,o.submitBmpForm)(null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r?void 0:r.storedBmpForm,null===(n=t.getState())||void 0===n||null===(i=n.swamm)||void 0===i||null===(l=i.projectData)||void 0===l?void 0:l.id))}))},catchBmpFeatureClick:function(e,t){return e.ofType(g.XL).filter((function(e){var t,r=null;if("FeatureCollection"===(null==e||null===(t=e.data)||void 0===t?void 0:t.type)){var n,o;null==e||null===(n=e.data)||void 0===n||null===(o=n.features)||void 0===o||o.map((function(e){var t;console.log("FeatureCollection feature:",e),(/([a-zA-Z0-9]{3}_){2}outlet/.test(e.id)||/([a-zA-Z0-9]{3}_){2}footprint/.test(e.id)||/([a-zA-Z0-9]{3}_){2}watershed/.test(e.id))&&(r=null==e||null===(t=e.properties)||void 0===t?void 0:t.id)}))}else{var i=e.data.substring(e.data.indexOf("fid = ")+6,e.data.indexOf("the_geom")-1),l="".concat(e.layer.name.split(":")[1],".").concat(i);console.log("HTML string featureIdFull:",l),r=i}return console.log("bmpFeatureId:",r),y(r)})).mergeMap((function(e){var r,n,o,i,l=null;if("FeatureCollection"===(null==e||null===(r=e.data)||void 0===r?void 0:r.type)){var a,u;null==e||null===(a=e.data)||void 0===a||null===(u=a.features)||void 0===u||u.map((function(e){var t;console.log("FeatureCollection feature:",e),(/([a-zA-Z0-9]{3}_){2}outlet/.test(e.id)||/([a-zA-Z0-9]{3}_){2}footprint/.test(e.id)||/([a-zA-Z0-9]{3}_){2}watershed/.test(e.id))&&(l=null==e||null===(t=e.properties)||void 0===t?void 0:t.id)}))}else{var p=e.data.substring(e.data.indexOf("fid = ")+6,e.data.indexOf("the_geom")-1),s="".concat(e.layer.name.split(":")[1],".").concat(p);console.log("HTML string featureIdFull:",s),l=p}console.log("bmpFeatureId:",l);var m=null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o||null===(i=o.projectData)||void 0===i?void 0:i.id;return Xe().Observable.from($e.get("/swamm/api/".concat(m,"/bmps/").concat(l,"/")))})).mergeMap((function(e){return Xe().Observable.of((0,g.Mc)(),(0,o.getBmpFormSuccess)(e.data),(0,o.makeExistingBmpForm)(e.data),(0,o.setUpdatingBmp)(e.data),(0,o.showBmpForm)())}))},getBmpTypeGroups:function(e,t){return e.ofType(o.FETCH_PROJECT_MANAGER_CONFIG_SUCCESS).mergeMap((function(){var e,r,n,o=null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.base_map;return Xe().Observable.from($e.get("/swamm/api/".concat(o,"/bmp-type/bmp_type_group_list/")))})).exhaustMap((function(e){var r=E(t.getState()),n=w(t.getState()),i=T(t.getState());return Xe().Observable.of((0,o.updateBmpTypeGroups)(e.data),(0,o.setBmpLayers)(r,n,i))}))},downloadBmpReportEpic:function(e){return e.ofType(o.DOWNLOAD_BMP_REPORT).mergeMap((function(e){return Xe().Observable.from(window.open("/swamm/print/".concat(e.bmpId,"/download/"),"_blank"))}))},filterBmpEpic:function(e,t){return e.ofType(v.SET_OPEN_MENU_GROUP_ID,o.TOGGLE_BMP_TYPE_VISIBILITY,o.SET_ALL_BMP_TYPES_VISIBILITY,o.TOGGLE_BMP_TYPE_GROUP,o.TOGGLE_BMP_PRIORITY_VISIBILITY,o.TOGGLE_BMP_STATUS_VISIBILITY,o.TOGGLE_BMP_GROUP_PROFILE_VISIBILITY).mergeMap((function(){var e,r,n,o,i,l,a,u,p=JSON.parse(JSON.stringify(et)),s=!1,m=!1;if(null===(e=t.getState())||void 0===e||null===(r=e.swamm)||void 0===r||r.bmpTypes.map((function(e){if(null!=e&&e.visibility){var t=Qe("type",e.id);p.filterObj.filterFields.push(t),s=!0}})),!s){var d=Qe("type",-1);p.filterObj.filterFields.push(d)}if(null===(n=t.getState())||void 0===n||null===(o=n.swamm)||void 0===o||o.priorities.map((function(e){if(null!=e&&e.visibility){var t=Qe("priority",e.id);p.filterObj.filterFields.push(t),m=!0}})),!m){var c=Qe("priority",-1);p.filterObj.filterFields.push(c)}null===(i=t.getState())||void 0===i||null===(l=i.swamm)||void 0===l||l.groupProfiles.map((function(e){if(null!=e&&e.visibility){var t=Qe("group_profile",e.id);p.filterObj.filterFields.push(t)}})),null===(a=t.getState())||void 0===a||null===(u=a.swamm)||void 0===u||u.statuses.map((function(e){if(null!=e&&e.visibility){var t=Qe("status",null==e?void 0:e.name);p.filterObj.filterFields.push(t)}}));var v=JSON.parse(JSON.stringify(p)),f=JSON.parse(JSON.stringify(p)),g=JSON.parse(JSON.stringify(p)),_=E(t.getState()),y=w(t.getState()),b=T(t.getState());return v.filterObj.featureTypeName=null==_?void 0:_.name,f.filterObj.featureTypeName=null==y?void 0:y.name,g.filterObj.featureTypeName=null==b?void 0:b.name,console.log("outletFilter: ",v),console.log("footprintFilter: ",f),console.log("watershedFilter: ",g),Xe().Observable.of((0,F.He)(null==_?void 0:_.id,v),(0,F.He)(null==y?void 0:y.id,f),(0,F.He)(null==b?void 0:b.id,g))}))}}})},652948:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){var o,i,l,a;o=e,i=t,l=r[t],a=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i),(i="symbol"==n(a)?a:String(a))in o?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=r(375875),a="INIT_SWAMM",u="SET_SWAMM_PROJECT_DATA",p="FETCH_SWAMM_BMPTYPES_SUCCESS",s="FETCH_GROUP_PROFILES_SUCCESS",m="FETCH_PROJECT_MANAGER_CONFIG_ERROR",d="FETCH_PROJECT_MANAGER_CONFIG_SUCCESS",c="FETCH_SWAMM_ALL_BMPS_SUCCESS",v="FETCH_SWAMM_BMP_STATUSES_SUCCESS",f="FETCH_SWAMM_TARGETS_ERROR",g="FETCH_SWAMM_TARGETS_SUCCESS",_="SELECT_SWAMM_TARGET_ID",y="DOWNLOAD_TARGET_DATA_ERROR",b="DOWNLOAD_TARGET_DATA_SUCCESS",h="SHOW_SWAMM_BMP_CHART",E="HIDE_SWAMM_BMP_CHART",w="SHOW_TARGET_FORM",T="HIDE_TARGET_FORM",B="UPDATE_TARGET_FORM",F="CLEAR_TARGET_FORM",S="SUBMIT_TARGET_FORM_SUCCESS",M="DELETE_TARGET_SUCCESS",P="DELETE_TARGET_ERROR",O="SHOW_SWAMM_DATA_GRID",x="HIDE_SWAMM_DATA_GRID",I="SHOW_SWAMM_FEATURE_GRID",N="SHOW_BMP_MANAGER",A="HIDE_BMP_MANAGER",R="TOGGLE_BMP_MANAGER",C="SET_MENU_GROUP",D="TOGGLE_BMP_TYPE_VISIBILITY",G="TOGGLE_BMP_PRIORITY_VISIBILITY",L="TOGGLE_BMP_GROUP_PROFILE_VISIBILITY",k="TOGGLE_BMP_STATUS_VISIBILITY",j="SET_ALL_BMP_TYPES_VISIBILITY",U="SET_CHANGING_BMP_TYPE",W="SET_COMPLEX_BMP_FORM",H="SET_EXPANDED_FILTER",Y="SET_BMP_LAYERS",V="SET_STATUS_FILTER",q="SHOW_BMP_FORM",z="HIDE_BMP_FORM",K="SHOW_LOADING_BMP",J="HIDE_LOADING_BMP",X="SUBMIT_BMP_FORM_SUCCESS",Z="MAKE_BMP_FORM",$="CLEAR_BMP_FORM",Q="MAKE_DEFAULTS_BMP_FORM",ee="MAKE_EXISTING_BMP_FORM",te="SET_UPDATING_BMP",re="TOGGLE_BMP_TYPE_GROUP",ne="SET_EXPANDED_BMP_TYPE_GROUP_NAME",oe="UPDATE_BMP_FORM",ie="SET_DRAWING_BMP_LAYER_NAME",le="START_DRAWING_BMP",ae="CLEAR_DRAWING_BMP_LAYER_NAME",ue="REGISTER_MISSING_BMP_FEATURE_ID",pe="SET_EDITING_BMP_FEATURE_ID",se="CLEAR_EDITING_BMP_FEATURE_ID",me="UPDATE_BMP_TYPE_GROUPS",de="DELETE_BMP_SUCCESS",ce="DELETE_BMP_ERROR",ve="SET_BMP_FILTER_MODE",fe="DOWNLOAD_BMP_REPORT",ge="SET_SWAMM_INPUT_MENU",_e="SET_SWAMM_EROSION_DATA",ye="SET_SWAMM_NITROGEN_DATA",be="SET_SWAMM_PHOSPHORUS_DATA",he="SET_SWAMM_SEDIMENT_DATA",Ee=r(984110),we=r(197395).SHOW_NOTIFICATION,Te=function(e){return e.map((function(e){return e.visibility=!0,e})),{type:p,bmpTypes:e}};function Be(e){return{type:we,title:"Fetch Swamm Bmp Types Error",autoDismiss:600,position:"tc",message:"".concat(null==e?void 0:e.data),uid:Ee(),level:"error"}}var Fe=function(e){return{type:d,payload:e}};function Se(e){return{type:m,error:e}}var Me=function(e){var t=e.map((function(e){return i(i({},e),{},{id:null==e?void 0:e.pk,visibility:"Watershed Management Plan"!==e.title})}));return{type:s,groupProfiles:t}};function Pe(e){return{type:we,title:"Fetch fetchGroupProfiles Error",autoDismiss:600,position:"tc",message:"".concat(null==e?void 0:e.data),uid:Ee(),level:"error"}}var Oe=function(e){return{type:c,allBmps:e}};function xe(e){return{type:we,title:"Fetch Swamm All Bmps Error",autoDismiss:600,position:"tc",message:"".concat(null==e?void 0:e.data),uid:Ee(),level:"error"}}var Ie=function(e){return{type:v,statuses:e}};function Ne(e){return{type:we,title:"Fetch Swamm Bmp Statuses Error",autoDismiss:600,position:"tc",message:"".concat(null==e?void 0:e.data),uid:Ee(),level:"error"}}var Ae=function(){return{type:z}},Re=function(e){return{type:U,changingBmpType:e}},Ce=function(e){return{type:ee,bmp:e}},De=function(){return{type:$}},Ge=function(){return{type:ae}},Le=function(){return{type:se}},ke=function(e){return function(t){t({type:g,targets:e})}},je=function(e){return function(t){t({type:we,title:"Failed to load Targets",autoDismiss:60,position:"tc",message:"".concat(null==e?void 0:e.data),uid:Ee(),level:"error"}),t({type:f,error:e})}},Ue=function(e){return function(t){return l.get("/swamm/api/".concat(e,"/pollutant-loading-target/")).then((function(e){t(ke(e.data))})).catch((function(e){t(je(e))}))}},We=function(e){return function(e){e({type:we,title:"Success",autoDismiss:5,position:"tc",message:"Successfully created *.xlsx file",uid:Ee(),level:"success"}),e({type:b})}},He=function(e){return function(t){t({type:we,title:"Failed to format *.xlsx data",autoDismiss:60,position:"tc",message:"".concat(null==e?void 0:e.data),uid:Ee(),level:"error"}),t({type:y,error:e})}},Ye=function(e){return function(t){t({type:we,title:"Success",autoDismiss:6,position:"tc",message:"BMP ID: ".concat(e.id," saved"),uid:Ee(),level:"success"}),t({type:X,bmp:e})}};function Ve(e){var t,r;return{type:we,title:"Submit Bmp Form Error",autoDismiss:600,position:"tc",message:"Error saving BMP: ".concat(null==e||null===(t=e.data)||void 0===t||null===(r=t.errors)||void 0===r?void 0:r[0]),uid:Ee(),level:"error"}}var qe=function(e){return function(t){t({type:we,title:"Delete BMP Success",autoDismiss:6,position:"tc",message:"Successfully deleted BMP: ".concat(e),uid:Ee(),level:"success"}),t({type:de,bmpId:e})}},ze=function(e){return function(t){t({type:we,title:"Delete BMP Error",autoDismiss:60,position:"tc",message:"".concat(null==e?void 0:e.data),uid:Ee(),level:"error"}),t({type:ce,error:e})}},Ke=function(){return{type:T,visibleTargetForm:!1}},Je=function(){return{type:F,targetForm:null}},Xe=function(e){return function(t){t({type:we,title:"Success",autoDismiss:6,position:"tc",message:"Target: ".concat(e.id," saved"),uid:Ee(),level:"success"}),t({type:S,target:e})}};function Ze(e){var t,r;return{type:we,title:"Submit Target Form Error",autoDismiss:600,position:"tc",message:"Error saving Target: ".concat(null==e||null===(t=e.data)||void 0===t||null===(r=t.errors)||void 0===r?void 0:r[0]),uid:Ee(),level:"error"}}var $e=function(e){return function(t){t({type:we,title:"Delete Target Success",autoDismiss:6,position:"tc",message:"Successfully deleted Target: ".concat(e),uid:Ee(),level:"success"}),t({type:M,targetId:e})}},Qe=function(e){return function(t){t({type:we,title:"Delete Target Error",autoDismiss:60,position:"tc",message:"".concat(null==e?void 0:e.data),uid:Ee(),level:"error"}),t({type:P,error:e})}};e.exports={INIT_SWAMM:a,initSwamm:function(){return{type:a}},SET_SWAMM_PROJECT_DATA:u,setSwammProjectData:function(e){return{type:u,projectData:e}},UPDATE_BMP_TYPE_GROUPS:me,updateBmpTypeGroups:function(e){return{type:me,bmpTypeGroups:e}},FETCH_SWAMM_BMPTYPES:"FETCH_SWAMM_BMPTYPES",fetchSwammBmpTypes:function(e){return function(t){return l.get("/swamm/api/".concat(e,"/bmp-type/")).then((function(e){t(Te(e.data))})).catch((function(e){t(Be(e))}))}},FETCH_SWAMM_BMPTYPES_ERROR:"FETCH_SWAMM_BMPTYPES_ERROR",fetchSwammBmpTypesError:Be,FETCH_SWAMM_BMPTYPES_SUCCESS:p,fetchSwammBmpTypesSuccess:Te,FETCH_PROJECT_MANAGER_CONFIG:"FETCH_PROJECT_MANAGER_CONFIG",fetchProjectManagerConfig:function(e){return function(t){return l.get("/projects/api/maps/".concat(t,"/")).then((function(t){e(Fe(t.data.project))})).catch((function(t){e(Se(t))}))}},FETCH_PROJECT_MANAGER_CONFIG_ERROR:m,fetchProjectManagerConfigError:Se,FETCH_PROJECT_MANAGER_CONFIG_SUCCESS:d,fetchProjectManagerConfigSuccess:Fe,FETCH_GROUP_PROFILES:"FETCH_GROUP_PROFILES",fetchGroupProfiles:function(){return function(e){return l.get("/api/v2/groups?page_size=1000").then((function(t){e(Me(t.data.group_profiles))})).catch((function(t){e(Pe(t))}))}},FETCH_GROUP_PROFILES_ERROR:"FETCH_GROUP_PROFILES_ERROR",fetchGroupProfilesError:Pe,FETCH_GROUP_PROFILES_SUCCESS:s,fetchGroupProfilesSuccess:Me,FETCH_SWAMM_ALL_BMPS:"FETCH_SWAMM_ALL_BMPS",fetchSwammAllBmps:function(e){return function(t){return l.get("/swamm/api/".concat(e,"/bmps/")).then((function(e){t(Oe(e.data))})).catch((function(e){t(xe(e))}))}},FETCH_SWAMM_ALL_BMPS_ERROR:"FETCH_SWAMM_ALL_BMPS_ERROR",fetchSwammAllBmpsError:xe,FETCH_SWAMM_ALL_BMPS_SUCCESS:c,fetchSwammAllBmpsSuccess:Oe,FETCH_SWAMM_BMP_STATUSES:"FETCH_SWAMM_BMP_STATUSES",fetchSwammBmpStatuses:function(e){return function(t){return l.get("/swamm/api/".concat(e,"/bmps/status_list/")).then((function(e){t(Ie(e.data))})).catch((function(e){t(Ne(e))}))}},FETCH_SWAMM_BMP_STATUSES_ERROR:"FETCH_SWAMM_BMP_STATUSES_ERROR",fetchSwammBmpStatusesError:Ne,FETCH_SWAMM_BMP_STATUSES_SUCCESS:v,fetchSwammBmpStatusesSuccess:Ie,FETCH_SWAMM_TARGETS:"FETCH_SWAMM_TARGETS",fetchSwammTargets:Ue,FETCH_SWAMM_TARGETS_ERROR:f,fetchSwammTargetsError:je,FETCH_SWAMM_TARGETS_SUCCESS:g,fetchSwammTargetsSuccess:ke,SELECT_SWAMM_TARGET_ID:_,selectSwammTargetId:function(e){return{type:_,selectedTargetId:e}},SUBMIT_BMP_FORM:"SUBMIT_BMP_FORM",submitBmpForm:function(e,t){return e.id?function(r){return l.patch("/swamm/api/".concat(t,"/bmps/").concat(e.id,"/"),e).then((function(e){r(Ye(e.data)),r(Re(!1)),r(Ce(e.data)),r(Ue(t))})).catch((function(e){r(Ve(e))}))}:function(r){return l.post("/swamm/api/".concat(t,"/bmps/"),e).then((function(e){r(Ye(e.data)),r(Re(!1)),r(Ce(e.data)),r(Ue(t))})).catch((function(e){r(Ve(e))}))}},SUBMIT_BMP_FORM_ERROR:"SUBMIT_BMP_FORM_ERROR",submitBmpFormError:Ve,SUBMIT_BMP_FORM_SUCCESS:X,submitBmpFormSuccess:Ye,TOGGLE_BMP_TYPE:"TOGGLE_BMP_TYPE",toggleBmpType:function(e){return function(t){t({type:"TOGGLE_BMP_TYPE",bmpType:e})}},TOGGLE_BMP_TYPE_VISIBILITY:D,toggleBmpTypeVisibility:function(e){return{type:D,bmpType:e}},TOGGLE_BMP_PRIORITY_VISIBILITY:G,toggleBmpPriorityVisibility:function(e){return{type:G,priority:e}},TOGGLE_BMP_GROUP_PROFILE_VISIBILITY:L,toggleBmpGroupProfileVisibility:function(e){return{type:L,groupProfile:e}},TOGGLE_BMP_STATUS_VISIBILITY:k,toggleBmpStatusVisibility:function(e){return{type:k,status:e}},SET_ALL_BMP_TYPES_VISIBILITY:j,setAllBmpTypesVisibility:function(e){return{type:j,boolValue:e}},SET_BMP_TYPE:"SET_BMP_TYPE",setBmpType:function(e,t){return function(r){r({type:"SET_BMP_TYPE",bmpType:e,isVisible:t})}},SET_STATUS_FILTER:V,setStatusFilter:function(e){return{type:V,statuses:e}},SET_MENU_GROUP:C,setMenuGroup:function(e){return{type:C,payload:e}},SHOW_BMP_FORM:q,showBmpForm:function(){return{type:q}},HIDE_BMP_FORM:z,hideBmpForm:Ae,SHOW_LOADING_BMP:K,showLoadingBmp:function(){return{type:K}},HIDE_LOADING_BMP:J,hideLoadingBmp:function(){return{type:J}},SHOW_SWAMM_DATA_GRID:O,showSwammDataGrid:function(){return{type:O}},HIDE_SWAMM_DATA_GRID:x,hideSwammDataGrid:function(){return{type:x}},SHOW_SWAMM_FEATURE_GRID:I,showSwammFeatureGrid:function(e){return{type:I,layer:e}},SHOW_SWAMM_BMP_CHART:h,showSwammBmpChart:function(){return{type:h}},HIDE_SWAMM_BMP_CHART:E,hideSwammBmpChart:function(){return{type:E}},SHOW_BMP_MANAGER:N,showBmpManager:function(){return{type:N}},HIDE_BMP_MANAGER:A,hideBmpManager:function(){return{type:A}},TOGGLE_BMP_MANAGER:R,toggleBmpManager:function(){return{type:R}},CLEAR_BMP_FORM:$,clearBmpForm:De,MAKE_BMP_FORM:Z,makeBmpForm:function(e){return{type:Z,groupProfile:e}},MAKE_DEFAULTS_BMP_FORM:Q,makeDefaultsBmpForm:function(e){return{type:Q,bmpType:e}},MAKE_EXISTING_BMP_FORM:ee,makeExistingBmpForm:Ce,SET_UPDATING_BMP:te,setUpdatingBmp:function(e){return{type:te,updatingBmp:e}},SET_EXPANDED_BMP_TYPE_GROUP_NAME:ne,setExpandedBmpTypeGroupName:function(e){return{type:ne,expandedBmpTypeGroupName:e}},TOGGLE_BMP_TYPE_GROUP:re,toggleBmpTypeGroup:function(e){return{type:re,bmpTypeGroup:e}},SET_CHANGING_BMP_TYPE:U,setChangingBmpType:Re,SET_COMPLEX_BMP_FORM:W,setComplexBmpForm:function(e){return{type:W,complexBmpForm:e}},SET_EXPANDED_FILTER:H,setExpandedFilter:function(e){return{type:H,expandedFilter:e}},SET_BMP_LAYERS:Y,setBmpLayers:function(e,t,r){return{type:Y,bmpOutletLayer:e,bmpFootprintLayer:t,bmpWatershedLayer:r}},getBmpFormSuccess:function(e){return function(t){t({type:we,title:"Success",autoDismiss:6,position:"tc",message:"BMP ID: ".concat(e.id," found"),uid:Ee(),level:"success"}),t({type:"GET_BMP_FORM_SUCCESS",bmp:e})}},getBmpFormError:function(e){return{type:we,title:"Get Bmp Form Error",autoDismiss:600,position:"tc",message:"Error getting BMP: ".concat(null==e?void 0:e.data),uid:Ee(),level:"error"}},UPDATE_BMP_FORM:oe,updateBmpForm:function(e){return{type:oe,kv:e}},START_DRAWING_BMP:le,startDrawingBmp:function(){return{type:le}},SET_DRAWING_BMP_LAYER_NAME:ie,setDrawingBmpLayerName:function(e){return{type:ie,drawingBmpLayerName:e}},CLEAR_DRAWING_BMP_LAYER_NAME:ae,clearDrawingBmpLayerName:Ge,REGISTER_MISSING_BMP_FEATURE_ID:ue,registerMissingBmpFeatureId:function(e){return{type:ue,missingBmpFeatureId:e}},SET_EDITING_BMP_FEATURE_ID:pe,setEditingBmpFeatureId:function(e){return{type:pe,editingBmpFeatureId:e}},CLEAR_EDITING_BMP_FEATURE_ID:se,clearEditingBmpFeatureId:Le,DELETE_BMP:"DELETE_BMP",deleteBmp:function(e,t){return function(r){return l.delete("/swamm/api/".concat(e,"/bmps/").concat(t,"/"),{}).then((function(e){r(qe(t)),r(Ae()),r(De()),r(Le()),r(Ge())})).catch((function(e){r(ze(e))}))}},DELETE_BMP_ERROR:ce,deleteBmpError:ze,DELETE_BMP_SUCCESS:de,deleteBmpSuccess:qe,SET_BMP_FILTER_MODE:ve,setBmpFilterMode:function(e){return{type:ve,bmpFilterMode:e}},SHOW_TARGET_FORM:w,showTargetForm:function(e){return{type:w,visibleTargetForm:!0,target:e}},HIDE_TARGET_FORM:T,hideTargetForm:Ke,UPDATE_TARGET_FORM:B,updateTargetForm:function(e){return{type:B,kv:e}},CLEAR_TARGET_FORM:F,clearTargetForm:Je,SUBMIT_TARGET_FORM:"SUBMIT_TARGET_FORM",submitTargetForm:function(e,t){return e.id?function(r){return l.patch("/swamm/api/".concat(t,"/pollutant-loading-target/").concat(e.id,"/"),e).then((function(e){r(Xe(e.data)),r(Ue(t)),r(Ke()),r(Je())})).catch((function(e){r(Ze(e))}))}:function(r){return l.post("/swamm/api/".concat(t,"/pollutant-loading-target/"),e).then((function(e){r(Xe(e.data)),r(Ue(t)),r(Ke()),r(Je())})).catch((function(e){r(Ze(e))}))}},SUBMIT_TARGET_FORM_SUCCESS:S,submitTargetFormSuccess:Xe,SUBMIT_TARGET_FORM_ERROR:"SUBMIT_TARGET_FORM_ERROR",submitTargetFormError:Ze,DELETE_TARGET:"DELETE_TARGET",deleteTarget:function(e,t){return function(r){return l.delete("/swamm/api/".concat(e,"/pollutant-loading-target/").concat(t,"/"),{}).then((function(n){r($e(t)),r(Ue(e)),r(Ke()),r(Je())})).catch((function(e){r(Qe(e))}))}},DELETE_TARGET_SUCCESS:M,deleteTargetSuccess:$e,DELETE_TARGET_ERROR:P,deleteTargetError:Qe,DOWNLOAD_BMP_REPORT:fe,downloadBmpReport:function(e){return{type:fe,bmpId:e}},SET_SWAMM_INPUT_MENU:ge,setSwammInputMenu:function(e){return{type:ge,visible:e}},SET_SWAMM_EROSION_DATA:_e,setSwammErosionData:function(e){return{type:_e,data:e}},SET_SWAMM_NITROGEN_DATA:ye,setSwammNitrogenData:function(e){return{type:ye,data:e}},SET_SWAMM_PHOSPHORUS_DATA:be,setSwammPhosphorusData:function(e){return{type:be,data:e}},SET_SWAMM_SEDIMENT_DATA:he,setSwammSedimentData:function(e){return{type:he,data:e}},DOWNLOAD_TARGET_DATA:"DOWNLOAD_TARGET_DATA",downloadTargetData:function(e,t){return function(r){return l.get("/swamm/api/".concat(e,"/pollutant-loading-target/").concat(t,"/download-xlsx/"),{responseType:"blob"}).then((function(e){var t,n=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=n,o.setAttribute("download",null==e||null===(t=e.headers["content-disposition"])||void 0===t?void 0:t.split("filename=")[1]),document.body.appendChild(o),o.click(),r(We(e.data))})).catch((function(e){r(He(e))}))}},DOWNLOAD_TARGET_DATA_SUCCESS:b,downloadTargetDataSuccess:We,DOWNLOAD_TARGET_DATA_ERROR:y,downloadTargetDataError:He}},34088:e=>{e.exports=function(){for(var e=arguments.length,t=[],r=0;r<e;r++)t[r]=arguments[r];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},666129:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi #swamm-bmp-form-panel {\n    top: 70px;\n    display: grid;\n    grid-template-columns: repeat(2, minmax(350px, 1fr));\n    grid-template-rows: auto 1fr auto;\n    grid-column-gap: 30px;\n    grid-row-gap: 10px;\n    background-color: #063167;\n    text-align: left;\n    width: 95%;\n    height: 80%;\n    font-size: small;\n    background-color: rgba(43, 89, 148);\n}\n\n.msgapi #swamm-bmp-form-panel input {\n    text-align: right;\n    max-width: 80px;\n}\n\n.msgapi #swamm-bmp-form-grid-header {\n    grid-row-start: 1;\n    grid-row-end: 2;\n    grid-column-start: 1;\n    grid-column-end: 3;\n}\n\n.msgapi #swamm-bmp-form-grid-col-one {\n    grid-row-start: 2;\n    grid-row-end: 3;\n    grid-column-start: 1;\n    grid-column-end: 2;\n    overflow-y: scroll;\n    padding-right: 10px;\n}\n\n.msgapi #swamm-bmp-form-grid-col-two {\n    grid-row-start: 2;\n    grid-row-end: 3;\n    grid-column-start: 2;\n    grid-column-end: 3;\n    overflow-y: scroll;\n    padding-right: 10px;\n}\n\n.msgapi #swamm-bmp-form-grid-footer {\n    grid-row-start: 3;\n    grid-row-end: 4;\n    grid-column-start: 1;\n    grid-column-end: 3;\n}\n\n.msgapi #swamm-bmp-chart-panel {\n    top: 70px;\n    display: flex;\n    flex-direction: column;\n    background-color: #063167;\n    text-align: left;\n    width: 95%;\n    height: 80%;\n    font-size: small;\n    background-color: rgba(43, 89, 148);\n}\n\n.msgapi #swamm-bmp-chart-header {\n    text-align: center;\n    min-height: 50px;\n    font-size: x-large;\n}\n\n.msgapi #swamm-bmp-chart-body {\n    display: flex;\n    flex-direction: row;\n    height: 80%;\n}\n\n.msgapi #swamm-bmp-chart-col-one {\n    display: flex;\n    flex-direction: column;\n    width: 300px;\n    margin-left: auto;\n    margin-right: 20px;\n    max-height: 100%;\n    overflow-y: auto;\n    border: solid 1px rgba(53, 133, 176);\n    border-radius: 4px;\n    text-align: center;\n\n}\n\n.msgapi #swamm-bmp-chart-col-two {\n    display: flex;\n    flex-direction: column;\n    max-height: 100%;\n    width: 100%;\n    overflow-y: auto;\n    border: solid 1px rgba(53, 133, 176);\n    border-radius: 4px;\n}\n\n.msgapi #swamm-bmp-chart-col-three {\n    color: #155481;\n    background-color: white;\n    margin: 10px;\n    display: flex;\n    flex-direction: column;\n    max-width: 200px;\n    margin-right: auto;\n    margin-left: 20px;\n    padding: 10px;\n    max-height: 100%;\n    overflow-y: auto;\n    border: solid 1px rgba(53, 133, 176);\n    border-radius: 4px;\n}\n\n.msgapi #swamm-bmp-chart-targets {\n    margin-bottom: 20px;\n}\n\n.msgapi #swamm-bmp-chart-filter {\n    margin-bottom: 20px;\n}\n\n.msgapi #swamm-bmp-chart-phosphorus-graph-box {\n    color: #155481;\n    background-color: white;\n    margin: 10px;\n    border-radius: 4px;\n}\n\n.msgapi #swamm-bmp-chart-nitrogen-graph-box {\n    color: #155481;\n    background-color: white;\n    margin: 10px;\n    border-radius: 4px;\n}\n\n.msgapi #swamm-bmp-chart-sediment-graph-box {\n    color: #155481;\n    background-color: white;\n    margin: 10px;\n    border-radius: 4px;\n}\n\n.msgapi #swamm-bmp-chart-total-graph-box {\n    color: #155481;\n    background-color: white;\n    margin: 10px;\n    border-radius: 4px;\n}\n\n.msgapi #swamm-bmp-chart-summary {\n    color: #155481;\n    background-color: white;\n    margin: 10px;\n    border-radius: 4px;\n}\n\n.msgapi #swamm-bmp-chart-legend-container {\n    color: #155481;\n    background-color: white;\n    margin: 10px;\n    width: 200px;\n    height: auto;\n    border-radius: 4px;\n}\n\n.msgapi .swamm-bmp-chart-legend-row {\n    display: inline-flex;\n    justify-content: left;\n    margin-top: 4px;\n    white-space: normal;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.msgapi #swamm-bmp-chart-footer {\n    border-top: solid 1px #3585b0;\n    width: 100%;\n    padding: 6px;\n    display: flex;\n    flex-direction: row-reverse;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n}\n\n.msgapi .swamm-bmp-chart-heading {\n    font-size: medium;\n    text-align: center;\n    margin-bottom: 5px;\n}\n\n.msgapi .swamm-bmp-chart-graph-container {\n    margin-bottom: 15px;\n}\n\n.msgapi .swamm-bmp-chart-graph-box {\n    display: flex;\n    height: 100px;\n}\n\n.msgapi .swamm-bmp-chart-pie-group {\n    margin-top: 10px;\n    margin-left: 10px;\n    width: 200px;\n    display: inline-block;\n}\n\n.msgapi .swamm-bmp-chart-bar-group {\n    margin-top: 10px;\n    margin-right: 10px;\n    width: 100%;\n    height: 200px;\n}\n\n.msgapi #swamm-target-form-panel {\n    width: 95%;\n    height: 80%;\n    font-size: small;\n    text-align: left;\n    top: 70px;\n    background-color: rgba(43, 89, 148);\n    z-index: 1030;\n    display: flex;\n    flex-direction: column;\n}\n\n.msgapi #swamm-target-form-header {\n    text-align: center;\n    min-height: 50px;\n    font-size: x-large;\n}\n\n.msgapi #swamm-target-form-body {\n    display: flex;\n    flex-direction: row;\n    height: 80%;\n}\n\n.msgapi #swamm-target-form-col-one {\n    display: flex;\n    flex-direction: column;\n    margin-right: 20px;\n    padding: 10px;\n    max-height: 100%;\n    overflow-y: auto;\n    width: 100%;\n    min-width: 300px;\n    border: solid 1px rgba(53, 133, 176);\n    border-radius: 4px;\n\n}\n\n.msgapi #swamm-target-form-col-two {\n    display: flex;\n    flex-direction: column;\n    padding: 10px;\n    max-height: 100%;\n    overflow-y: auto;\n    width: 100%;\n    min-width: 300px;\n    border: solid 1px rgba(53, 133, 176);\n    border-radius: 4px;\n}\n\n.msgapi #swamm-target-form-footer {\n    border-top: solid 1px #3585b0;\n    width: 100%;\n    padding: 10px;\n    display: flex;\n    flex-direction: row-reverse;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n}\n\n.msgapi .swamm-target-row {\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 10px\n}\n\n.msgapi .swamm-target-select {\n    width: 80%;\n}\n\n.msgapi .swamm-target-select option:checked {\n    color: white;\n    background-color: darkgreen;\n}\n\n.msgapi .swamm-target-form-heading {\n    margin-bottom: 10px;\n}\n\n.msgapi .custom-tooltip-label {\n    color: white;\n    background-color: black;\n    border-radius: 3px;\n    padding: 2px;\n}\n\n.msgapi .bmp-type-group-glyph {\n    font-size: smaller;\n    vertical-align: bottom;\n    margin-left: 10px;\n    margin-bottom: 2px;\n    margin-right: 10px;\n    border: solid 1px rgba(255, 255, 255, 0.65);\n    background: #537ab1;\n    height: 22px;\n}\n\n.msgapi .bmp-type-group-glyph:hover {\n    background: #73a4e8;\n}\n\n.msgapi .bmp-type-group-bottom-margin {\n    margin-bottom: 10px;\n}\n\n.msgapi .bmp-type-group-name {\n    vertical-align: top;\n    margin-top: 5px;\n}\n\n.msgapi #swamm-bmp-filters {\n    max-height: 600px;\n    overflow-y: scroll;\n}\n\n.msgapi #swamm-bmp-filters ::-webkit-scrollbar {\n    width: 1em;\n    margin-left: 1em;\n    margin-right: 1em;\n    padding-left: 1em;\n    padding-right: 1em;\n}\n\n.msgapi #swamm-bmp-filters ::-webkit-scrollbar-thumb {\n    background-color: #5178af;\n    outline: 1px solid rgba(255, 255, 255, 0.2);\n    border-radius: 4px;\n}\n\n.msgapi .bmp-filter-group-expanded-panel {\n    height: 100%;\n    width: 100%;\n    margin-top: 50px;\n    display: flex;\n    flex-direction: column;\n\n}\n\n.msgapi .bmp-filter-group-selector-row {\n    margin-left: 30px;\n}\n\n.msgapi .menu-row-bmp-filter {\n    height: 24px;\n    display: flex;\n    width: 470px;\n    text-align: left;\n}\n\n.msgapi .bmp-filter-type-row {\n    display: flex;\n}\n\n.msgapi .bmp-filter-type-heading-last-item {\n  margin-left: auto;\n}\n\n.msgapi .bmp-filter-group-heading {\n    text-align: left;\n    margin-left: 35px;\n    margin-bottom: 3px;\n    display: flex;\n    flex-direction: column\n}\n\n.msgapi .bmp-filter-group-glyph {\n    font-size: smaller;\n    vertical-align: bottom;\n    margin-left: 10px;\n    margin-bottom: 2px;\n    margin-right: 10px;\n    border: solid 1px rgba(255, 255, 255, 0.65);\n    background: #537ab1;\n    height: 20px;\n    background: none;\n    color: white;\n}\n\n.msgapi .bmp-filter-group-glyph:hover {\n    background: #73a4e8;\n}\n\n.msgapi .bmp-progress-button-danger {\n    top: 80px;\n    left: 20px;\n    min-width: 135px;\n    position: absolute;\n    opacity: 0.9;\n    border-radius: 4px;\n    background-color: inherit;\n}\n\n.msgapi .bmp-progress-button-success {\n    top: 80px;\n    left: 20px;\n    min-width: 135px;\n    position: absolute;\n    opacity: 0.9;\n    border-radius: 4px;\n    background-color: inherit;\n}\n\n.msgapi .bmp-loading-button {\n    position: absolute;\n    top: 200px;\n    left: 50%;\n    margin-top: -100px;\n    margin-left: -100px;\n    width: 200px;\n    height: 100px;\n    border-radius: 4px;\n    border-color: white;\n    color: white;\n    background: rgb(0, 86, 187, 0.95);\n    text-align: center;\n    z-index: 10000;\n}\n\n.msgapi .swamm-button {\n    border-radius: 4px;\n    border: 1px solid white;\n    color: white;\n    background: rgb(82, 121, 176);\n    text-align: center;\n    margin-left: 10px;\n    margin-right: 10px;\n    margin-top: 10px;\n    min-width: 100px;\n}\n\n.msgapi .swamm-button-disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n}\n\n.msgapi .non-savable-group-profile {\n    background-color: #f8a9a9;\n    color: grey;\n}\n\n.msgapi .simple-view-panel-item-row select {\n    background-color: #5279B0FF;\n    border-radius: 4px;\n    border: 1px white solid;\n    min-width: 200px;\n}\n\n.msgapi #bmp-notes {\n    color: white;\n    background-color: #5279B0FF;\n    border-radius: 4px;\n    border: 1px white solid;\n    width: 100%;\n}\n\n.msgapi .filter-row {\n    width: 240px;\n    font-size: 14px;\n    text-align: left;\n    text-overflow: ellipsis ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n}\n\n.msgapi .form-group {\n     margin-bottom: 5px;\n}\n\n/*Override recharts default that causes bar to go grey on hover*/\n.msgapi .swamm-bmp-chart-bar-group-responsive > div > svg > path {\n    fill: none;\n}\n\n/*Geostory Map Zoom buttons:*/\n\n.msgapi .ol-zoom-in {\n    width: 80px;\n    height: 80px;\n    margin-bottom: 10px;\n    border-radius: 3px;\n    font-size: xxx-large;\n}\n\n.msgapi .ol-zoom-out {\n    width: 80px;\n    height: 80px;\n    border-radius: 3px;\n    font-size: xxx-large;\n}",""]);const i=o},945177:(e,t,r)=>{"use strict";var n=r(595318);t.__esModule=!0,t.default=void 0;var o,i=n(r(250139)),l="clearTimeout",a=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-p)),n=setTimeout(e,r);return p=t,n},u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=u(e,"request");if(t in window)return l=u(e,"cancel"),a=function(e){return window[t](e)}}));var p=(new Date).getTime();(o=function(e){return a(e)}).cancel=function(e){window[l]&&"function"==typeof window[l]&&window[l](e)};var s=o;t.default=s,e.exports=t.default},23279:(e,t,r)=>{var n=r(513218),o=r(707771),i=r(14841),l=Math.max,a=Math.min;e.exports=function(e,t,r){var u,p,s,m,d,c,v=0,f=!1,g=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=u,n=p;return u=p=void 0,v=t,m=e.apply(n,r)}function b(e){var r=e-c;return void 0===c||r>=t||r<0||g&&e-v>=s}function h(){var e=o();if(b(e))return E(e);d=setTimeout(h,function(e){var r=t-(e-c);return g?a(r,s-(e-v)):r}(e))}function E(e){return d=void 0,_&&u?y(e):(u=p=void 0,m)}function w(){var e=o(),r=b(e);if(u=arguments,p=this,c=e,r){if(void 0===d)return function(e){return v=e,d=setTimeout(h,t),f?y(e):m}(c);if(g)return clearTimeout(d),d=setTimeout(h,t),y(c)}return void 0===d&&(d=setTimeout(h,t)),m}return t=i(t)||0,n(r)&&(f=!!r.leading,s=(g="maxWait"in r)?l(i(r.maxWait)||0,t):s,_="trailing"in r?!!r.trailing:_),w.cancel=function(){void 0!==d&&clearTimeout(d),v=0,u=c=p=d=void 0},w.flush=function(){return void 0===d?m:E(o())},w}},707771:(e,t,r)=>{var n=r(555639);e.exports=function(){return n.Date.now()}},823493:(e,t,r)=>{var n=r(23279),o=r(513218);e.exports=function(e,t,r){var i=!0,l=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(i="leading"in r?!!r.leading:i,l="trailing"in r?!!r.trailing:l),n(e,t,{leading:i,maxWait:t,trailing:l})}}}]);