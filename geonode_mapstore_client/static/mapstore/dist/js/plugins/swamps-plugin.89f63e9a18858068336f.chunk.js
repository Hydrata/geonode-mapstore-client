(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[38925,47310],{433528:(e,t,r)=>{"use strict";r.d(t,{gJ:()=>n,Oj:()=>o,jp:()=>i,CM:()=>u,DU:()=>l,aO:()=>a,v6:()=>s,K8:()=>c,IN:()=>p,zh:()=>f,AH:()=>d,Ub:()=>E,_9:()=>y,JB:()=>S,oh:()=>v,AY:()=>m,yi:()=>T,SW:()=>b,Hk:()=>_,iQ:()=>R,dY:()=>I,$:()=>A,_u:()=>O,gG:()=>h,DI:()=>w,dZ:()=>g,qw:()=>D,f$:()=>F,bZ:()=>G,$O:()=>U,sF:()=>P,Gk:()=>C,vO:()=>L,ut:()=>Y,MK:()=>N,VV:()=>M,B8:()=>K,VM:()=>j,a3:()=>x,Xp:()=>V,DA:()=>k,sK:()=>W,r:()=>H,iB:()=>X,WB:()=>z,vm:()=>Q,EH:()=>B,Yd:()=>q,Hg:()=>Z,Lz:()=>$,ye:()=>J,Jb:()=>ee,d:()=>te,fT:()=>re,Ib:()=>ne,UB:()=>oe,Uh:()=>ie,QT:()=>ue,oL:()=>le,Ap:()=>ae,KD:()=>se,Z_:()=>ce,Vw:()=>pe,sY:()=>fe,kA:()=>de,gr:()=>Ee,pX:()=>ye,F5:()=>Se,MO:()=>ve,dq:()=>me,DY:()=>Te,oO:()=>be,uF:()=>_e,a8:()=>Re,Pv:()=>Ie,an:()=>Ae,lg:()=>Oe,nY:()=>he,nG:()=>we,lx:()=>ge,$S:()=>De,gc:()=>Fe,Uz:()=>Ge,fO:()=>Ue,$E:()=>Pe,cE:()=>Ce,JK:()=>Le,YV:()=>Ye,t9:()=>Ne,YG:()=>Me,HT:()=>Ke,MY:()=>je,ve:()=>xe,hB:()=>Ve,Ox:()=>ke,zd:()=>We,aT:()=>He,VH:()=>Xe,Yb:()=>ze,Jr:()=>Qe,pP:()=>Be,gL:()=>qe,dM:()=>Ze});var n="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",u="FEATUREGRID:CLEAR_SELECTION",l="FEATUREGRID:SET_SELECTION_OPTIONS",a="FEATUREGRID:TOGGLE_MODE",s="FEATUREGRID:TOGGLE_FEATURES_SELECTION",c="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",f="FEATUREGRID:SAVE_CHANGES",d="FEATUREGRID:SAVING",E="FEATUREGRID:START_EDITING_FEATURE",y="FEATUREGRID:START_DRAWING_FEATURE",S="FEATUREGRID:DELETE_GEOMETRY",v="FEATUREGRID:DELETE_GEOMETRY_FEATURE",m="FEATUREGRID:SAVE_SUCCESS",T="FEATUREGRID:CLEAR_CHANGES",b="FEATUREGRID:SAVE_ERROR",_="FEATUREGRID:DELETE_SELECTED_FEATURES",R="SET_FEATURES",I="FEATUREGRID:SORT_BY",A="FEATUREGRID:SET_LAYER",O="QUERY:UPDATE_FILTER",h="FEATUREGRID:CHANGE_PAGE",w="FEATUREGRID:GEOMETRY_CHANGED",g="DOCK_SIZE_FEATURES",D="FEATUREGRID:TOGGLE_TOOL",F="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",G="ASK_CLOSE_FEATURE_GRID_CONFIRM",U="FEATUREGRID:OPEN_GRID",P="FEATUREGRID:CLOSE_GRID",C="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",L="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",Y="FEATUREGRID:SET_PERMISSION",N="FEATUREGRID:DISABLE_TOOLBAR",M="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",K="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",j="FEATUREGRID:ADVANCED_SEARCH",x="FEATUREGRID:ZOOM_ALL",V="FEATUREGRID:INIT_PLUGIN",k="FEATUREGRID:SIZE_CHANGE",W="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",H="FEATUREGRID:UPDATE_EDITORS_OPTIONS",X="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",z="FEATUREGRID:SET_SYNC_TOOL",Q="FEATUREGRID:SET_VIEWPORT_FILTER",B={EDIT:"EDIT",VIEW:"VIEW"},q="FEATUREGRID:START_SYNC_WMS",Z="FEATUREGRID:STOP_SYNC_WMS",$="STORE_ADVANCED_SEARCH_FILTER",J="LOAD_MORE_FEATURES",ee="FEATUREGRID:QUERY_RESULT",te="FEATUREGRID:SET_TIME_SYNC",re="FEATUREGRID:SET_PAGINATION";function ne(){return{type:W}}function oe(e,t){return{type:ee,features:e,pages:t}}function ie(e){return{type:$,filterObj:e}}function ue(){return{type:V,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}function le(){return{type:C}}function ae(){return{type:L}}function se(e,t){return{type:o,features:e,append:t}}function ce(e){return{type:n,options:e}}function pe(e){return{type:w,features:e}}function fe(){return{type:E}}function de(){return{type:y}}function Ee(e){return{type:i,features:e}}function ye(){return{type:S}}function Se(e){return{type:v,features:e}}function ve(){return{type:u}}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,r=e.showCheckbox;return{type:l,multiselect:t,showCheckbox:r}}function Te(e,t){return{type:I,sortBy:e,sortOrder:t}}function be(e,t){return{type:h,page:e,size:t}}function _e(e){return{type:A,id:e}}function Re(e){return{type:O,update:e,append:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}function Ie(e,t){return{type:D,tool:e,value:t}}function Ae(e,t,r){return{type:F,name:e,key:t,value:r}}function Oe(){return{type:a,mode:B.EDIT}}function he(){return{type:a,mode:B.VIEW}}function we(e,t){return{type:c,features:e,updated:t}}function ge(e){return{type:p,features:e}}function De(){return{type:f}}function Fe(){return{type:m}}function Ge(){return{type:_}}function Ue(){return{type:d}}function Pe(){return{type:T}}function Ce(){return{type:b}}function Le(){return{type:G}}function Ye(e){return{type:P,closer:e}}function Ne(){return{type:U}}function Me(e){return{type:N,disabled:e}}function Ke(e){return{type:Y,permission:e}}function je(){return{type:j}}function xe(){return{type:x}}function Ve(){return{type:q}}function ke(e,t){return{type:k,size:e,dockProps:t}}var We=function(e){return{type:J,pages:e}},He=function(e){return{type:M,activated:e}},Xe=function(e){return{type:K,deactivated:e}},ze=function(e){return{type:te,value:e}},Qe=function(e){return{type:re,size:e}},Be=function(e){return{type:X,updateFilterAction:e}},qe=function(e){return{type:z,syncWmsFilter:e}},Ze=function(e){return{type:Q,value:e}}},921914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>i,Ih:()=>u,Xw:()=>l,Pn:()=>a,DZ:()=>s,e8:()=>c,E0:()=>p,F9:()=>f,X_:()=>d,pb:()=>E,Re:()=>y,ih:()=>S,xy:()=>v,jL:()=>m,oz:()=>T,ph:()=>b,lF:()=>_,gG:()=>R,cb:()=>I,GI:()=>A,B1:()=>O,fv:()=>h,gc:()=>w,zX:()=>g,ZF:()=>D,Zb:()=>F,DW:()=>G,Xp:()=>U,Fm:()=>P,sV:()=>C,LU:()=>L,XP:()=>Y,WU:()=>N,mK:()=>M,g:()=>K,ws:()=>j,HP:()=>x,aN:()=>V,Pg:()=>W,u0:()=>H,TM:()=>X,PM:()=>z,lK:()=>Q,sv:()=>B,MO:()=>q,oO:()=>Z,Mc:()=>$,Zw:()=>J,RA:()=>ee,am:()=>te,ZM:()=>re,wm:()=>ne,Y$:()=>oe,Qu:()=>ie,kT:()=>ue});var n=r(647310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",u="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",a="NEW_MAPINFO_REQUEST",s="PURGE_MAPINFO_RESULTS",c="CHANGE_MAPINFO_FORMAT",p="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",E="HIDE_REVERSE_GEOCODE",y="NO_QUERYABLE_LAYERS",S="CLEAR_WARNING",v="FEATURE_INFO_CLICK",m="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",T="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",b="TOGGLE_MAPINFO_STATE",_="UPDATE_CENTER_TO_MARKER",R="IDENTIFY:CHANGE_PAGE",I="IDENTIFY:CLOSE_IDENTIFY",A="IDENTIFY:CHANGE_FORMAT",O="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",h="IDENTIFY:EDIT_LAYER_FEATURES",w="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",g="IDENTIFY:SET_MAP_TRIGGER",D="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",F="IDENTIFY:SET_SHOW_IN_MAP_POPUP",G="IDENTIFY:IDENTIFY_IS_MOUNTED",U="IDENTIFY:INIT_PLUGIN";function P(e,t,r,n,i){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:i}}function C(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function L(){return{type:y}}function Y(){return{type:S}}function N(e,t){return{type:a,reqId:e,request:t}}function M(e){return{type:l,enabled:e}}function K(){return{type:s}}function j(e){return{type:c,infoFormat:e}}function x(){return{type:p}}function V(){return{type:f}}function k(e){return{type:d,reverseGeocodeData:e.data}}function W(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(k(e))})).catch((function(e){t(k(e))}))}}function H(){return{type:E}}function X(){return{type:b}}function z(e){return{type:_,status:e}}function Q(e,t){return{type:v,point:e,layer:t,filterNameList:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],overrideParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},itemId:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,ignoreVisibilityLimits:arguments.length>5&&void 0!==arguments[5]&&arguments[5]}}function B(e){return{type:m,point:e}}function q(e){return{type:T,enabled:e}}function Z(e){return{type:R,index:e}}var $=function(){return{type:I}},J=function(e){return{type:A,format:e}},ee=function(e){return{type:O,showCoordinateEditor:e}},te=function(e){return{type:h,layer:e}},re=function(e){return{type:w,query:e}},ne=function(e){return{type:g,trigger:e}},oe=function(e){return{type:F,value:e}},ie=function(e){return{type:G,isMounted:e}},ue=function(e){return{type:U,cfg:e}}},95797:(e,t,r)=>{"use strict";r.d(t,{DR:()=>n,S0:()=>o,u7:()=>i,lj:()=>u,yz:()=>l,lN:()=>a,zW:()=>s,Yx:()=>c,VN:()=>p,Hu:()=>f,VT:()=>d,RD:()=>E,Qq:()=>y,R1:()=>S,_T:()=>v,vO:()=>m,XO:()=>T,jG:()=>b,Xc:()=>_,gT:()=>R,rG:()=>I,t3:()=>A,Fs:()=>O,w_:()=>h,Lm:()=>w,rh:()=>g,rP:()=>D,IO:()=>F,zc:()=>G}),r(375875);var n="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",u="FEATURE_LOADED",l="FEATURE_LOADING",a="FEATURE_TYPE_ERROR",s="FEATURE_ERROR",c="QUERY_CREATE",p="QUERY:UPDATE_QUERY",f="QUERY_RESULT",d="QUERY_ERROR",E="RESET_QUERY",y="QUERY",S="INIT_QUERY_PANEL",v="QUERY:TOGGLE_SYNC_WMS",m="QUERY:TOGGLE_LAYER_FILTER";function T(){return{type:v}}function b(){return{type:m}}function _(){return{type:S}}function R(e,t){return{type:o,url:e,typeName:t,fields:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],owner:arguments.length>3?arguments[3]:void 0}}function I(e,t,r){return{type:i,typeName:e,featureType:t,owner:r}}function A(e,t){return{type:a,typeName:e,error:t}}function O(e){return{type:l,isLoading:e}}function h(e,t,r,n,o){return{type:f,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function w(e){return{type:d,error:e}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.updates,r=e.reason,n=e.useLayerFilter;return{type:p,updates:t,reason:r,useLayerFilter:n}}function D(e,t,r){return{type:c,searchUrl:e,filterObj:t,owner:r}}function F(e,t,r,n){return{type:y,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}function G(){return{type:E}}},647310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(375875),o=r.n(n),i=r(472500),u=r.n(i),l=r(727418),a=r.n(l),s={format:"json",bounded:0,polygon_geojson:1,priority:5};const c={geocode:function(e,t){var r=a()({q:e},s,t||{}),n=u().format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return o().get(n)},reverseGeocode:function(e,t){var r=a()({lat:e.lat,lon:e.lng},t||{},s),n=u().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return o().get(n)}}},271564:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Se});var n=r(322843),o=r(296828);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={selectedSwampId:null,selectedSwampData:null,availableSites:[],selectedSiteIds:[],selectedSurveyIds:[],availableSurveyTypeKeys:[],selectedSurveyTypeKeys:[],availableActivityFields:[],selectedActivityField:null},d=r(124852),E=r.n(d),y=r(171703),S=r(480681),v=r(730381),m=r.n(v),T=r(893379),b=r.n(T),_=r(332358);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function A(e,t,r){return t=h(t),function(e,t){if(t&&("object"==R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,O()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function g(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:t+""}b()(_.Z,{insert:"head",singleton:!1}),_.Z.locals;var F=r(45697),G=r(478384),U=G.LineChart,P=G.Line,C=G.CartesianGrid,L=G.ResponsiveContainer,Y=G.XAxis,N=G.YAxis,M=(G.Legend,G.Tooltip),K=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=A(this,t,[e])).state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e,t,r,n,o,i,u=this;return E().createElement("div",{id:"swamps-chart"},E().createElement("div",{className:"chart-header"},E().createElement("h2",{style:{display:"inline"}},"Swamp ID: ",null===(e=this.props.selectedSwampId)||void 0===e?void 0:e.split(".")[1]," ",null===(t=this.props.selectedSwampData)||void 0===t?void 0:t.name),E().createElement("span",{className:"pull-right btn glyphicon glyphicon-remove",style:{color:"red",right:"-10px",top:"-10px"},onClick:function(){u.props.clearSelectedSwamp(),u.props.setVisibleSwampsChart(!1)}})),E().createElement("div",{className:"chart-mainbody"},this.props.selectedSwampData?0===(null===(r=this.props.selectedSwampData)||void 0===r||null===(n=r.sites)||void 0===n?void 0:n.length)?E().createElement("div",null,"No Data"):E().createElement(S.rj,{style:{width:"100%"}},E().createElement(S.JX,{sm:2,className:"chart-sidebar",style:{maxWidth:"250px"}},E().createElement(S.X2,null,E().createElement("h4",{style:{marginTop:"20px"}},"Select Survey Sites:"),this.props.availableSites.map((function(e){var t;return E().createElement(S.zx,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:null!==(t=u.props.selectedSiteIds)&&void 0!==t&&t.includes(e.site_id)?"#175582ff":"#175582aa",borderColor:"#175582ff",marginTop:"4px",fontSize:"x-small",borderRadius:"3px"},onClick:function(){return u.props.toggleSelectionOfSiteId(null==e?void 0:e.site_id)}},null==e?void 0:e.name)})),(null===(o=this.props.availableSurveyTypeKeys)||void 0===o?void 0:o.length)>0?E().createElement("h4",{style:{marginTop:"20px"}},"Select Survey Types:"):null,this.props.availableSurveyTypeKeys.map((function(e){var t;return E().createElement(S.zx,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:null!==(t=u.props.selectedSurveyTypeKeys)&&void 0!==t&&t.includes(e)?"#175582ff":"#175582aa",borderColor:"#175582ff",marginTop:"4px",fontSize:"x-small",borderRadius:"3px"},onClick:function(){return u.props.toggleSelectionOfSurveyTypeKey(e)}},e)})),(null===(i=this.props.availableActivityFields)||void 0===i?void 0:i.length)>0?E().createElement("h4",{style:{marginTop:"20px"}},"Select Survey Attribute:"):null,this.props.availableActivityFields.map((function(e){return E().createElement(S.zx,{bsStyle:"success",bsSize:"xsmall",block:!0,style:{backgroundColor:u.props.selectedYKey===e?"#175582ff":"#175582aa",borderColor:"#175582ff",marginTop:"4px",fontSize:"x-small",borderRadius:"3px"},onClick:function(){return u.props.setSelectedYKey(e)}},e)})))),E().createElement(S.JX,{sm:10},"Photo"===this.props.selectedYKey?E().createElement(S.lr,null,this.props.selectedPhotos.map((function(e){return E().createElement(S.d$,null,E().createElement("img",{width:"80%",alt:"900x500",src:e.url}))}))):E().createElement(L,{width:"95%",height:600},E().createElement(U,{width:500,height:400,syncId:"swampCharts",data:this.props.selectedActivities},E().createElement(C,{stroke:"#ccc",strokeDasharray:"5 5"}),E().createElement(Y,{dataKey:this.props.selectedXKey,domain:["auto","auto"],name:this.props.selectedXKey,tickFormatter:function(e){return m()(e).format("DD MMM YYYY")},tickCount:10,type:"number",unit:"time"}),E().createElement(N,{yAxisId:"left",type:"number",dataKey:this.props.selectedYKey,name:this.props.selectedYKey,orientation:"left",stroke:"#175582",label:"YAxisLabel"}),E().createElement(P,{yAxisId:"left",isAnimationActive:!1,dataKey:this.props.selectedYKey,strokeWidth:0,shape:"circle",fill:"#175582",lineType:"joint",name:this.props.selectedYKey}),E().createElement(M,{labelFormatter:function(e){return m()(e).format("DD MMM YYYY HH:MM:SS")}}))))):E().createElement("div",null,"loading...")),E().createElement("div",{className:"chart-footer"}))}}])&&I(r.prototype,n),o&&I(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,o}(E().Component);g(K,"propTypes",{setVisibleSwampsChart:F.func,visibleSwampsChart:F.bool,setSelectedSwampId:F.func,clearSelectedSwamp:F.func,selectedSwampId:F.string,selectedSwampData:F.object,toggleSelectionOfSiteId:F.func,toggleSelectionOfSurveyTypeKey:F.func,availableSites:F.array,availableSurveyTypeKeys:F.array,selectedSurveyTypeKeys:F.array,selectedSiteIds:F.array,selectedActivities:F.object,availableActivityFields:F.array,selectedActivityFields:F.array,selectedActivites:F.array,selectedPhotos:F.array,setSelectedXKey:F.func,setSelectedYKey:F.func,availableXKeys:F.array,availableYKeys:F.array,selectedXKey:F.string,selectedYKey:F.string,data1:F.array,data2:F.array,data3:F.array}),g(K,"defaultProps",{});const j=(0,y.connect)((function(e){var t,r,n,o,i,u,l,a,s,c,p,f,d,E,y,S,v,m,T,b,_,R,I,A=["status","location","entry_date","survey_date_time","fields","id"],O=["template"],h=null==e||null===(t=e.swamps)||void 0===t||null===(r=t.selectedActivities)||void 0===r?void 0:r.reduce((function(e,t){return console.log("currentValue",t),t.Photo?e.concat(t.Photo):e}),[]);return{selectedSwampId:null==e||null===(n=e.swamps)||void 0===n?void 0:n.selectedSwampId,selectedSwampData:null==e||null===(o=e.swamps)||void 0===o?void 0:o.selectedSwampData,visibleSwampsChart:null==e||null===(i=e.swamps)||void 0===i?void 0:i.visibleSwampsChart,selectedXKey:(null==e||null===(u=e.swamps)||void 0===u?void 0:u.selectedXKey)||"js_survey_date_time",selectedYKey:(null==e||null===(l=e.swamps)||void 0===l?void 0:l.selectedYKey)||"value1",availableXKeys:(null==e||null===(a=e.swamps)||void 0===a||null===(s=a.processedSwampsSurveyData)||void 0===s||null===(c=s[null==e||null===(p=e.swamps)||void 0===p?void 0:p.currentSwampsSurveySiteId])||void 0===c?void 0:c.availableXKeys)||["time"],availableYKeys:(null==e||null===(f=e.swamps)||void 0===f||null===(d=f.processedSwampsSurveyData)||void 0===d||null===(E=d[null==e||null===(y=e.swamps)||void 0===y?void 0:y.currentSwampsSurveySiteId])||void 0===E?void 0:E.availableYKeys)||[],availableSites:(null==e||null===(S=e.swamps)||void 0===S||null===(v=S.selectedSwampData)||void 0===v?void 0:v.sites)||[],selectedSiteIds:(null==e||null===(m=e.swamps)||void 0===m?void 0:m.selectedSiteIds)||[],availableSurveyTypeKeys:(null==e||null===(T=e.swamps)||void 0===T?void 0:T.availableSurveyTypeKeys.filter((function(e){return!O.includes(e)})))||[],selectedSurveyTypeKeys:(null==e||null===(b=e.swamps)||void 0===b?void 0:b.selectedSurveyTypeKeys)||[],selectedActivities:(null==e||null===(_=e.swamps)||void 0===_?void 0:_.selectedActivities)||[],availableActivityFields:(null==e||null===(R=e.swamps)||void 0===R?void 0:R.availableActivityFields.filter((function(e){return!A.includes(e)})))||[],selectedActivityFields:(null==e||null===(I=e.swamps)||void 0===I?void 0:I.selectedActivityFields)||[],selectedPhotos:h}}),(function(e){return{setVisibleSwampsChart:function(t){return e((0,o.setVisibleSwampsChart)(t))},setSelectedSwampId:function(t){return e((0,o.setSelectedSwampId)(t))},clearSelectedSwamp:function(){return e((0,o.clearSelectedSwamp)())},setSelectedXKey:function(t){return e((0,o.setSelectedXKey)(t))},setSelectedYKey:function(t){return e((0,o.setSelectedYKey)(t))},toggleSelectionOfSiteId:function(t){return e((0,o.toggleSelectionOfSiteId)(t))},toggleSelectionOfSurveyTypeKey:function(t){return e((0,o.toggleSelectionOfSurveyTypeKey)(t))}}}))(K);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function k(e,t,r){return t=H(t),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,W()?Reflect.construct(t,r||[],H(e).constructor):t.apply(e,r))}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function z(e,t,r){return(t=Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==x(t)?t:t+""}E().PureComponent;var B=r(45697),q=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=k(this,t,[e])).state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this;return E().createElement(E().Fragment,null,E().createElement("div",{id:"swamps-controls",className:"simple-view-panel",style:{top:70*this.props.swampGroupLength,width:"480px"}},E().createElement("div",{className:"menu-rows-container"},E().createElement("div",{className:"row menu-row pull-left",style:{width:"480px",textAlign:"left"}},E().createElement(S.zx,{bsStyle:"success",bsSize:"xsmall",style:{margin:"2px",borderRadius:"2px"},onClick:function(){e.props.refreshSwamps()}},"Refresh Monitoring Data")))))}}])&&V(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(E().Component);z(q,"propTypes",{refreshSwamps:B.func,swampGroupLength:B.number}),z(q,"defaultProps",{});const Z=(0,y.connect)((function(e){var t,r,n,o,i;return{swampGroupLength:(null==e||null===(t=e.layers)||void 0===t||null===(r=t.groups)||void 0===r||null===(n=r.filter((function(e){return"Swamps"===(null==e?void 0:e.title)})))||void 0===n||null===(o=n[0])||void 0===o||null===(i=o.nodes)||void 0===i?void 0:i.length)||0}}),(function(e){return{refreshSwamps:function(){return e((0,o.refreshSwamps)())}}}))(q);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function ee(e,t,r){return t=re(t),function(e,t){if(t&&("object"==$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,te()?Reflect.construct(t,r||[],re(e).constructor):t.apply(e,r))}function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function oe(e,t,r){return(t=ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}var ue=r(45697),le=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this.props.initSwamps()}},{key:"render",value:function(){return E().createElement("div",{id:"swamps-container"},this.props.visibleSwampsChart?E().createElement(j,null):null,this.props.openMenuGroupId&&this.props.viewSwampsGroupId===this.props.openMenuGroupId?E().createElement("div",null,E().createElement(Z,null)):null)}}])&&J(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(E().Component);oe(le,"propTypes",{visibleSwampsChart:ue.bool,initSwamps:ue.func,viewSwampsGroupId:ue.number,openMenuGroupId:ue.number}),oe(le,"defaultProps",{});const ae=(0,y.connect)((function(e){var t,r,n,o,i,u,l;return{visibleSwampsChart:null==e||null===(t=e.swamps)||void 0===t?void 0:t.visibleSwampsChart,viewSwampsGroupId:(null==e||null===(r=e.mapConfigRawData)||void 0===r||null===(n=r.map)||void 0===n||null===(o=n.groups)||void 0===o||null===(i=o.filter((function(e){return"Swamps"===(null==e?void 0:e.title)})))||void 0===i||null===(u=i[0])||void 0===u?void 0:u.id)||0,openMenuGroupId:(null==e||null===(l=e.simpleView)||void 0===l?void 0:l.openMenuGroupId)||0}}),(function(e){return{initSwamps:function(){return e((0,o.initSwamps)())}}}))(le);var se=r(49977),ce=r.n(se),pe=r(921914),fe=r(433528),de=r(95797),Ee=r(375875),ye=r.n(Ee);const Se=(0,n.rx)("Swamps",{component:ae,reducers:{swamps:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case o.SET_SELECTED_SWAMP_ID:return c(c({},t),{},{selectedSwampId:r.selectedSwampId});case o.CLEAR_SELECTED_SWAMP:return c(c({},t),{},{selectedSwampId:null,selectedSwampData:null,selectedSiteIds:[],availableSurveyTypeKeys:[],availableSurveySites:[],selectedSurveyTypeKeys:[],selectedActivities:[],availableActivityFields:[]});case o.SAVE_SWAMP_QUERY_TO_STORE:return c(c({},t),{},{selectedSwampData:r.selectedSwampData});case o.TOGGLE_SELECTION_OF_SITE_ID:var n;n=null!==(e=t.selectedSiteIds)&&void 0!==e&&e.includes(r.selectedSiteId)?t.selectedSiteIds.filter((function(e){return e!==r.selectedSiteId})):[].concat(u(t.selectedSiteIds),[r.selectedSiteId]);var i=t.surveySites.filter((function(e){var t;return null===(t=n)||void 0===t?void 0:t.includes(e.site_id)})),a=i.map((function(e){return Object.keys(e.activities)})),s=u(new Set([].concat.apply([],a)));return c(c({},t),{},{selectedSiteIds:n,availableSurveyTypeKeys:s,availableSurveySites:i,selectedSurveyTypeKeys:[],selectedActivities:[],availableActivityFields:[]});case o.TOGGLE_SELECTION_OF_SURVEY_TYPE_KEY:var p;p=t.selectedSurveyTypeKeys.includes(r.selectedSurveyTypeKey)?t.selectedSurveyTypeKeys.filter((function(e){return e!==r.selectedSurveyTypeKey})):[].concat(u(t.selectedSurveyTypeKeys),[r.selectedSurveyTypeKey]);var d={},E={};p.map((function(e){E[e]=t.availableSurveySites.map((function(t){return t.activities[e]}))})),Object.entries(E).forEach((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,l=[],a=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(s)throw o}}return l}}(t,r)||l(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1].filter((function(e){return void 0!==e}));d[o]=u(new Set([].concat.apply([],i)))}));var y=[],S=[];for(var v in d)d.hasOwnProperty(v)&&(S=d[v].map((function(e){for(var t in e.fields)e.fields.hasOwnProperty(t)&&(e[t]=e.fields[t],y.includes(t)||y.push(t));return e.js_survey_date_time=new Date(e.survey_date_time).getTime(),e})));return c(c({},t),{},{selectedSurveyTypeKeys:p,selectedActivities:S,availableActivityFields:y});case o.SET_VISIBLE_SWAMPS_CHART:return c(c({},t),{},{visibleSwampsChart:r.visible});case o.PROCESS_SURVEY_SITES:return c(c({},t),{},{surveySites:r.surveySites});case o.SET_SELECTED_X_KEY:return c(c({},t),{},{selectedXKey:r.selectedXKey});case o.SET_SELECTED_Y_KEY:return c(c({},t),{},{selectedYKey:r.selectedYKey});case o.REFRESH_SWAMPS:default:return t}}},epics:{initSwampsEpic:function(e){return e.ofType(o.INIT_SWAMPS).mergeMap((function(){return ce().Observable.from(ye().get("/swamps/api/survey-site"))})).mergeMap((function(e){return e?ce().Observable.of((0,o.processSurveySites)(e.data)):null}))},refreshSwampsEpic:function(e){return e.ofType(o.REFRESH_SWAMPS).mergeMap((function(){return ce().Observable.from(ye().get("/swamps/api/update-from-airtables"))})).mergeMap((function(e){return console.log("refreshSwampsEpic Exhaust",e),e?ce().Observable.of(window.location.reload(!1)):null}))},queryLayerAttributesToStoreStep1:function(e,t){return e.ofType(pe.XL).filter((function(e){var t,r;return console.log("LOAD_FEATURE_INFO unfiltered:",e),null!=e&&null!==(t=e.layer)&&void 0!==t&&null!==(r=t.id)&&void 0!==r&&r.includes("bluemountains_thpss")?(console.log("queryLayerAttributesToStoreStep1",e),e):(console.log("LOAD_FEATURE_INFO returning null"),null)})).mergeMap((function(e){var r,n,i,u;return ce().Observable.merge(ce().Observable.of((0,o.setVisibleSwampsChart)(!0)),ce().Observable.of((0,o.setSelectedSwampId)("bluemountains_thpss_e_4480_32756.".concat(null==e||null===(r=e.data)||void 0===r?void 0:r.substring((null==e?void 0:e.data.indexOf("FID_1 = "))+8,null==e?void 0:e.data.lastIndexOf(".0\nSWAMP"))))),ce().Observable.of((0,pe.Mc)()),ce().Observable.of((0,fe.uF)(null==e?void 0:e.layer.id)),ce().Observable.of((0,de.gT)((null===(n=t.getState())||void 0===n||null===(i=n.gnsettings)||void 0===i?void 0:i.geoserverUrl)+"/wfs",null==e||null===(u=e.layer)||void 0===u?void 0:u.name)))}))},queryLayerAttributesToStoreStep2:function(e,t){return e.ofType(de.u7,de.S0).filter((function(e){var t;return null!=e&&null!==(t=e.typeName)&&void 0!==t&&t.includes("bluemountains_thpss")?(console.log("queryLayerAttributesToStoreStep2",e),e):null})).mergeMap((function(e){var r,n;return ce().Observable.of((0,de.IO)((null===(r=t.getState())||void 0===r||null===(n=r.gnsettings)||void 0===n?void 0:n.geoserverUrl)+"/ows",{featureTypeName:"bluemountains_thpss_e_4480_32756",filterType:"OGC",ogcVersion:"1.1.0",pagination:{startIndex:0,maxFeatures:2e3}},{},"swamps: get bluemountains_thpss data"))}))},queryLayerAttributesToStoreStep3:function(e,t){return e.ofType(de.Hu).filter((function(e){return"swamps: get bluemountains_thpss data"===(null==e?void 0:e.reason)})).mergeMap((function(e){var r,n,i;console.log("queryLayerAttributesToStoreStep3",e);var u=null===(r=t.getState().swamps)||void 0===r?void 0:r.selectedSwampId;console.log("selectedSwampId",u);var l=parseInt(u.split(".")[1],10);console.log("selectedSwampIdInt",l);var a=e.result.features.filter((function(e){return e.id===u}))[0];return console.log("selectedSwampData",a),a.sites=null===(n=t.getState().swamps)||void 0===n||null===(i=n.surveySites)||void 0===i?void 0:i.filter((function(e){return(null==e?void 0:e.swamp)===l})),console.log("selectedSwampData",a),ce().Observable.of((0,o.saveSwampQueryToStore)(a))}))}}})},296828:e=>{var t="INIT_SWAMPS",r="SET_VISIBLE_SWAMPS_CHART",n="PROCESS_SURVEY_SITES",o="SAVE_SWAMP_QUERY_TO_STORE",i="SET_SELECTED_SWAMP_ID",u="CLEAR_SELECTED_SWAMP",l="SET_SELECTED_X_KEY",a="SET_SELECTED_Y_KEY",s="REFRESH_SWAMPS",c="TOGGLE_SELECTION_OF_SITE_ID",p="TOGGLE_SELECTION_OF_SURVEY_TYPE_KEY";e.exports={INIT_SWAMPS:t,initSwamps:function(){return{type:t}},PROCESS_SURVEY_SITES:n,processSurveySites:function(e){return{type:n,surveySites:e}},REFRESH_SWAMPS:s,refreshSwamps:function(){return{type:s}},SET_VISIBLE_SWAMPS_CHART:r,setVisibleSwampsChart:function(e){return{type:r,visible:e}},SET_SELECTED_SWAMP_ID:i,setSelectedSwampId:function(e){return{type:i,selectedSwampId:e}},CLEAR_SELECTED_SWAMP:u,clearSelectedSwamp:function(){return{type:u}},TOGGLE_SELECTION_OF_SITE_ID:c,toggleSelectionOfSiteId:function(e){return{type:c,selectedSiteId:e}},TOGGLE_SELECTION_OF_SURVEY_TYPE_KEY:p,toggleSelectionOfSurveyTypeKey:function(e){return{type:p,selectedSurveyTypeKey:e}},SAVE_SWAMP_QUERY_TO_STORE:o,saveSwampQueryToStore:function(e){return{type:o,selectedSwampData:e}},SET_SELECTED_X_KEY:l,setSelectedXKey:function(e){return{type:l,selectedXKey:e}},SET_SELECTED_Y_KEY:a,setSelectedYKey:function(e){return{type:a,selectedYKey:e}}}},332358:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi #swamps-container {\n    width:100%;\n    height:100%;\n    display: flex;\n    justify-content: center;\n    margin: 10px;\n    border: 1px solid #fff;\n    background-color: #ffffff;\n}\n\n.msgapi #swamps-chart {\n    z-index: 3000;\n    width: 98%;\n    height: 90%;\n    margin: 70px 20px 20px 0;\n    background-color: #ffffff;\n    font-size: 12px;\n    border-radius: 4px;\n    text-align: center;\n}\n\n.msgapi .chart-mainbody {\n    padding: 20px;\n    margin-top: 0;\n    height: 85%;\n    overflow: auto;\n}\n\n.msgapi .chart-header {\n    padding: 20px;\n    height: 60px;\n    border-bottom: 1px solid #DDD;\n    background-color: #ffffff;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.msgapi .chart-footer {\n    padding: 20px;\n    bottom: 0;\n    height: 80px;\n    background-color: #ffffff;\n    border-top: 1px solid #DDD;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.msgapi .chart-sidebar {\n    padding: 0 30px 0 30px;\n    min-height: 600px;\n    background-color: #f3f3f3;\n    border: 1px solid #c7c7c7;\n    border-radius: 3px;\n}",""]);const i=o}}]);