(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[24276],{881808:(e,t,n)=>{"use strict";n.d(t,{eD:()=>r,AM:()=>o,ok:()=>i,Gg:()=>a,nT:()=>c,TL:()=>u,KS:()=>l,EB:()=>s,DZ:()=>p,Aw:()=>f,V_:()=>d,H0:()=>y,jW:()=>m,JZ:()=>b,fQ:()=>v,HK:()=>g,YO:()=>O,I6:()=>h});var r="MAP:LOAD_NEW_MAP",o="MAP_LOAD_MAP_CONFIG",i="MAP_CONFIG_LOADED",a="MAP_CONFIG_LOAD_ERROR",c="MAP_LOAD_INFO",u="MAP_INFO_LOAD_START",l="MAP_INFO_LOADED",s="MAP_INFO_LOAD_ERROR",p="MAP:MAP_SAVE_ERROR",f="MAP:MAP_SAVED",d="MAP:RESET_MAP_SAVE_ERROR";function y(e,t,n){return{type:i,config:e,legacy:!!t,mapId:t,zoomToExtent:n}}function m(e,t){return{type:a,error:e,mapId:t}}function b(e,t,n,r,i){return{type:o,configName:e,mapId:t,config:n,mapInfo:r,overrideConfig:i}}function v(e,t){return{type:l,mapId:t,info:e}}function g(e,t){return{type:s,mapId:e,error:t}}function O(e){return{type:u,mapId:e}}function h(e){return{type:c,mapId:e}}},580416:(e,t,n)=>{"use strict";n.d(t,{yS:()=>r,Zz:()=>o,ms:()=>i,ih:()=>a,OX:()=>c,sb:()=>u,K$:()=>l,k7:()=>s,cX:()=>p,x9:()=>f,vs:()=>d,oE:()=>y,Po:()=>m,qv:()=>b,cI:()=>v,g6:()=>g,I4:()=>O,l$:()=>h,Xv:()=>E,k3:()=>P,CQ:()=>S,R8:()=>w,HN:()=>T,sH:()=>R,c7:()=>A,_7:()=>j,eF:()=>_,O6:()=>L,ED:()=>I,RP:()=>D,sF:()=>k,VP:()=>N,He:()=>M,vO:()=>C,WO:()=>Z,bh:()=>Y,pV:()=>V,MK:()=>H,ZF:()=>G,tV:()=>U,Dv:()=>x,Yz:()=>W,kI:()=>z,XG:()=>F,A4:()=>B,Rp:()=>K,$o:()=>J,ct:()=>q,oZ:()=>X,oh:()=>$,$h:()=>Q,ud:()=>ee,Qr:()=>te,LR:()=>ne,nN:()=>re,UG:()=>oe,F5:()=>ie,c9:()=>ae,Jh:()=>ce,Xy:()=>ue});var r="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",i="CHANGE_GROUP_PROPERTIES",a="TOGGLE_NODE",c="SORT_NODE",u="REMOVE_NODE",l="UPDATE_NODE",s="MOVE_NODE",p="LAYER_LOADING",f="LAYER_LOAD",d="LAYER_ERROR",y="ADD_LAYER",m="ADD_GROUP",b="REMOVE_LAYER",v="SHOW_SETTINGS",g="HIDE_SETTINGS",O="UPDATE_SETTINGS",h="REFRESH_LAYERS",E="LAYERS:UPDATE_LAYERS_DIMENSION",P="LAYERS_REFRESHED",S="LAYERS_REFRESH_ERROR",w="LAYERS:BROWSE_DATA",T="LAYERS:DOWNLOAD",R="LAYERS:CLEAR_LAYERS",A="LAYERS:SELECT_NODE",j="LAYERS:FILTER_LAYERS",_="LAYERS:SHOW_LAYER_METADATA",L="LAYERS:HIDE_LAYER_METADATA",I="LAYERS:UPDATE_SETTINGS_PARAMS";function D(e,t,n){return{type:v,node:e,nodeType:t,options:n}}function k(){return{type:g}}function N(e){return{type:O,options:e}}function M(e,t){return{type:r,newProperties:t,layer:e}}function C(e,t){return{type:o,layer:e,params:t}}function Z(e,t){return{type:i,newProperties:t,group:e}}function Y(e,t,n){return{type:a,node:e,nodeType:t,status:!n}}function V(e){return{type:"CONTEXT_NODE",node:e}}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:c,node:e,order:t,sortLayers:n}}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:u,node:e,nodeType:t,removeEmpty:n}}function U(e,t,n){return{type:l,node:e,nodeType:t,options:n}}function x(e,t,n){return{type:s,node:e,groupId:t,index:n}}function W(e){return{type:p,layerId:e}}function z(e,t){return{type:f,layerId:e,error:t}}function F(e,t,n){return{type:d,layerId:e,tilesCount:t,tilesErrorCount:n}}function B(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:y,layer:e,foreground:t}}function K(e,t,n){return{type:m,group:e,parent:t,options:n}}function J(e){return{type:b,layerId:e}}function q(e,t){return{type:r,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function X(e,t){return{type:h,layers:e,options:t}}function $(e){return{type:P,layers:e}}function Q(e,t){return{type:S,layers:e,error:t}}function ee(e,t,n,r){return{type:E,dimension:e,value:t,options:n,layers:r}}function te(e){return{type:w,layer:e}}function ne(e){return{type:T,layer:e}}function re(){return{type:R}}function oe(e,t,n){return{type:A,id:e,nodeType:t,ctrlKey:n}}function ie(e){return{type:j,text:e}}function ae(e,t){return{type:_,metadataRecord:e,maskLoading:t}}function ce(){return{type:L}}function ue(e,t){return{type:I,newParams:e,update:t}}},801550:(e,t,n)=>{"use strict";n.d(t,{pP:()=>r,TR:()=>o,N7:()=>i,mq:()=>a,uv:()=>c,Qy:()=>u,IL:()=>l,Li:()=>s,OW:()=>p,ZO:()=>f,Um:()=>d,TF:()=>y,Ls:()=>m,Ec:()=>b,Eu:()=>v,JJ:()=>g,nZ:()=>O,YD:()=>h,GI:()=>E,Jb:()=>P,Uh:()=>S,e$:()=>w,eh:()=>T,$j:()=>R,bJ:()=>A,Mk:()=>j,xy:()=>_,o6:()=>L,FP:()=>I,Mo:()=>D,sO:()=>k,Px:()=>N,hd:()=>M,Ju:()=>C,BV:()=>Z,SO:()=>Y,H0:()=>V,$X:()=>H,ou:()=>G,NE:()=>U,Lq:()=>x,aN:()=>W});var r="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",a="CHANGE_ZOOM_LVL",c="PAN_TO",u="ZOOM_TO_EXTENT",l="ZOOM_TO_POINT",s="CHANGE_MAP_CRS",p="CHANGE_MAP_SCALES",f="CHANGE_MAP_STYLE",d="CHANGE_ROTATION",y="CREATION_ERROR_LAYER",m="UPDATE_VERSION",b="INIT_MAP",v="RESIZE_MAP",g="CHANGE_MAP_LIMITS",O="SET_MAP_RESOLUTIONS",h="REGISTER_EVENT_LISTENER",E="UNREGISTER_EVENT_LISTENER",P="MOUSE_MOVE",S="MOUSE_OUT",w="MAP:MAP_PLUGIN_LOAD",T="MAP:ORIENTATION",R="MAP:UPDATE_MAP_VIEW",A="MAP:UPDATE_MAP_OPTIONS";function j(e,t,n,r){return{type:w,mapType:t,loading:e,loaded:n,error:r}}function _(e,t,n){return{type:l,pos:e,zoom:t,crs:n}}function L(e,t,n,o,i,a,c,u){return{type:r,center:e,zoom:t,bbox:n,size:o,mapStateSource:i,projection:a,viewerOptions:c,resolution:u}}function I(e,t){return{type:o,point:e,layer:t}}function D(e){return{type:i,pointer:e}}function k(e,t){return{type:a,zoom:e,mapStateSource:t}}function N(e,t,n,r){return{type:u,extent:e,crs:t,maxZoom:n,options:r}}function M(e,t){return{type:f,style:e,mapStateSource:t}}function C(){return{type:v}}function Z(e){var t=e.restrictedExtent,n=e.crs,r=e.minZoom;return{type:g,restrictedExtent:t,crs:n,minZoom:r}}function Y(e){return{type:O,resolutions:e}}var V=function(e,t){return{type:h,eventName:e,toolName:t}},H=function(e,t){return{type:E,eventName:e,toolName:t}},G=function(e){return{type:P,position:e}},U=function(){return{type:S}},x=function(e){return{type:T,orientation:e}},W=function(e){return{type:A,configUpdate:e}}},159979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(124852),o=n.n(r),i=n(352595),a=n(480681),c=n(957557),u=n.n(c),l=n(180307),s=n.n(l);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=["popoverOptions","keyProp"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const O=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(O,t);var n,r,c,l,p=(c=O,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(c);if(l){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function O(){return y(this,O),p.apply(this,arguments)}return n=O,(r=[{key:"render",value:function(){var t=null,n=this.props,r=n.popoverOptions,c=n.keyProp,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,f);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,d({},u()(l,["renderPopover","tooltipId"]),{key:c,ref:function(e){t=e}})),o().createElement(i.Z,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return s().findDOMNode(t)}},o().createElement(a.Popover,r.props,r.content)))}}])&&m(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),O}(o().Component)}},975480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(124852),o=n.n(r);const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{display:"inline-block"}:t;return o().createElement("div",{style:n,className:"mapstore-inline-loader"})}},906724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(124852),o=n.n(r),i=n(867076),a=function(e,t,n){var r=n.maskContainerStyle,a=n.maskStyle,c=n.className,u=n.white;return function(n){return(0,i.nest)((function(n){return o().createElement("div",{className:"ms2-mask-container ".concat(c||""," ").concat(e(n)?"":"ms2-mask-empty"),style:r},n.children,e(n)?o().createElement("div",{className:"ms2-mask"+(u?" white-mask":""),style:a},t(n)):null)}),n)}};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.alwaysWrap,o=void 0===r||r,c=n.white,u=void 0!==c&&c,l=n.maskContainerStyle,s=void 0===l?{}:l,p=n.maskStyle,f=void 0===p?{}:p,d=n.className;return o?a(e,t,{maskContainerStyle:s,maskStyle:f,className:d,white:u}):(0,i.branch)(e,a((function(){return!0}),t,{maskContainerStyle:s,maskStyle:f,white:u}))}},438482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(124852),o=n.n(r),i=n(23279),a=n.n(i),c=n(45697),u=n.n(c),l=n(180307),s=n.n(l),p=n(391033);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,n=e.querySelector,r=e.closest,i=void 0!==r&&r;return function(e){var r;return r=function(r){b(u,r);var c=g(u);function u(e){var r;return d(this,u),P(h(r=c.call(this,e)),"findDomNode",(function(){if(!r.isMounded)return null;var e=s().findDOMNode(h(r));return e&&i&&n?e.closest(n||"*"):e&&(n?e.querySelector(n):e)})),r.width=void 0,r.height=void 0,r.skipOnMount=e.skipOnMount,r.div=null,r.onResize=a()((function(){var e;return(e=r.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),r.ro=new p.Z((function(e){e.forEach((function(e){var t=e.contentRect,n=t.width,o=t.height,i=r.props.handleWidth&&r.width!==n,a=r.props.handleHeight&&r.height!==o;r.skipOnMount||!i&&!a||r.onResize({width:n,height:o}),r.width=n,r.height=o,r.skipOnMount=!1}))})),r}return m(u,[{key:"componentDidMount",value:function(){this.isMounded=!0,this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentDidUpdate",value:function(){this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return o().createElement(e,this.props)}}]),u}(o().Component),P(r,"propTypes",{handleWidth:u().bool,handleHeight:u().bool,onResize:u().func}),P(r,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),r}}},218291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(124852),o=n.n(r);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fallback,a=void 0===n?null:n;return function(t){return(0,r.forwardRef)((function(n,c){return void 0===e||e(n)?o().createElement(r.Suspense,{fallback:a},o().createElement(t,i({ref:c},n))):null}))}}},626325:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Z});var r=n(49977),o=n.n(r),i=n(747037),a=n.n(i),c=n(227361),u=n.n(c),l=n(91175),s=n.n(l),p=n(984596),f=n.n(p),d=n(730381),y=n.n(d),m=n(589919),b=n(801550),v=n(757676),g=n(57604),O=n(580416),h=n(197395),E=n(675110),P=n(997291),S=n(285148),w=n(55237),T=n(496361),R=n(50886);function A(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D="time",k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,P.Li)(e()),r=(0,P.uy)(e()),o=(0,P.Ry)(e()),i=(0,P.F3)(n)(e()),a="end"===(0,P.pW)(e());return[o,r,"time",L(L({limit:1},t),{},{fromEnd:a}),i]},N=function(e,t,n){var r=e();if((0,P.uy)(r)){var i=(0,P.pW)(r);return(0,R.w)(k,!1,e,i,n).map((function(e){return(0,w.Qn)(e.filter((function(e){return!!e})),n,i)||n}))}var a=(0,S.aK)((0,E.CA)(r,t))(r);return o().Observable.of((0,w.Qn)(a,n)||n)},M=function(e){return a()(e)?e:e.toISOString()},C=function(e,t,n){var r=t.domain.split("--"),i=(0,P.YK)(n())||{start:new Date(r[0]),end:new Date(r[1])},a=(0,w.un)(i,20),c=a.range,l=a.resolution,p=(0,E.CA)(n(),e).name,d=(0,P.oo)(n()),y=I({},D,"".concat(M(c.start),"/").concat(M(c.end)));return(0,T.ot)(t.source.url,p,D,I({},D,"".concat(M(c.start),"/").concat(M(c.end))),l,(0,P.F3)(e)(n())).merge((0,T.i8)(t.source.url,p,y,L(L({},(0,P.F3)(e)(n())),{},{expandLimit:d}))).scan((function(e,t){return L(L({},e),t)}),{}).switchMap((function(e){var t,n=e.Histogram,r=e.Domains,i=u()(s()(f()(u()(r,"DimensionDomain")||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Identifier;return t===D}))),"Domain");try{t=n&&n.Values&&n.Values.split(",").map((function(e){return parseInt(e,10)}))||[]}catch(e){t=[]}var a=i&&i.indexOf("--")<0&&i.split(",");return o().Observable.of({range:c,histogram:n&&n.Domain?{values:t,domain:n.Domain}:void 0,domain:i?{values:a}:void 0})}))};const Z={setTimelineCurrentTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(v.qx).throttleTime(100).switchMap((function(e){var t=e.time,n=e.group,i=r();return n?N(r,n,t).switchMap((function(e){var t=(0,P.YK)(i)||{},n=t.start,r=t.end,a=[];if(n&&r&&(y()(e).isBefore(n)||y()(e).isAfter(r))){var c=y()(r).diff(n);a=[(0,v.y3)({start:y()(e).subtract(c/2),end:y()(e).add(c/2)})]}return o().Observable.from([].concat(A(a),[(0,g.yR)(e)]))})).let((0,m.hP)((0,v.aA)(!1,!0),(0,v.aA)(!1,!1))):o().Observable.of((0,g.yR)(t))}))},settingInitialOffsetValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(v.JU).switchMap((function(e){var t=r(),n=(0,S.WT)(t),i=(0,P.YK)(t);if(e.enabled){var a=i||{},c=a.start,u=void 0===c?0:c,l=a.end,s=void 0===l?432e6:l,p=(0,S.ns)(t),f=y()(s).diff(u),d=i?y()(u).add(f/2).toISOString():y()(new Date).toISOString(),m=y()(n||d).add(f/5),b=e.enabled&&!n?o().Observable.of((0,g.yR)(d)):o().Observable.empty(),O=e.enabled&&!p||e.enabled&&y()(p).diff(n)<0?o().Observable.of((0,g.pF)(m.toISOString())):o().Observable.empty(),h=i?o().Observable.empty():o().Observable.of((0,v.y3)({start:y()(d).add(-1*f/2),end:y()(d).add(f/2)}));return b.concat(O).concat(h)}return o().Observable.of((0,g.pF)())}))},updateRangeDataOnRangeChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(v.Lv).merge(e.ofType(b.pP).filter((function(){return(0,P.cX)(r())})),e.ofType(v.w)).debounceTime(400).merge(e.ofType(g.XV).debounceTime(50)).switchMap((function(){var e,t=(0,S.m$)(r())||{},n=Object.keys(t).filter((function(e){return t[e]&&t[e].domain&&(0,w._q)(t[e].domain)||(0,P.cX)(r())}));return(e=o().Observable).merge.apply(e,A(n.map((function(e){return C(e,t[e],r).map((function(t){var n=t.range,r=t.histogram,o=t.domain;return(0,v.cO)(e,n,r,o)})).startWith((0,v.aA)(e,!0)).catch((function(){return o().Observable.of((0,h.error)({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))})).concat(o().Observable.of((0,v.aA)(e,!1)))}))))}))},syncTimelineGuideLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(v.cb).merge(e.ofType(O.sb,O.yS).withLatestFrom(e.ofType(v._V),(function(e,t){var n=t.layerId;return n&&!(0,P.rV)(r()).some((function(e){return e.id===n}))})).filter((function(e){return!!e}))).switchMap((function(){var e=r(),t=u()((0,P.rV)(e),"[0].id");return(0,P.en)(e)&&t?o().Observable.of((0,v.kq)(t)):o().Observable.empty()}))},snapTimeGuideLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(v._V).filter((function(e){return(null==e?void 0:e.layerId)&&(0,P.en)(r())})).switchMap((function(e){var t=e.layerId;return N(r,t,(0,S.WT)(r())||(new Date).toISOString()).filter((function(e){return e})).map((function(e){return(0,g.yR)(e)}))}))}}},180440:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ke});var r=n(91175),o=n.n(r),i=n(747037),a=n.n(i),c=n(730381),u=n.n(c),l=n(727418),s=n.n(l),p=n(124852),f=n.n(p),d=n(480681),y=n(171703),m=n(867076),b=n(22222),v=n(57604),g=n(162187),O=n(757676),h=n(805346),E=n(815135),P=n(438482),S=n(80717),w=n(365295),T=n(285148),R=n(55105),A=n(176843),j=n(997291),_=n(513218),L=n.n(_),I=n(170735),D=n.n(I),k=n(414293),N=n.n(k),M=n(359704),C=n.n(M),Z=n(218291),Y=n(784715),V=n(906724),H=n(975480),G=n(92742),U=n.n(G),x=n(55237);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e,t){return u()(t).diff(e)>0};const K=(0,m.withHandlers)({clickHandler:function(e){var t=e.selectedLayer,n=e.offsetEnabled,r=e.status,o=e.setCurrentTime,i=void 0===o?function(){}:o,a=e.selectGroup,c=void 0===a?function(){}:a;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.time,a=e.group,u=e.what,l=e.event;if("PLAY"!==r)switch(u){case"group-label":a&&"PLAY"!==r&&c(a);break;default:var s=l&&l.target&&l.target.closest(".vis-custom-time"),p=s&&s.getAttribute("class"),f=p&&U()(p.replace("vis-custom-time",""));o&&!n&&"startPlaybackTime"!==f&&"endPlaybackTime"!==f&&i(o.toISOString(),t)}}},timechangedHandler:function(e){var t=e.currentTime,n=e.setOffset,r=void 0===n?function(){}:n,o=e.setCurrentTime,i=void 0===o?function(){}:o,a=e.currentTimeRange,c=void 0===a?{}:a,u=e.playbackRange,l=e.setPlaybackRange,s=void 0===l?function(){}:l,p=e.selectedLayer;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.time,o=e.id;if("startPlaybackTime"!==o&&"endPlaybackTime"!==o)"currentTime"===o&&(c.end?B(n,c.end)?i(n.toISOString(),null):(i(c.end),r(n.toISOString())):i(n.toISOString(),p)),"offsetTime"===o&&(B(t,n)?r(n.toISOString()):(i(n.toISOString()),r(t)));else{var a=z(z({},u),{},F({},o,n.toISOString())),l=(0,x.og)(a.startPlaybackTime,a.endPlaybackTime),f=l.start,d=l.end;B(f,d)&&s({startPlaybackTime:f,endPlaybackTime:d})}}}});function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ee=(0,m.compose)((0,m.withPropsOnChange)(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],(function(e){var t=e.rangeItems,n=void 0===t?[]:t,r=e.playbackEnabled,o=e.playbackRange;return{rangeItems:r&&o&&void 0!==o.startPlaybackTime&&void 0!==o.endPlaybackTime?[].concat($(n),[q(q({id:"playback-range"},(0,x.og)(o.startPlaybackTime,o.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter((function(e){return e})):n}})),(0,m.compose)((0,m.withHandlers)({onUpdate:function(e){var t=e.moveCurrentRange,n=void 0===t?function(){}:t;return function(e){var t=e.id,r=e.start;"current-range"===t&&n(r.toISOString())}}}),(0,m.withPropsOnChange)(["options","onUpdate"],(function(e){var t=e.options,n=void 0===t?{}:t,r=e.onUpdate,o=void 0===r?function(){}:r;return{options:q(q({},n),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;o(e),t(e)}})}})),(0,m.withPropsOnChange)(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],(function(e){var t=e.currentTimeRange,n=e.rangeItems,r=void 0===n?[]:n,o=e.readOnly;return{rangeItems:e.offsetEnabled&&void 0!==t.start&&void 0!==t.end?[].concat($(r),[q(q({id:"current-range",editable:{updateTime:!o,updateGroup:!1,remove:!1}},(0,x.og)(t.start,t.end)),{},{type:"background",className:"ms-current-range"})]).filter((function(e){return e})):r}}))),(0,m.withPropsOnChange)(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],(function(e){var t=e.currentTime,n=e.playbackRange,r=e.playbackEnabled,o=e.offsetEnabled,i=e.currentTimeRange;return{customTimes:[t?{currentTime:t}:{},r&&n&&n.startPlaybackTime&&n.endPlaybackTime?n:{},o&&i?{offsetTime:i.end}:{}].reduce((function(e,t){return t?q(q({},e),t):q({},e)}),{})}})));var te=n(308316);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=(0,Y.o)((function(e,t){return e===t||!N()(e)&&!N()(t)&&e.id===t.id&&e.title===t.title&&e.name===t.name}))(j.rV,(function(e){return e})),ae=(0,m.compose)((0,y.connect)((0,b.P1)(j.YK,j.__,ie,j.E2,te.Pz,(function(e,t,n,r,o){return{viewRange:e,items:t,layers:n,loading:r,currentLocale:o}}))),(0,m.withPropsOnChange)((function(e,t){var n=e.layers,r=void 0===n?[]:n,o=e.loading,i=e.selectedLayer,a=e.currentLocale,c=t.layers,u=t.loading,l=t.selectedLayer,s=t.nextLocale,p=e.hideLayersName!==t.hideLayersName;return o!==u||i!==l||a!==s||p||r&&c&&r.length!==c.length||D()(r,c||[],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.title,r=e.name;return t+n+r})).length>0}),(function(e){var t=e.layers,n=void 0===t?[]:t,r=e.loading,o=void 0===r?{}:r,i=e.selectedLayer,c=e.currentLocale;return{groups:n.map((function(e){var t;return{id:e.id,className:(o[e.id]?"loading":"")+(e.id&&e.id===i?" selected":""),content:'<div class="timeline-layer-label-container">'+(o[e.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(e.id&&e.id===i?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat(L()(e.title)?null!==(t=e.title[c])&&void 0!==t?t:e.title.default:a()(e.title)&&e.title?e.title:e.name,"</div>")+"</div>"}}))}}))),ce=(0,m.compose)((0,y.connect)((0,b.P1)(T.WT,j.m_,(function(e,t){return{currentTime:e,currentTimeRange:t}})),{setCurrentTime:O.HM,moveCurrentRange:v.PZ,setOffset:v.pF})),ue=(0,m.compose)((0,y.connect)((0,b.zB)({playbackRange:A.KC,status:A.dS}),{setPlaybackRange:g.VS})),le=(0,m.compose)((0,y.connect)((0,b.P1)(j.Li,(function(e){return{selectedLayer:e}})),{selectGroup:O.kq})),se=(0,m.compose)((0,y.connect)((function(){return{}}),{rangechangedHandler:O.y3}));const pe=(0,m.compose)(ce,ue,le,K,se,ae,(0,m.defaultProps)({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(e){return u()(e).utc()}}}),(0,m.withPropsOnChange)(["viewRange","options"],(function(e){var t=e.viewRange,n=void 0===t?{}:t;return{options:re(re({},e.options),n)}})),(0,m.withPropsOnChange)(["status"],(function(e){return{readOnly:"PLAY"===e.status}})),(0,m.withPropsOnChange)(["items"],(function(e){var t=e.items,n=e.options,r=C()(t,{className:"interval"});return{options:re(re({},n),r&&{stack:!0})}})),ee,(0,V.Z)((function(e){var t=e.loading;return t&&t.timeline}),(function(){return f().createElement("div",{style:{margin:"auto",fontWeight:"bold"}},f().createElement(H.Z,{style:{display:"inline-block",verticalAlign:"middle"}}),f().createElement(h.Z,{msgId:"loading"}))}),{white:!0}))((0,Z.Z)()((0,p.lazy)((function(){return Promise.all([n.e(94855),n.e(14328)]).then(n.bind(n,790346))}))));var fe=n(49977),de=n.n(fe),ye=n(159979),me=n(38560);function be(){return(be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=(0,m.compose)((0,m.withProps)({collapseHintPopoverOptions:{placement:"top",props:{title:f().createElement("span",null,f().createElement(d.Glyphicon,{glyph:"time"})," ",f().createElement("strong",null,f().createElement(h.Z,{msgId:"timeline.collapsed.title"})))},content:f().createElement(h.Z,{msgId:"timeline.collapsed.tooltip"})}}),(0,m.mapPropsStream)((function(e){return e.combineLatest(function(e){return e.distinctUntilKeyChanged("collapsed").filter((function(e){return e.collapsed})).take(1).switchMap((function(e){var t=e.collapseHintPopoverOptions;return de().Observable.timer(5e3).startWith({popoverOptions:t}).concat(de().Observable.of({}))})).startWith({})}(e),(function(e,t){return ge(ge({},e),t)}))})),(0,m.branch)((function(e){return e.popoverOptions}),ye.Z,E.Z))(me.Z);const Ee=(0,m.compose)((0,y.connect)((0,b.P1)(j.zb,j.qJ,(function(e,t){return{collapsed:e,visible:t}})),{setCollapsed:O.w2}),(0,m.branch)((function(e){return!e.visible}),m.renderNothing),(0,m.withHandlers)({onClick:function(e){var t=e.collapsed,n=e.setCollapsed;return function(){return n(!t)}}}),(0,m.withProps)((function(e){var t=e.collapsed;return{bsStyle:t?"primary":"success",tooltipId:t?"timeline.show":"timeline.hide"}})))((function(e){return f().createElement(he,be({},e,{bsSize:"xsmall"}),f().createElement(d.Glyphicon,{glyph:"time"}))}));var Pe=n(624262),Se=n(532425);function we(){return(we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=(0,E.Z)(me.Z),_e=function(e){return a()(e)&&-1!==e.indexOf("%")},Le=function(e){return parseInt(e,10)/100},Ie=function(e,t){return u()(t).diff(e)>0},De=(0,m.compose)((0,y.connect)((0,b.P1)(j.pn,j.rV,T.WT,j.m_,T.RP,A.KC,A.dS,j.YK,(function(e){var t;return void 0!==(null===(t=e.timeline)||void 0===t?void 0:t.loader)}),(function(e,t,n,r,o,i,a,c,u){return{visible:e,layers:t,currentTime:n,currentTimeRange:r,offsetEnabled:o,playbackRange:i,status:a,viewRange:c,timelineIsReady:u}})),{setCurrentTime:O.HM,onOffsetEnabled:O.PQ,setOffset:v.pF,setPlaybackRange:g.VS,moveRangeTo:O.y3,onInit:O._e}),(0,m.branch)((function(e){var t=e.visible,n=void 0===t||t,r=e.layers,o=void 0===r?[]:r;return!n||0===Object.keys(o).length}),m.renderNothing),(0,m.withState)("options","setOptions",(function(e){return{collapsed:!e.expandedPanel}})),(0,y.connect)((0,b.P1)(j.cX,(function(e){return{mapSync:e}})),{toggleMapSync:O.Z7}),(0,m.compose)((0,m.compose)((0,m.withStateHandlers)((function(){return{}}),{onResize:function(){return function(e){return{containerWidth:e.width}}}}),(0,P.Z)({querySelector:".ms2",closest:!0,debounceTime:100})),(0,m.defaultProps)({showHiddenLayers:!1,expandLimit:20,snapType:"start",endValuesSupport:void 0,style:{marginBottom:35,marginLeft:100,marginRight:80}}),(0,y.connect)((0,b.P1)((function(e){return(0,R.ic)(e,{right:!0,bottom:!0,left:!0})}),(function(e){return{mapLayoutStyle:e}}))),(0,m.withProps)((function(e){var t=e.containerWidth,n=e.style,r=e.mapLayoutStyle,o=n||{},i=o.marginLeft,a=o.marginRight,c=r.left,u=void 0===c?0:c,l=r.right,s=void 0===l?0:l;if(s=_e(s)&&Le(s)*t||s,u=_e(u)&&Le(u)*t||u,t){var p=t-s-u-i-a;return{hide:p<410,compactToolbar:p<880,style:Re(Re(Re({},n),r),{},{minWidth:410})}}return{style:Re(Re(Re({},n),r),{},{minWidth:410})}})),(0,m.branch)((function(e){return e.hide}),m.renderNothing),(0,m.setDisplayName)("TimelinePlugin")))((function(e){var t=e.items,n=e.options,r=e.setOptions,i=e.mapSync,a=e.toggleMapSync,c=void 0===a?function(){}:a,l=e.currentTime,s=e.setCurrentTime,y=e.offsetEnabled,m=e.onOffsetEnabled,b=e.currentTimeRange,v=e.setOffset,g=e.style,O=e.status,E=e.viewRange,P=e.moveRangeTo,T=e.compactToolbar,R=e.showHiddenLayers,A=e.expandLimit,j=e.snapType,_=e.endValuesSupport,L=e.onInit,I=void 0===L?function(){}:L,D=e.layers,k=e.timelineIsReady;(0,p.useEffect)((function(){I(R,A,j,_)}),[I]);var N=n.hideLayersName,M=n.collapsed,C=o()(t&&t.filter((function(e){return"playback"===e.name}))),Z=C&&C.plugin,Y=function(e,t,n,r){var o=u()(n.end).diff(n.start)/2;if("time-current"===t&&n&&n.start.toString()!==u()(e).add(-1*o).toString()&&n.end.toString()!==u()(e).add(o).toString()&&P({start:u()(e).add(-1*o),end:u()(e).add(o)}),"range-start"===t||"range-end"===t){var i=u()(r.end).diff(r.start),a=u()(r.start).add(i/2);P(i/2<=o?{start:u()(a).add(-1*o),end:u()(a).add(o)}:{start:u()(a).add(-1*i*5/2),end:u()(a).add(5*i/2)})}};return f().createElement("div",{style:Re(Re({position:"absolute",marginBottom:35,marginLeft:100},g),{},{right:M?"auto":g.right||0}),className:"timeline-plugin".concat(N?" hide-layers-name":"").concat(y?" with-time-offset":""," ").concat((0,Pe.ab)(D)?"":"hidden")},y&&f().createElement(w.Z,{clickable:!M,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==O&&Y(e,t,E,b)},tooltip:f().createElement(h.Z,{msgId:"timeline.rangeStart"}),showButtons:!0,date:l||b&&b.start,onUpdate:function(e){return(b&&Ie(e,b.end)||!b)&&"PLAY"!==O&&s(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),f().createElement("div",{className:"timeline-plugin-toolbar".concat(T?" ms-collapsed":"")},y&&b?f().createElement(w.Z,{clickable:!M,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==O&&Y(e,t,E,b)},tooltip:f().createElement(h.Z,{msgId:"timeline.rangeEnd"}),date:b.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==O&&Ie(l,e)&&v(e)}}):f().createElement(w.Z,{clickable:!M,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==O&&Y(e,t,E)},tooltip:f().createElement(h.Z,{msgId:"timeline.currentTime"}),date:l||b&&b.start,onUpdate:function(e){return(b&&Ie(e,b.end)||!b)&&"PLAY"!==O&&s(e)}}),f().createElement("div",{className:"timeline-plugin-btn-group"},f().createElement(S.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:f().createElement(h.Z,{msgId:N?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:N?"primary":"success",visible:!M,active:!N,onClick:function(){return r(Re(Re({},n),{},{hideLayersName:!N}))}},{glyph:"time-offset",bsStyle:y?"success":"primary",active:y,disabled:"PLAY"===O,tooltip:f().createElement(h.Z,{msgId:y?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==O&&m(!y)}},{glyph:"map-synch",tooltip:f().createElement(h.Z,{msgId:i?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:i?"success":"primary",active:i,onClick:function(){return c(!i)}}]}),Z&&f().createElement(Z,we({},C,{settingsStyle:{right:M||T?40:"unset"}}))),f().createElement(je,{onClick:function(){return r(Re(Re({},n),{},{collapsed:!M}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:f().createElement(h.Z,{msgId:M?"timeline.expand":"timeline.collapse"})},f().createElement(d.Glyphicon,{glyph:M?"chevron-up":"chevron-down"}))),!k&&f().createElement("div",{className:"timeline-loader"},f().createElement(Se.Z,{size:50})),!M&&f().createElement(pe,{offsetEnabled:y,playbackEnabled:!0,hideLayersName:N,timelineLayers:D}))}));const ke={TimelinePlugin:s()(De,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:f().createElement(Ee,null),position:0}}),reducers:{dimension:n(937307).Z,timeline:n(455545).Z},epics:n(626325).ZP}},455545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(580416),o=n(782904),i=n(757676),a=n(881808),c=n(162187),u=n(761868),l=n(328583),s=n.n(l),p=n(535937),f=n.n(p),d=n(218721),y=n.n(d);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1,snapType:"start",snapRadioButtonEnabled:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.M5:return(0,u.t8)("settings.collapsed",t.collapsed,e);case i.w:return(0,u.t8)("settings.mapSync",t.mapSync,e);case i.lz:return(0,u.t8)("settings.snapType",t.snapType,e);case i.Wb:return(0,u.t8)("settings.endValuesSupport",t.endValuesSupport,e);case i.Lv:return(0,u.t8)("range",{start:t.start,end:t.end},e);case i.iv:return(0,u.t8)("rangeData[".concat(t.layerId,"]"),{range:t.range,histogram:t.histogram,domain:t.domain},e);case i.br:return t.layerId?(0,u.t8)("loading[".concat(t.layerId,"]"),t.loading,e):(0,u.t8)("loading.timeline",t.loading,e);case i._V:var n=e;return n=(0,u.t8)("selectedLayer",t.layerId,n),(0,u.t8)("settings",b(b({},n.settings),{},{snapType:"start",snapRadioButtonEnabled:!1}),n);case c.AN:return(0,u.t8)("settings.snapRadioButtonEnabled",t.timeIntervalData,e);case i.Xe:return(0,u.t8)("selectedLayer",t.layerId,e);case r.sb:var l=e;return s()({},e,{rangeData:y()(l.rangeData,t.node)?f()(l.rangeData,(function(e,n){return n!==t.node})):l.rangeData,loading:y()(l.rangeData,t.node)?f()(l.loading,(function(e,n){return n!==t.node})):l.loading,selectedLayer:e.selectedLayer===t.node?void 0:e.selectedLayer});case o.l:return s()({},e,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0});case i.p:var p,d,m=null==e||null===(p=e.settings)||void 0===p?void 0:p.endValuesSupport,v=null==e||null===(d=e.settings)||void 0===d?void 0:d.snapRadioButtonEnabled;return(0,u.t8)("settings",b(b({},e.settings),{},{showHiddenLayers:t.showHiddenLayers,expandLimit:t.expandLimit,snapType:t.snapType,endValuesSupport:void 0!==m?m:t.endValuesSupport,snapRadioButtonEnabled:void 0!==v?v:t.snapRadioButtonEnabled}),e);case a.ok:var g,O,h,E,P=b(b({},e),{},{settings:b(b({},e.settings),{},{endValuesSupport:null==t||null===(g=t.config)||void 0===g||null===(O=g.timelineData)||void 0===O?void 0:O.endValuesSupport,snapRadioButtonEnabled:null==t||null===(h=t.config)||void 0===h||null===(E=h.timelineData)||void 0===E?void 0:E.snapRadioButtonEnabled})});return P;default:return e}}},55105:(e,t,n)=>{"use strict";n.d(t,{Ss:()=>d,Nr:()=>y,ic:()=>b,Jz:()=>v,VM:()=>g,CF:()=>O,Ju:()=>h});var r=n(91175),o=n.n(r),i=n(288306),a=n.n(i),c=n(800827),u=n(552259),l=n(737275);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){return e.maplayout&&e.maplayout.layout||{}},y=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},m=function(e){return e.maplayout&&e.maplayout.boundingSidebarRect||{}},b=a()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(e),o=m(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){var i;return p(p({},e),{},f({},t,n&&null!==(i=o[t])&&void 0!==i?i:r[t]))}),{})||{}}),(function(e,t,n){return JSON.stringify(d(e))+JSON.stringify(m(e))+JSON.stringify(t)+(n?"_isDock":"")})),v=function(e){var t;return!(null===(t=d(e))||void 0===t||!t.rightPanel)},g=function(e){var t,n=l.ZP.getConfigProp("mapLayout")||u.DEFAULT_MAP_LAYOUT;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=d(e);return!!o()(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})))}(e,[{key:"bottom",value:null!==(t=null==n?void 0:n.bottom.sm)&&void 0!==t?t:0,type:"not"}])},O=function(e){var t=(0,c.Od)(e),n=y(e);return n&&t&&t.size&&{left:(0,u.parseLayoutValue)(n.left,t.size.width),bottom:(0,u.parseLayoutValue)(n.bottom,t.size.height),right:(0,u.parseLayoutValue)(n.right,t.size.width),top:(0,u.parseLayoutValue)(n.top,t.size.height)}},h=function(e){var t,n;return null!==(t=null==e||null===(n=e.maplayout)||void 0===n?void 0:n.dockPanels)&&void 0!==t?t:{left:[],right:[]}}}}]);